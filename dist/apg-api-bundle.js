!function e(t,r,n){function s(i,a){if(!r[i]){if(!t[i]){var l="function"==typeof require&&require;if(!a&&l)return l(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var p=r[i]={exports:{}};t[i][0].call(p.exports,(function(e){return s(t[i][1][e]||e)}),p,p.exports,e,t,r,n)}return r[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)s(n[i]);return s}({1:[function(e,t,r){t.exports=function(e,t,r){if(e.filter)return e.filter(t,r);if(null==e)throw new TypeError;if("function"!=typeof t)throw new TypeError;for(var s=[],o=0;o<e.length;o++)if(n.call(e,o)){var i=e[o];t.call(r,i,o,e)&&s.push(i)}return s};var n=Object.prototype.hasOwnProperty},{}],2:[function(e,t,r){(function(r){(function(){"use strict";var n=e("array-filter");t.exports=function(){return n(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],(function(e){return"function"==typeof r[e]}))}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"array-filter":1}],3:[function(e,t,r){"use strict";r.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){var t,r,n=c(e),i=n[0],a=n[1],l=new o(function(e,t,r){return 3*(t+r)/4-r}(0,i,a)),p=0,u=a>0?i-4:i;for(r=0;r<u;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],l[p++]=t>>16&255,l[p++]=t>>8&255,l[p++]=255&t;2===a&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,l[p++]=255&t);1===a&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,l[p++]=t>>8&255,l[p++]=255&t);return l},r.fromByteArray=function(e){for(var t,r=e.length,s=r%3,o=[],i=16383,a=0,l=r-s;a<l;a+=i)o.push(p(e,a,a+i>l?l:a+i));1===s?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===s&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],s=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=i.length;a<l;++a)n[a]=i[a],s[i.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function p(e,t,r){for(var s,o,i=[],a=t;a<r;a+=3)s=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(n[(o=s)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return i.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},{}],4:[function(e,t,r){(function(t){(function(){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var t=e("base64-js"),n=e("ieee754");r.Buffer=i,r.SlowBuffer=function(e){+e!=e&&(e=0);return i.alloc(+e)},r.INSPECT_MAX_BYTES=50;var s=2147483647;function o(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=i.prototype,t}function i(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|h(e,t),n=o(r),s=n.write(e,t);s!==r&&(n=n.slice(0,s));return n}(e,t);if(ArrayBuffer.isView(e))return p(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(j(e,ArrayBuffer)||e&&j(e.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return n.__proto__=i.prototype,n}(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return i.from(n,t,r);var s=function(e){if(i.isBuffer(e)){var t=0|u(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||F(e.length)?o(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),o(e<0?0:0|u(e))}function p(e){for(var t=e.length<0?0:0|u(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function u(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function h(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||j(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var s=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return I(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(e).length;default:if(s)return n?-1:I(e).length;t=(""+t).toLowerCase(),s=!0}}function d(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function f(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,s){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),F(r=+r)&&(r=s?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(s)return-1;r=e.length-1}else if(r<0){if(!s)return-1;r=0}if("string"==typeof t&&(t=i.from(t,n)),i.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,s);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,s);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,s){var o,i=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;i=2,a/=2,l/=2,r/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(s){var p=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===p?0:o-p)){if(-1===p&&(p=o),o-p+1===l)return p*i}else-1!==p&&(o-=o-p),p=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){for(var u=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){u=!1;break}if(u)return o}return-1}function m(e,t,r,n){r=Number(r)||0;var s=e.length-r;n?(n=Number(n))>s&&(n=s):n=s;var o=t.length;n>o/2&&(n=o/2);for(var i=0;i<n;++i){var a=parseInt(t.substr(2*i,2),16);if(F(a))return i;e[r+i]=a}return i}function y(e,t,r,n){return U(I(t,e.length-r),e,r,n)}function A(e,t,r,n){return U(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function T(e,t,r,n){return A(e,t,r,n)}function E(e,t,r,n){return U(H(t),e,r,n)}function w(e,t,r,n){return U(function(e,t){for(var r,n,s,o=[],i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,s=r%256,o.push(s),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],s=t;s<r;){var o,i,a,l,c=e[s],p=null,u=c>239?4:c>223?3:c>191?2:1;if(s+u<=r)switch(u){case 1:c<128&&(p=c);break;case 2:128==(192&(o=e[s+1]))&&(l=(31&c)<<6|63&o)>127&&(p=l);break;case 3:o=e[s+1],i=e[s+2],128==(192&o)&&128==(192&i)&&(l=(15&c)<<12|(63&o)<<6|63&i)>2047&&(l<55296||l>57343)&&(p=l);break;case 4:o=e[s+1],i=e[s+2],a=e[s+3],128==(192&o)&&128==(192&i)&&128==(192&a)&&(l=(15&c)<<18|(63&o)<<12|(63&i)<<6|63&a)>65535&&l<1114112&&(p=l)}null===p?(p=65533,u=1):p>65535&&(p-=65536,n.push(p>>>10&1023|55296),p=56320|1023&p),n.push(p),s+=u}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=C));return r}(n)}r.kMaxLength=s,i.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(e,t,r){return a(e,t,r)},i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,i.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},i.allocUnsafe=function(e){return c(e)},i.allocUnsafeSlow=function(e){return c(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(j(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),j(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,s=0,o=Math.min(r,n);s<o;++s)if(e[s]!==t[s]){r=e[s],n=t[s];break}return r<n?-1:n<r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=i.allocUnsafe(t),s=0;for(r=0;r<e.length;++r){var o=e[r];if(j(o,Uint8Array)&&(o=i.from(o)),!i.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,s),s+=o.length}return n},i.byteLength=h,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):d.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},i.prototype.compare=function(e,t,r,n,s){if(j(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===s&&(s=this.length),t<0||r>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=r)return 0;if(n>=s)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(s>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),l=Math.min(o,a),c=this.slice(n,s),p=e.slice(t,r),u=0;u<l;++u)if(c[u]!==p[u]){o=c[u],a=p[u];break}return o<a?-1:a<o?1:0},i.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},i.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},i.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},i.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var s=this.length-t;if((void 0===r||r>s)&&(r=s),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return m(this,e,t,r);case"utf8":case"utf-8":return y(this,e,t,r);case"ascii":return A(this,e,t,r);case"latin1":case"binary":return T(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function k(e,t,r){var n="";r=Math.min(e.length,r);for(var s=t;s<r;++s)n+=String.fromCharCode(127&e[s]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var s=t;s<r;++s)n+=String.fromCharCode(e[s]);return n}function O(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var s="",o=t;o<r;++o)s+=D(e[o]);return s}function L(e,t,r){for(var n=e.slice(t,r),s="",o=0;o<n.length;o+=2)s+=String.fromCharCode(n[o]+256*n[o+1]);return s}function v(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,n,s,o){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function R(e,t,r,n,s,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,s,o){return t=+t,r>>>=0,o||R(e,0,r,4),n.write(e,t,r,s,23,4),r+4}function P(e,t,r,s,o){return t=+t,r>>>=0,o||R(e,0,r,8),n.write(e,t,r,s,52,8),r+8}i.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=i.prototype,n},i.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n},i.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n},i.prototype.readUInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n>=(s*=128)&&(n-=Math.pow(2,8*t)),n},i.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return o>=(s*=128)&&(o-=Math.pow(2,8*t)),o},i.prototype.readInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||v(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(e,t){e>>>=0,t||v(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return e>>>=0,t||v(e,4,this.length),n.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||v(e,4,this.length),n.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||v(e,8,this.length),n.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||v(e,8,this.length),n.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||B(this,e,t,r,Math.pow(2,8*r)-1,0);var s=1,o=0;for(this[t]=255&e;++o<r&&(s*=256);)this[t+o]=e/s&255;return t+r},i.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||B(this,e,t,r,Math.pow(2,8*r)-1,0);var s=r-1,o=1;for(this[t+s]=255&e;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+r},i.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var s=Math.pow(2,8*r-1);B(this,e,t,r,s-1,-s)}var o=0,i=1,a=0;for(this[t]=255&e;++o<r&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+r},i.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var s=Math.pow(2,8*r-1);B(this,e,t,r,s-1,-s)}var o=r-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+r},i.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},i.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},i.prototype.writeDoubleLE=function(e,t,r){return P(this,e,t,!0,r)},i.prototype.writeDoubleBE=function(e,t,r){return P(this,e,t,!1,r)},i.prototype.copy=function(e,t,r,n){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var s=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=s-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return s},i.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var s=e.charCodeAt(0);("utf8"===n&&s<128||"latin1"===n)&&(e=s)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=i.isBuffer(e)?e:i.from(e,n),l=a.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%l]}return this};var _=/[^+/0-9A-Za-z-_]/g;function D(e){return e<16?"0"+e.toString(16):e.toString(16)}function I(e,t){var r;t=t||1/0;for(var n=e.length,s=null,o=[],i=0;i<n;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!s){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(i+1===n){(t-=3)>-1&&o.push(239,191,189);continue}s=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),s=r;continue}r=65536+(s-55296<<10|r-56320)}else s&&(t-=3)>-1&&o.push(239,191,189);if(s=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function H(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(_,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,n){for(var s=0;s<n&&!(s+r>=t.length||s>=e.length);++s)t[s+r]=e[s];return s}function j(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function F(e){return e!=e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":3,buffer:4,ieee754:15}],5:[function(e,t,r){"use strict";var n=e("get-intrinsic"),s=e("./"),o=s(n("String.prototype.indexOf"));t.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?s(r):r}},{"./":6,"get-intrinsic":11}],6:[function(e,t,r){"use strict";var n=e("function-bind"),s=e("get-intrinsic"),o=s("%Function.prototype.apply%"),i=s("%Function.prototype.call%"),a=s("%Reflect.apply%",!0)||n.call(i,o),l=s("%Object.getOwnPropertyDescriptor%",!0),c=s("%Object.defineProperty%",!0),p=s("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}t.exports=function(e){var t=a(n,i,arguments);if(l&&c){var r=l(t,"length");r.configurable&&c(t,"length",{value:1+p(0,e.length-(arguments.length-1))})}return t};var u=function(){return a(n,o,arguments)};c?c(t.exports,"apply",{value:u}):t.exports.apply=u},{"function-bind":10,"get-intrinsic":11}],7:[function(e,t,r){"use strict";var n=e("get-intrinsic")("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}t.exports=n},{"get-intrinsic":11}],8:[function(e,t,r){var n=Object.prototype.hasOwnProperty,s=Object.prototype.toString;t.exports=function(e,t,r){if("[object Function]"!==s.call(t))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var i=0;i<o;i++)t.call(r,e[i],i,e);else for(var a in e)n.call(e,a)&&t.call(r,e[a],a,e)}},{}],9:[function(e,t,r){"use strict";var n="Function.prototype.bind called on incompatible ",s=Array.prototype.slice,o=Object.prototype.toString,i="[object Function]";t.exports=function(e){var t=this;if("function"!=typeof t||o.call(t)!==i)throw new TypeError(n+t);for(var r,a=s.call(arguments,1),l=function(){if(this instanceof r){var n=t.apply(this,a.concat(s.call(arguments)));return Object(n)===n?n:this}return t.apply(e,a.concat(s.call(arguments)))},c=Math.max(0,t.length-a.length),p=[],u=0;u<c;u++)p.push("$"+u);if(r=Function("binder","return function ("+p.join(",")+"){ return binder.apply(this,arguments); }")(l),t.prototype){var h=function(){};h.prototype=t.prototype,r.prototype=new h,h.prototype=null}return r}},{}],10:[function(e,t,r){"use strict";var n=e("./implementation");t.exports=Function.prototype.bind||n},{"./implementation":9}],11:[function(e,t,r){"use strict";var n,s=SyntaxError,o=Function,i=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new i},p=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,u=e("has-symbols")(),h=Object.getPrototypeOf||function(e){return e.__proto__},d={},f="undefined"==typeof Uint8Array?n:h(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":u?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?h(""[Symbol.iterator]()):n,"%Symbol%":u?Symbol:n,"%SyntaxError%":s,"%ThrowTypeError%":p,"%TypedArray%":f,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},b=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var s=e("%AsyncGenerator%");s&&(r=h(s.prototype))}return g[t]=r,r},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=e("function-bind"),A=e("has"),T=y.call(Function.call,Array.prototype.concat),E=y.call(Function.apply,Array.prototype.splice),w=y.call(Function.call,String.prototype.replace),x=y.call(Function.call,String.prototype.slice),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,k=function(e){var t=x(e,0,1),r=x(e,-1);if("%"===t&&"%"!==r)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var n=[];return w(e,S,(function(e,t,r,s){n[n.length]=r?w(s,C,"$1"):t||e})),n},M=function(e,t){var r,n=e;if(A(m,n)&&(n="%"+(r=m[n])[0]+"%"),A(g,n)){var o=g[n];if(o===d&&(o=b(n)),void 0===o&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new s("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');var r=k(e),n=r.length>0?r[0]:"",o=M("%"+n+"%",t),a=o.name,c=o.value,p=!1,u=o.alias;u&&(n=u[0],E(r,T([0,1],u)));for(var h=1,d=!0;h<r.length;h+=1){var f=r[h],b=x(f,0,1),m=x(f,-1);if(('"'===b||"'"===b||"`"===b||'"'===m||"'"===m||"`"===m)&&b!==m)throw new s("property names with quotes must have matching quotes");if("constructor"!==f&&d||(p=!0),A(g,a="%"+(n+="."+f)+"%"))c=g[a];else if(null!=c){if(!(f in c)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=r.length){var y=l(c,f);c=(d=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[f]}else d=A(c,f),c=c[f];d&&!p&&(g[a]=c)}}return c}},{"function-bind":10,has:14,"has-symbols":12}],12:[function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,s=e("./shams");t.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&s())))}},{"./shams":13}],13:[function(e,t,r){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(42!==s.value||!0!==s.enumerable)return!1}return!0}},{}],14:[function(e,t,r){"use strict";var n=e("function-bind");t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":10}],15:[function(e,t,r){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
r.read=function(e,t,r,n,s){var o,i,a=8*s-n-1,l=(1<<a)-1,c=l>>1,p=-7,u=r?s-1:0,h=r?-1:1,d=e[t+u];for(u+=h,o=d&(1<<-p)-1,d>>=-p,p+=a;p>0;o=256*o+e[t+u],u+=h,p-=8);for(i=o&(1<<-p)-1,o>>=-p,p+=n;p>0;i=256*i+e[t+u],u+=h,p-=8);if(0===o)o=1-c;else{if(o===l)return i?NaN:1/0*(d?-1:1);i+=Math.pow(2,n),o-=c}return(d?-1:1)*i*Math.pow(2,o-n)},r.write=function(e,t,r,n,s,o){var i,a,l,c=8*o-s-1,p=(1<<c)-1,u=p>>1,h=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,i=p):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),(t+=i+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(i++,l/=2),i+u>=p?(a=0,i=p):i+u>=1?(a=(t*l-1)*Math.pow(2,s),i+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,s),i=0));s>=8;e[r+d]=255&a,d+=f,a/=256,s-=8);for(i=i<<s|a,c+=s;c>0;e[r+d]=255&i,d+=f,i/=256,c-=8);e[r+d-f]|=128*g}},{}],16:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},{}],17:[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,s=e("call-bind/callBound")("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===s(e)},i=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==s(e)&&"[object Function]"===s(e.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=i,t.exports=a?o:i},{"call-bind/callBound":5}],18:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],19:[function(e,t,r){"use strict";var n=Object.prototype.toString,s=Function.prototype.toString,o=/^\s*(?:function)?\*/,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,a=Object.getPrototypeOf,l=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch(e){}}(),c=!(!a||!l)&&a(l);t.exports=function(e){return"function"==typeof e&&(!!o.test(s.call(e))||(i?a&&a(e)===c:"[object GeneratorFunction]"===n.call(e)))}},{}],20:[function(e,t,r){(function(r){(function(){"use strict";var n=e("foreach"),s=e("available-typed-arrays"),o=e("call-bind/callBound"),i=o("Object.prototype.toString"),a=e("has-symbols")()&&"symbol"==typeof Symbol.toStringTag,l=s(),c=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},p=o("String.prototype.slice"),u={},h=e("es-abstract/helpers/getOwnPropertyDescriptor"),d=Object.getPrototypeOf;a&&h&&d&&n(l,(function(e){var t=new r[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=d(t),s=h(n,Symbol.toStringTag);if(!s){var o=d(n);s=h(o,Symbol.toStringTag)}u[e]=s.get}));t.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!a){var t=p(i(e),8,-1);return c(l,t)>-1}return!!h&&function(e){var t=!1;return n(u,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":2,"call-bind/callBound":5,"es-abstract/helpers/getOwnPropertyDescriptor":7,foreach:8,"has-symbols":12}],21:[function(e,t,r){var n,s,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{s="function"==typeof clearTimeout?clearTimeout:a}catch(e){s=a}}();var c,p=[],u=!1,h=-1;function d(){u&&c&&(u=!1,c.length?p=c.concat(p):h=-1,p.length&&f())}function f(){if(!u){var e=l(d);u=!0;for(var t=p.length;t;){for(c=p,p=[];++h<t;)c&&c[h].run();h=-1,t=p.length}c=null,u=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function b(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new g(e,t)),1!==p.length||u||l(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],22:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],23:[function(e,t,r){"use strict";var n=e("is-arguments"),s=e("is-generator-function"),o=e("which-typed-array"),i=e("is-typed-array");function a(e){return e.call.bind(e)}var l="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,p=a(Object.prototype.toString),u=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(l)var f=a(BigInt.prototype.valueOf);if(c)var g=a(Symbol.prototype.valueOf);function b(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function m(e){return"[object Map]"===p(e)}function y(e){return"[object Set]"===p(e)}function A(e){return"[object WeakMap]"===p(e)}function T(e){return"[object WeakSet]"===p(e)}function E(e){return"[object ArrayBuffer]"===p(e)}function w(e){return"undefined"!=typeof ArrayBuffer&&(E.working?E(e):e instanceof ArrayBuffer)}function x(e){return"[object DataView]"===p(e)}function S(e){return"undefined"!=typeof DataView&&(x.working?x(e):e instanceof DataView)}function C(e){return"[object SharedArrayBuffer]"===p(e)}function k(e){return"undefined"!=typeof SharedArrayBuffer&&(C.working?C(e):e instanceof SharedArrayBuffer)}function M(e){return b(e,u)}function O(e){return b(e,h)}function L(e){return b(e,d)}function v(e){return l&&b(e,f)}function B(e){return c&&b(e,g)}r.isArgumentsObject=n,r.isGeneratorFunction=s,r.isTypedArray=i,r.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},r.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):i(e)||S(e)},r.isUint8Array=function(e){return"Uint8Array"===o(e)},r.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},r.isUint16Array=function(e){return"Uint16Array"===o(e)},r.isUint32Array=function(e){return"Uint32Array"===o(e)},r.isInt8Array=function(e){return"Int8Array"===o(e)},r.isInt16Array=function(e){return"Int16Array"===o(e)},r.isInt32Array=function(e){return"Int32Array"===o(e)},r.isFloat32Array=function(e){return"Float32Array"===o(e)},r.isFloat64Array=function(e){return"Float64Array"===o(e)},r.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},r.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},m.working="undefined"!=typeof Map&&m(new Map),r.isMap=function(e){return"undefined"!=typeof Map&&(m.working?m(e):e instanceof Map)},y.working="undefined"!=typeof Set&&y(new Set),r.isSet=function(e){return"undefined"!=typeof Set&&(y.working?y(e):e instanceof Set)},A.working="undefined"!=typeof WeakMap&&A(new WeakMap),r.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(A.working?A(e):e instanceof WeakMap)},T.working="undefined"!=typeof WeakSet&&T(new WeakSet),r.isWeakSet=function(e){return T(e)},E.working="undefined"!=typeof ArrayBuffer&&E(new ArrayBuffer),r.isArrayBuffer=w,x.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&x(new DataView(new ArrayBuffer(1),0,1)),r.isDataView=S,C.working="undefined"!=typeof SharedArrayBuffer&&C(new SharedArrayBuffer),r.isSharedArrayBuffer=k,r.isAsyncFunction=function(e){return"[object AsyncFunction]"===p(e)},r.isMapIterator=function(e){return"[object Map Iterator]"===p(e)},r.isSetIterator=function(e){return"[object Set Iterator]"===p(e)},r.isGeneratorObject=function(e){return"[object Generator]"===p(e)},r.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===p(e)},r.isNumberObject=M,r.isStringObject=O,r.isBooleanObject=L,r.isBigIntObject=v,r.isSymbolObject=B,r.isBoxedPrimitive=function(e){return M(e)||O(e)||L(e)||v(e)||B(e)},r.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(w(e)||k(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(r,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},{"is-arguments":17,"is-generator-function":19,"is-typed-array":20,"which-typed-array":25}],24:[function(e,t,r){(function(t){(function(){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},s=/%[sdj%]/g;r.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(l(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,i=String(e).replace(s,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),a=n[r];r<o;a=n[++r])b(a)||!E(a)?i+=" "+a:i+=" "+l(a);return i},r.deprecate=function(e,n){if(void 0!==t&&!0===t.noDeprecation)return e;if(void 0===t)return function(){return r.deprecate(e,n).apply(this,arguments)};var s=!1;return function(){if(!s){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),s=!0}return e.apply(this,arguments)}};var o={},i=/^$/;if(t.env.NODE_DEBUG){var a=t.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+a+"$","i")}function l(e,t){var n={seen:[],stylize:p};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(t)?n.showHidden=t:t&&r._extend(n,t),A(n.showHidden)&&(n.showHidden=!1),A(n.depth)&&(n.depth=2),A(n.colors)&&(n.colors=!1),A(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),u(n,e,n.depth)}function c(e,t){var r=l.styles[t];return r?"["+l.colors[r][0]+"m"+e+"["+l.colors[r][1]+"m":e}function p(e,t){return e}function u(e,t,n){if(e.customInspect&&t&&S(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var s=t.inspect(n,e);return y(s)||(s=u(e,s,n)),s}var o=function(e,t){if(A(t))return e.stylize("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}(e,t);if(o)return o;var i=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),x(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return h(t);if(0===i.length){if(S(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(T(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(x(t))return h(t)}var c,p="",E=!1,C=["{","}"];(f(t)&&(E=!0,C=["[","]"]),S(t))&&(p=" [Function"+(t.name?": "+t.name:"")+"]");return T(t)&&(p=" "+RegExp.prototype.toString.call(t)),w(t)&&(p=" "+Date.prototype.toUTCString.call(t)),x(t)&&(p=" "+h(t)),0!==i.length||E&&0!=t.length?n<0?T(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=E?function(e,t,r,n,s){for(var o=[],i=0,a=t.length;i<a;++i)L(t,String(i))?o.push(d(e,t,r,n,String(i),!0)):o.push("");return s.forEach((function(s){s.match(/^\d+$/)||o.push(d(e,t,r,n,s,!0))})),o}(e,t,n,a,i):i.map((function(r){return d(e,t,n,a,r,E)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,p,C)):C[0]+p+C[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,s,o){var i,a,l;if((l=Object.getOwnPropertyDescriptor(t,s)||{value:t[s]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),L(n,s)||(i="["+s+"]"),a||(e.seen.indexOf(l.value)<0?(a=b(r)?u(e,l.value,null):u(e,l.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),A(i)){if(o&&s.match(/^\d+$/))return a;(i=JSON.stringify(""+s)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+a}function f(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function b(e){return null===e}function m(e){return"number"==typeof e}function y(e){return"string"==typeof e}function A(e){return void 0===e}function T(e){return E(e)&&"[object RegExp]"===C(e)}function E(e){return"object"==typeof e&&null!==e}function w(e){return E(e)&&"[object Date]"===C(e)}function x(e){return E(e)&&("[object Error]"===C(e)||e instanceof Error)}function S(e){return"function"==typeof e}function C(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(e=e.toUpperCase(),!o[e])if(i.test(e)){var n=t.pid;o[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else o[e]=function(){};return o[e]},r.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.types=e("./support/types"),r.isArray=f,r.isBoolean=g,r.isNull=b,r.isNullOrUndefined=function(e){return null==e},r.isNumber=m,r.isString=y,r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=A,r.isRegExp=T,r.types.isRegExp=T,r.isObject=E,r.isDate=w,r.types.isDate=w,r.isError=x,r.types.isNativeError=x,r.isFunction=S,r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e("./support/isBuffer");var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var e=new Date,t=[k(e.getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":");return[e.getDate(),M[e.getMonth()],t].join(" ")}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){console.log("%s - %s",O(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var v="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function B(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}r.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(v&&e[v]){var t;if("function"!=typeof(t=e[v]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,v,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),s=[],o=0;o<arguments.length;o++)s.push(arguments[o]);s.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,s)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),v&&Object.defineProperty(t,v,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},r.promisify.custom=v,r.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var s=r.pop();if("function"!=typeof s)throw new TypeError("The last argument must be of type Function");var o=this,i=function(){return s.apply(o,arguments)};e.apply(this,r).then((function(e){t.nextTick(i.bind(null,null,e))}),(function(e){t.nextTick(B.bind(null,e,i))}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,n(e)),r}}).call(this)}).call(this,e("_process"))},{"./support/isBuffer":22,"./support/types":23,_process:21,inherits:16}],25:[function(e,t,r){(function(r){(function(){"use strict";var n=e("foreach"),s=e("available-typed-arrays"),o=e("call-bind/callBound"),i=o("Object.prototype.toString"),a=e("has-symbols")()&&"symbol"==typeof Symbol.toStringTag,l=s(),c=o("String.prototype.slice"),p={},u=e("es-abstract/helpers/getOwnPropertyDescriptor"),h=Object.getPrototypeOf;a&&u&&h&&n(l,(function(e){if("function"==typeof r[e]){var t=new r[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=h(t),s=u(n,Symbol.toStringTag);if(!s){var o=h(n);s=u(o,Symbol.toStringTag)}p[e]=s.get}}));var d=e("is-typed-array");t.exports=function(e){return!!d(e)&&(a?function(e){var t=!1;return n(p,(function(r,n){if(!t)try{var s=r.call(e);s===n&&(t=s)}catch(e){}})),t}(e):c(i(e),8,-1))}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":2,"call-bind/callBound":5,"es-abstract/helpers/getOwnPropertyDescriptor":7,foreach:8,"has-symbols":12,"is-typed-array":20}],26:[function(e,t,r){(function(r){(function(){t.exports=function(t){"use strict";const n=this,s=e("../apg-lib/node-exports.js"),o=e("../apg-conv-api/node-exports.js").converter,i=e("./scanner.js"),a=new(e("./parser.js")),{attributes:l,showAttributes:c,showAttributeErrors:p,showRuleDependencies:u}=e("./attributes.js"),h=e("./show-rules.js");let d,f=!1,g=!1,b=!1,m=!1,y=0;if(this.sabnf,this.chars,this.lines,this.rules,this.udts,this.errors=[],r.isBuffer(t))this.chars=o.decode("BINARY",t);else if(Array.isArray(t))this.chars=t.slice();else{if("string"!=typeof t)throw new TypeError("api.js: input source is not a string, byte Buffer or character array");this.chars=o.decode("STRING",t)}this.sabnf=o.encode("STRING",this.chars),this.scan=function(e,t){this.lines=i(this.chars,this.errors,e,t),f=!0},this.parse=function(e,t){if(!f)throw new Error("api.js: grammar not scanned");a.syntax(this.chars,this.lines,this.errors,e,t),g=!0},this.translate=function(){if(!g)throw new Error("api.js: grammar not scanned and parsed");let e=a.semantic(this.chars,this.lines,this.errors);0===this.errors.length&&(this.rules=e.rules,this.udts=e.udts,d=e.lineMap,b=!0)},this.attributes=function(){if(!b)throw new Error("api.js: grammar not scanned, parsed and translated");return y=l(this.rules,this.udts,d,this.errors),m=!0,y},this.generate=function(e){if(this.lines=i(this.chars,this.errors,e),this.errors.length)return;if(a.syntax(this.chars,this.lines,this.errors,e),this.errors.length)return;let t=a.semantic(this.chars,this.lines,this.errors);this.errors.length||(this.rules=t.rules,this.udts=t.udts,d=t.lineMap,y=l(this.rules,this.udts,d,this.errors),m=!0)},this.displayRules=function(e="index"){if(!b)throw new Error("api.js: grammar not scanned, parsed and translated");return h(this.rules,this.udts,e)},this.displayRuleDependencies=function(e="index"){if(!m)throw new Error("api.js: no attributes - must be preceeded by call to attributes()");return u(e)},this.displayAttributes=function(e="index"){if(!m)throw new Error("api.js: no attributes - must be preceeded by call to attributes()");return y&&p(e),c(e)},this.displayAttributeErrors=function(){if(!m)throw new Error("api.js: no attributes - must be preceeded by call to attributes()");return p()},this.toSource=function(e){if(!m)throw new Error("api.js: can't generate parser source - must be preceeded by call to attributes()");if(y)throw new Error("api.js: can't generate parser source - attributes have "+y+" errors");return a.generateSource(this.chars,this.lines,this.rules,this.udts,e)},this.toObject=function(){if(!m)throw new Error("api.js: can't generate parser object - must be preceeded by call to attributes()");if(y)throw new Error("api.js: can't generate parser object - attributes have "+y+" errors");return a.generateObject(this.sabnf,this.rules,this.udts)},this.errorsToAscii=function(){return w(this.errors,this.lines,this.chars)},this.errorsToHtml=function(e){return E(this.errors,this.lines,this.chars,e)},this.linesToAscii=function(){return A(this.lines)},this.linesToHtml=function(){return T(this.lines)},this.getAttributesObject=function(){return null};var A=function(e){var t="";return t+="Annotated Input Grammar",e.forEach((function(e,r){t+="\n",t+="line no: "+e.lineNo,t+=" : char index: "+e.beginChar,t+=" : length: "+e.length,t+=" : abnf: "+S(n.chars,e.beginChar,e.length)})),t+="\n"};let T=function(e){var t="";t+='<table class="'+s.style.CLASS_GRAMMAR+'">\n';return t+="<caption>Annotated Input Grammar</caption>\n",t+="<tr>",t+="<th>line<br>no.</th><th>first<br>char</th><th><br>length</th><th><br>text</th>",t+="</tr>\n",e.forEach((function(e,r){t+="<tr>",t+="<td>"+e.lineNo,t+="</td><td>"+e.beginChar,t+="</td><td>"+e.length,t+="</td><td>"+x(n.chars,e.beginChar,e.length),t+="</td>",t+="</tr>\n"})),t+="</table>\n"},E=function(e,t,r,n){var o=s.style,i="",a='<span class="'+o.CLASS_NOMATCH+'">&raquo;</span>';return i+='<p><table class="'+o.CLASS_GRAMMAR+'">\n',n&&"string"==typeof n&&(i+="<caption>"+n+"</caption>\n"),i+="<tr><th>line<br>no.</th><th>line<br>offset</th><th>error<br>offset</th><th><br>text</th></tr>\n",e.forEach((function(e){var n,o,l,c,p,u="",h="";0===t.length?(p=a,o=0):(l=(n=t[e.line]).beginChar,e.char>l&&(u=x(r,l,e.char-l)),(l=e.char)<(c=n.beginChar+n.length)&&(h=x(r,l,c-l)),p=u+a+h,o=e.char-n.beginChar,i+="<tr>",i+="<td>"+e.line+"</td><td>"+n.beginChar+"</td><td>"+o+"</td><td>"+p+"</td>",i+="</tr>\n",i+="<tr>",i+='<td colspan="3"></td><td>&uarr;:&nbsp;'+s.utils.stringToAsciiHtml(e.msg)+"</td>",i+="</tr>\n")})),i+="</table></p>\n"},w=function(e,t,r){var n,s,o,i;return n="",e.forEach((function(e){s=t[e.line],n+=s.lineNo+": ",n+=s.beginChar+": ",n+=e.char-s.beginChar+": ",o=s.beginChar,i=e.char-s.beginChar,n+=S(r,o,i),n+=" >> ",o=e.char,i=s.beginChar+s.length-e.char,n+=S(r,o,i),n+="\n",n+=s.lineNo+": ",n+=s.beginChar+": ",n+=e.char-s.beginChar+": ",n+="error: ",n+=e.msg,n+="\n"})),n},x=function(e,t,r){for(var n,o='<span class="'+s.style.CLASS_CTRLCHAR+'">',i="</span>",a='<span class="'+s.style.CLASS_NOMATCH+'">',l="</span>",c="";Array.isArray(e)&&0!==e.length&&("number"!=typeof t&&(t=0),!(t>=e.length));){n="number"!=typeof r||t+r>=e.length?e.length:t+r;for(var p=0,u=t;u<n;u+=1){var h=e[u];if(h>=32&&h<=126)switch(1===p?(c+=i,p=0):2===p&&(c+=l,p=0),h){case 32:c+="&nbsp;";break;case 60:c+="&lt;";break;case 62:c+="&gt;";break;case 38:c+="&amp;";break;case 34:c+="&quot;";break;case 39:c+="&#039;";break;case 92:c+="&#092;";break;default:c+=String.fromCharCode(h)}else 9===h||10===h||13===h?(0===p?(c+=o,p=1):2===p&&(c+=l+o,p=1),9===h&&(c+="TAB"),10===h&&(c+="LF"),13===h&&(c+="CR")):(0===p?(c+=a,p=2):1===p&&(c+=i+a,p=2),c+="\\x"+s.utils.charToHex(h))}2===p&&(c+=l),1===p&&(c+=i);break}return c},S=function(e,t,r){for(var n="",s=t;s<t+r;s+=1){var o=e[s];if(o>=32&&o<=126)n+=String.fromCharCode(o);else switch(o){case 9:n+="\\t";break;case 10:n+="\\n";break;case 13:n+="\\r";break;default:n+="\\unknown"}}return n}}}).call(this)}).call(this,{isBuffer:e("../../../../.nvm/versions/node/v15.11.0/lib/node_modules/browserify/node_modules/is-buffer/index.js")})},{"../../../../.nvm/versions/node/v15.11.0/lib/node_modules/browserify/node_modules/is-buffer/index.js":18,"../apg-conv-api/node-exports.js":40,"../apg-lib/node-exports.js":46,"./attributes.js":27,"./parser.js":28,"./scanner.js":34,"./show-rules.js":36}],27:[function(e,t,r){t.exports=function(){"use strict";let t=e("apg-lib").ids,{ruleAttributes:r,showAttributes:n,showAttributeErrors:s}=e("./rule-attributes.js"),{ruleDependencies:o,showRuleDependencies:i}=e("./rule-dependencies.js");class a{constructor(e,t){this.rules=e,this.udts=t,this.ruleCount=e.length,this.udtCount=t.length,this.startRule=0,this.dependenciesComplete=!1,this.attributesComplete=!1,this.isMutuallyRecursive=!1,this.ruleIndexes=this.indexArray(this.ruleCount),this.ruleAlphaIndexes=this.indexArray(this.ruleCount),this.ruleTypeIndexes=this.indexArray(this.ruleCount),this.udtIndexes=this.indexArray(this.udtCount),this.udtAlphaIndexes=this.indexArray(this.udtCount),this.attrsErrorCount=0,this.attrs=[],this.attrsErrors=[],this.attrsWorking=[],this.ruleDeps=[];for(let t=0;t<this.ruleCount;t++)this.attrs.push(this.attrGen(this.rules[t])),this.attrsWorking.push(this.attrGen(this.rules[t])),this.ruleDeps.push(this.rdGen(e[t],this.ruleCount,this.udtCount));this.compRulesAlpha=this.compRulesAlpha.bind(this),this.compUdtsAlpha=this.compUdtsAlpha.bind(this),this.compRulesType=this.compRulesType.bind(this),this.compRulesGroup=this.compRulesGroup.bind(this)}attrGen(e){return{left:!1,nested:!1,right:!1,empty:!1,finite:!1,cyclic:!1,leaf:!1,isOpen:!1,isComplete:!1,rule:e}}attrInit(e){e.left=!1,e.nested=!1,e.right=!1,e.empty=!1,e.finite=!1,e.cyclic=!1,e.leaf=!1,e.isOpen=!1,e.isComplete=!1}attrCopy(e,t){e.left=t.left,e.nested=t.nested,e.right=t.right,e.empty=t.empty,e.finite=t.finite,e.cyclic=t.cyclic,e.leaf=t.leaf,e.isOpen=t.isOpen,e.isComplete=t.isComplete,e.rule=t.rule}rdGen(e,r,n){return ret={rule:e,recursiveType:t.ATTR_N,groupNumber:-1,refersTo:this.falseArray(r),refersToUdt:this.falseArray(n),referencedBy:this.falseArray(r)},ret}typeToString(e){switch(e){case t.ATTR_N:return" N";case t.ATTR_R:return" R";case t.ATTR_MR:return"MR";default:return"UNKNOWN"}}falseArray(e){let t=[];if(e>0)for(let r=0;r<e;r++)t.push(!1);return t}falsifyArray(e){for(let t=0;t<e.length;t++)e[t]=!1}indexArray(e){let t=[];if(e>0)for(let r=0;r<e;r++)t.push(r);return t}compRulesAlpha(e,t){return this.rules[e].lower<this.rules[t].lower?-1:this.rules[e].lower>this.rules[t].lower?1:0}compUdtsAlpha(e,t){return this.udts[e].lower<this.udts[t].lower?-1:this.udts[e].lower>this.udts[t].lower?1:0}compRulesType(e,t){return this.ruleDeps[e].recursiveType<this.ruleDeps[t].recursiveType?-1:this.ruleDeps[e].recursiveType>this.ruleDeps[t].recursiveType?1:0}compRulesGroup(e,r){if(this.ruleDeps[e].recursiveType===t.ATTR_MR&&this.ruleDeps[r].recursiveType===t.ATTR_MR){if(this.ruleDeps[e].groupNumber<this.ruleDeps[r].groupNumber)return-1;if(this.ruleDeps[e].groupNumber>this.ruleDeps[r].groupNumber)return 1}return 0}}return{attributes:function(e=[],t=[],n=[],s=[]){let i=new a(e,t);return o(i),r(i),i.attrsErrorCount&&s.push({line:0,char:0,msg:`${i.attrsErrorCount} attribute errors`}),i.attrsErrorCount},showAttributes:n,showAttributeErrors:s,showRuleDependencies:i}}()},{"./rule-attributes.js":29,"./rule-dependencies.js":30,"apg-lib":58}],28:[function(e,t,r){t.exports=function(){"use strict";let t=e("apg-lib"),r=t.ids,n=new(e("./syntax-callbacks.js")),s=new(e("./semantic-callbacks.js")),o=new(e("./sabnf-grammar.js")),i=new t.parser;i.ast=new t.ast,i.callbacks=n.callbacks,i.ast.callbacks=s.callbacks;let a=function(e,t,r){if(t<0||t>=r)return-1;for(let r=0;r<e.length;r+=1)if(t>=e[r].beginChar&&t<e[r].beginChar+e[r].length)return r;return-1},l=function(e,t){let r=-1;if(t<e.length)for(let n=t;n<e.length;n+=1)if(null!==e[n]){r=e[n];break}return r};this.syntax=function(e,t,r,n,s){if(s){if("traceObject"!==s.traceObject)throw new TypError("parser.js: trace argument is not a trace object");i.trace=s}let l={};l.errors=r,l.strict=!!n,l.lines=t,l.findLine=a,l.charsLength=e.length,l.ruleCount=0,i.parse(o,"file",e,l).success||r.push({line:0,char:0,msg:"syntax analysis of input grammar failed"})},this.semantic=function(e,t,n){let s={};return s.errors=n,s.lines=t,s.findLine=a,s.charsLength=e.length,i.ast.translate(s),n.length?null:(function(e){e.forEach((function(e,t){let n=[],s=[],o=0;e.opcodes.forEach((function(e,t){e.type===r.ALT&&1===e.children.length||e.type===r.CAT&&1===e.children.length||e.type===r.REP&&1===e.min&&1===e.max?s.push(null):(s.push(o),n.push(e),o+=1)})),s.push(o),n.forEach((function(e,t){if(e.type===r.ALT||e.type===r.CAT)for(let t=0;t<e.children.length;t+=1)e.children[t]=l(s,e.children[t])})),e.opcodes=n}))}(s.rules),{rules:s.rules,udts:s.udts,lineMap:s.rulesLineMap})},this.generateSource=function(e,t,n,s,o){let i,a,l,c="",p=0,u=1/0,h=0,d=[],f=[],g=0,b=0,m=0,y=0,A=0,T=0,E=0,w=0,x=0,S=0,C=0,k=0,M=0,O=0,L=0;n.forEach((function(e){d.push(e.lower),p+=e.opcodes.length,e.opcodes.forEach((function(e,t){switch(e.type){case r.ALT:g+=1;break;case r.CAT:b+=1;break;case r.RNM:m+=1;break;case r.UDT:y+=1;break;case r.REP:A+=1;break;case r.AND:T+=1;break;case r.NOT:E+=1;break;case r.BKA:k+=1;break;case r.BKN:M+=1;break;case r.BKR:C+=1;break;case r.ABG:O+=1;break;case r.AEN:L+=1;break;case r.TLS:for(w+=1,i=0;i<e.string.length;i+=1)e.string[i]<u&&(u=e.string[i]),e.string[i]>h&&(h=e.string[i]);break;case r.TBS:for(x+=1,i=0;i<e.string.length;i+=1)e.string[i]<u&&(u=e.string[i]),e.string[i]>h&&(h=e.string[i]);break;case r.TRG:S+=1,e.min<u&&(u=e.min),e.max>h&&(h=e.max)}}))})),d.sort(),s.length>0&&(s.forEach((function(e){f.push(e.lower)})),f.sort());let v,B="module.exports";return o&&"string"==typeof o&&(B="let "+o),c+="// copyright: Copyright (c) 2021 Lowell D. Thomas, all rights reserved<br>\n",c+="//   license: BSD-2-Clause (https://opensource.org/licenses/BSD-2-Clause)<br>\n",c+="//\n",c+="// Generated by apg-js, Version 4.0.0 [apg-js](https://github.com/ldthomas/apg-js)\n",c+=B+" = function(){\n",c+='"use strict";\n',c+="  //```\n",c+="  // SUMMARY\n",c+="  //      rules = "+n.length+"\n",c+="  //       udts = "+s.length+"\n",c+="  //    opcodes = "+p+"\n",c+="  //        ---   ABNF original opcodes\n",c+="  //        ALT = "+g+"\n",c+="  //        CAT = "+b+"\n",c+="  //        REP = "+A+"\n",c+="  //        RNM = "+m+"\n",c+="  //        TLS = "+w+"\n",c+="  //        TBS = "+x+"\n",c+="  //        TRG = "+S+"\n",c+="  //        ---   SABNF superset opcodes\n",c+="  //        UDT = "+y+"\n",c+="  //        AND = "+T+"\n",c+="  //        NOT = "+E+"\n",c+="  //        BKA = "+k+"\n",c+="  //        BKN = "+M+"\n",c+="  //        BKR = "+C+"\n",c+="  //        ABG = "+O+"\n",c+="  //        AEN = "+L+"\n",c+="  // characters = [",c+=w+x+S===0?" none defined ]":u+" - "+h+"]",y>0&&(c+=" + user defined"),c+="\n",c+="  //```\n",c+="  /* OBJECT IDENTIFIER (for internal parser use) */\n",c+="  this.grammarObject = 'grammarObject';\n",c+="\n",c+="  /* RULES */\n",c+="  this.rules = [];\n",n.forEach((function(e,t){let r="  this.rules[";r+=t,r+="] = {name: '",r+=e.name,r+="', lower: '",r+=e.lower,r+="', index: ",r+=e.index,r+=", isBkr: ",r+=e.isBkr,r+="};\n",c+=r})),c+="\n",c+="  /* UDTS */\n",c+="  this.udts = [];\n",s.length>0&&s.forEach((function(e,t){let r="  this.udts[";r+=t,r+="] = {name: '",r+=e.name,r+="', lower: '",r+=e.lower,r+="', index: ",r+=e.index,r+=", empty: ",r+=e.empty,r+=", isBkr: ",r+=e.isBkr,r+="};\n",c+=r})),c+="\n",c+="  /* OPCODES */\n",n.forEach((function(e,t){t>0&&(c+="\n"),c+="  /* "+e.name+" */\n",c+="  this.rules["+t+"].opcodes = [];\n",e.opcodes.forEach((function(e,o){switch(e.type){case r.ALT:c+="  this.rules["+t+"].opcodes["+o+"] = {type: "+e.type+", children: ["+e.children.toString()+"]};// ALT\n";break;case r.CAT:c+="  this.rules["+t+"].opcodes["+o+"] = {type: "+e.type+", children: ["+e.children.toString()+"]};// CAT\n";break;case r.RNM:c+="  this.rules["+t+"].opcodes["+o+"] = {type: "+e.type+", index: "+e.index+"};// RNM("+n[e.index].name+")\n";break;case r.BKR:e.index>=n.length?(a=s[e.index-n.length].name,l=s[e.index-n.length].lower):(a=n[e.index].name,l=n[e.index].lower);let i="%i";e.bkrCase===r.BKR_MODE_CS&&(i="%s"),e.bkrMode===r.BKR_MODE_UM?i+="%u":i+="%p",a=i+a,c+="  this.rules["+t+"].opcodes["+o+"] = {type: "+e.type+", index: "+e.index+", lower: '"+l+"', bkrCase: "+e.bkrCase+", bkrMode: "+e.bkrMode+"};// BKR(\\"+a+")\n";break;case r.UDT:c+="  this.rules["+t+"].opcodes["+o+"] = {type: "+e.type+", empty: "+e.empty+", index: "+e.index+"};// UDT("+s[e.index].name+")\n";break;case r.REP:c+="  this.rules["+t+"].opcodes["+o+"] = {type: "+e.type+", min: "+e.min+", max: "+e.max+"};// REP\n";break;case r.AND:c+="  this.rules["+t+"].opcodes["+o+"] = {type: "+e.type+"};// AND\n";break;case r.NOT:c+="  this.rules["+t+"].opcodes["+o+"] = {type: "+e.type+"};// NOT\n";break;case r.ABG:c+="  this.rules["+t+"].opcodes["+o+"] = {type: "+e.type+"};// ABG(%^)\n";break;case r.AEN:c+="  this.rules["+t+"].opcodes["+o+"] = {type: "+e.type+"};// AEN(%$)\n";break;case r.BKA:c+="  this.rules["+t+"].opcodes["+o+"] = {type: "+e.type+"};// BKA\n";break;case r.BKN:c+="  this.rules["+t+"].opcodes["+o+"] = {type: "+e.type+"};// BKN\n";break;case r.TLS:c+="  this.rules["+t+"].opcodes["+o+"] = {type: "+e.type+", string: ["+e.string.toString()+"]};// TLS\n";break;case r.TBS:c+="  this.rules["+t+"].opcodes["+o+"] = {type: "+e.type+", string: ["+e.string.toString()+"]};// TBS\n";break;case r.TRG:c+="  this.rules["+t+"].opcodes["+o+"] = {type: "+e.type+", min: "+e.min+", max: "+e.max+"};// TRG\n"}}))})),c+="\n",c+="  // The `toString()` function will display the original grammar file(s) that produced these opcodes.\n",c+="  this.toString = function(){\n",c+='    let str = "";\n',t.forEach((function(t,r){let n=t.beginChar+t.length;v="",c+='    str += "';for(let r=t.beginChar;r<n;r+=1){switch(e[r]){case 9:v=" ";break;case 10:v="\\n";break;case 13:v="\\r";break;case 34:v='\\"';break;case 92:v="\\\\";break;default:v=String.fromCharCode(e[r])}c+=v}c+='";\n'})),c+="    return str;\n",c+="  }\n",c+="}\n",c},this.generateObject=function(e,t,r){let n={},s=[],o=[],i=e.slice(0);return n.grammarObject="grammarObject",t.forEach((function(e){s.push(e.lower)})),s.sort(),r.length>0&&(r.forEach((function(e){o.push(e.lower)})),o.sort()),n.callbacks=[],s.forEach((function(e){n.callbacks[e]=!1})),r.length>0&&o.forEach((function(e){n.callbacks[e]=!1})),n.rules=t,n.udts=r,n.toString=function(){return i},n}}},{"./sabnf-grammar.js":31,"./semantic-callbacks.js":35,"./syntax-callbacks.js":37,"apg-lib":58}],29:[function(e,t,r){t.exports=function(){"use strict";let t=e("apg-lib").ids,r=null;function n(e){return!(e.left||e.nested||e.right||e.cyclic)&&e.empty}function s(e){return!!(e.left||e.nested||e.right||e.cyclic)}function o(e,t,r,o){let a=0,l=t[r],c=l.children.length,p=[];for(a=0;a<c;a++)p.push(e.attrGen());for(a=0;a<c;a++)i(e,t,l.children[a],p[a]);o.left=function(e,t){for(let r=0;r<t;r++){if(e[r].left)return!0;if(!e[r].empty)return!1}return!1}(p,c),o.right=function(e,t){for(let r=t-1;r>=0;r--){if(e[r].right)return!0;if(!e[r].empty)return!1}return!1}(p,c),o.nested=function(e,t){let r=0,o=0,i=0;for(r=0;r<t;r++)if(e[r].nested)return!0;for(r=0;r<t;r++)if(e[r].right&&!e[r].leaf)for(o=r+1;o<t;o++)if(!n(e[o]))return!0;for(r=t-1;r>=0;r--)if(e[r].left&&!e[r].leaf)for(o=r-1;o>=0;o--)if(!n(e[o]))return!0;for(r=0;r<t;r++)if(!e[r].empty&&!s(e[r]))for(o=r+1;o<t;o++)if(s(e[o]))for(i=o+1;i<t;i++)if(!e[i].empty&&!s(e[i]))return!0;return!1}(p,c),o.empty=function(e,t){for(let r=0;r<t;r++)if(!e[r].empty)return!1;return!0}(p,c),o.finite=function(e,t){for(let r=0;r<t;r++)if(!e[r].finite)return!1;return!0}(p,c),o.cyclic=function(e,t){for(let r=0;r<t;r++)if(!e[r].cyclic)return!1;return!0}(p,c)}function i(e,r,n,s){e.attrInit(s);let l=r[n];switch(l.type){case t.ALT:!function(e,t,r,n){let s=0,o=t[r],a=o.children.length,l=[];for(s=0;s<a;s++)l.push(e.attrGen());for(s=0;s<a;s++)i(e,t,o.children[s],l[s]);for(n.left=!1,n.right=!1,n.nested=!1,n.empty=!1,n.finite=!1,n.cyclic=!1,s=0;s<a;s++)l[s].left&&(n.left=!0),l[s].nested&&(n.nested=!0),l[s].right&&(n.right=!0),l[s].empty&&(n.empty=!0),l[s].finite&&(n.finite=!0),l[s].cyclic&&(n.cyclic=!0)}(e,r,n,s);break;case t.CAT:o(e,r,n,s);break;case t.REP:i(e,r,n+1,s),0===l.min&&(s.empty=!0,s.finite=!0);break;case t.RNM:a(e,r[n].index,s);break;case t.BKR:!function(e,t,r,n){let s=t[r];s.index>=e.ruleCount?(n.empty=e.udts[s.index-e.ruleCount].empty,n.finite=!0):(a(e,s.index,n),n.left=!1,n.nested=!1,n.right=!1,n.cyclic=!1)}(e,r,n,s);break;case t.AND:case t.NOT:case t.BKA:case t.BKN:i(e,r,n+1,s),s.empty=!0;break;case t.TLS:s.empty=!r[n].string.length,s.finite=!0,s.cyclic=!1;break;case t.TBS:case t.TRG:s.empty=!1,s.finite=!0,s.cyclic=!1;break;case t.UDT:s.empty=l.empty,s.finite=!0,s.cyclic=!1;break;case t.ABG:case t.AEN:s.empty=!0,s.finite=!0,s.cyclic=!1;break;default:throw new Error("unknown opcode type: "+l)}}function a(e,t,r){let n=e.attrsWorking[t];n.isComplete?e.attrCopy(r,n):n.isOpen?t===e.startRule?t===e.startRule&&(r.left=!0,r.right=!0,r.cyclic=!0,r.leaf=!0):r.finite=!0:(n.isOpen=!0,i(e,n.rule.opcodes,0,r),n.left=r.left,n.right=r.right,n.nested=r.nested,n.empty=r.empty,n.finite=r.finite,n.cyclic=r.cyclic,n.leaf=!1,n.isOpen=!1,n.isComplete=!0)}let l=function(e){return e?"t":"f"},c=function(e){return e?"e":"f"},p=function(e,n,s,o){let i=e+":"+n+":";return i+=c(s.left)+" ",i+=l(s.nested)+" ",i+=l(s.right)+" ",i+=c(s.cyclic)+" ",i+=(s.finite?"t":"e")+" ",i+=l(s.empty)+":",i+=r.typeToString(o.recursiveType)+":",i+=o.recursiveType===t.ATTR_MR?o.groupNumber:"-",i+=":"+s.rule.name+"\n",i},u=function(){let e="LEGEND - t=true, f=false, e=error\n";return e+="sequence:rule index:left nested right cyclic finite empty:type:group number:rule name\n","LEGEND - t=true, f=false, e=error\nsequence:rule index:left nested right cyclic finite empty:type:group number:rule name\n"},h=function(e){let t=0,n=0,s=null,o=null,i="",a=r.ruleIndexes,l=r.udtIndexes;for(97===e?(a=r.ruleAlphaIndexes,l=r.udtAlphaIndexes):116===e&&(a=r.ruleTypeIndexes,l=r.udtAlphaIndexes),t=0;t<r.ruleCount;t++)n=a[t],s=r.attrs[n],o=r.ruleDeps[n],i+=p(t,n,s,o);return i};return{ruleAttributes:function(e){r=e;let t=0,n=0,s=r.attrGen();for(t=0;t<r.ruleCount;t++){for(n=0;n<r.ruleCount;n++)r.attrInit(r.attrsWorking[n]);r.startRule=t,a(r,t,s),r.attrCopy(r.attrs[t],r.attrsWorking[t])}r.attributesComplete=!0;let o=null;for(t=0;t<r.ruleCount;t++)if(o=r.attrs[t],o.left||!o.finite||o.cyclic){let e=r.attrGen(o.rule);r.attrCopy(e,o),r.attrsErrors.push(e),r.attrsErrorCount++}},showAttributes:function(e="index"){if(!r.attributesComplete)throw new Error("rule-attributes.js:showAttributes: attributes not available");let t="",n="RULE ATTRIBUTES\n";return 97===e.charCodeAt(0)?(t+="alphabetical by rule name\n",t+=n,t+=u(),t+=h(97)):116===e.charCodeAt(0)?(t+="ordered by rule type\n",t+=n,t+=u(),t+=h(116)):(t+="ordered by rule index\n",t+=n,t+=u(),t+=h()),t},showAttributeErrors:function(){let e=null,t=null,n="";if(n+="RULE ATTRIBUTES WITH ERRORS\n",n+=u(),r.attrsErrorCount)for(let s=0;s<r.attrsErrorCount;s++)e=r.attrsErrors[s],t=r.ruleDeps[e.rule.index],n+=p(s,e.rule.index,e,t);else n+="<none>\n";return n}}}()},{"apg-lib":58}],30:[function(e,t,r){t.exports=function(){e("util");let t=e("apg-lib").ids,r=null,n=function(e,r,s,o){let i=0,a=0,l=r[s];o[s]=!0;let c=l.rule.opcodes;for(i=0;i<c.length;i++){let s=c[i];if(s.type===t.RNM)for(l.refersTo[s.index]=!0,o[s.index]||n(e,r,s.index,o),a=0;a<e;a++)r[s.index].refersTo[a]&&(l.refersTo[a]=!0);else s.type===t.UDT?l.refersToUdt[s.index]=!0:s.type===t.BKR&&(s.index<e?(l.refersTo[s.index]=!0,o[s.index]||n(e,r,s.index,o)):l.refersToUdt[e-s.index]=!0)}},s=function(e=null){let t=0,n=0,s=0,o=0;const i=r.ruleCount-1,a=r.udtCount-1;let l="",c="";const p="=> ";let u=!1,h=null,d=r.ruleIndexes,f=r.udtIndexes;for(97===e?(d=r.ruleAlphaIndexes,f=r.udtAlphaIndexes):116===e&&(d=r.ruleTypeIndexes,f=r.udtAlphaIndexes),t=0;t<r.ruleCount;t++){for(h=r.ruleDeps[d[t]],c=d[t]+":"+r.typeToString(h.recursiveType)+":",r.isMutuallyRecursive&&(c+=h.groupNumber>-1?h.groupNumber:"-",c+=":"),c+=" ",l+=c+r.rules[d[t]].name+"\n",u=!0,s=0,o=l.length,l+=c,n=0;n<r.ruleCount;n++)h.refersTo[d[n]]&&(u?(l+=p,u=!1,l+=r.ruleDeps[d[n]].rule.name):l+=", "+r.ruleDeps[d[n]].rule.name,s++),l.length-o>100&&n!==i&&(l+="\n"+c+p,o=l.length);if(r.udtCount)for(n=0;n<r.udtCount;n++)h.refersToUdt[f[n]]&&(u?(l+=p,u=!1,l+=r.udts[f[n]].name):l+=", "+r.udts[f[n]].name,s++),l.length-o>100&&n!==a&&(l+="\n"+c+p,o=l.length);for(0===s&&(l+="=> <none>\n"),!1===u&&(l+="\n"),u=!0,s=0,o=l.length,l+=c,n=0;n<r.ruleCount;n++)h.referencedBy[d[n]]&&(u?(l+="<= ",u=!1,l+=r.ruleDeps[d[n]].rule.name):l+=", "+r.ruleDeps[d[n]].rule.name,s++),l.length-o>100&&n!==i&&(l+="\n"+c+p,o=l.length);0===s&&(l+="<= <none>\n"),!1===u&&(l+="\n"),l+="\n"}return l};return{ruleDependencies:function(e){r=e;let s=0,o=0,i=0,a=null,l=null,c=!1;r.dependenciesComplete=!1;let p=r.falseArray(r.ruleCount);for(s=0;s<r.ruleCount;s++)r.falsifyArray(p),n(r.ruleCount,r.ruleDeps,s,p);for(s=0;s<r.ruleCount;s++)for(o=0;o<r.ruleCount;o++)s!=o&&r.ruleDeps[o].refersTo[s]&&(r.ruleDeps[s].referencedBy[o]=!0);for(s=0;s<r.ruleCount;s++)r.ruleDeps[s].recursiveType=t.ATTR_N,r.ruleDeps[s].refersTo[s]&&(r.ruleDeps[s].recursiveType=t.ATTR_R);for(i=-1,s=0;s<r.ruleCount;s++)if(a=r.ruleDeps[s],a.recursiveType===t.ATTR_R)for(c=!0,o=0;o<r.ruleCount;o++)s!==o&&(l=r.ruleDeps[o],l.recursiveType===t.ATTR_R&&a.refersTo[o]&&l.refersTo[s]&&(c&&(i++,a.recursiveType=t.ATTR_MR,a.groupNumber=i,c=!1),l.recursiveType=t.ATTR_MR,l.groupNumber=i));r.isMutuallyRecursive=i>-1,r.ruleAlphaIndexes.sort(r.compRulesAlpha),r.ruleTypeIndexes.sort(r.compRulesAlpha),r.ruleTypeIndexes.sort(r.compRulesType),r.isMutuallyRecursive&&r.ruleTypeIndexes.sort(r.compRulesGroup),r.udtCount&&r.udtAlphaIndexes.sort(r.compUdtsAlpha),r.dependenciesComplete=!0},showRuleDependencies:function(e="index"){thisFuncName="showRuleDependencies";let t="RULE DEPENDENCIES(index:type:[group number:])\n";return t+="=> refers to rule names\n",t+="<= referenced by rule names\n",r.dependenciesComplete?(97===e.charCodeAt(0)?(t+="alphabetical by rule name\n",t+=s(97)):116===e.charCodeAt(0)?(t+="ordered by rule type\n",t+=s(116)):(t+="ordered by rule index\n",t+=s(null)),t):t}}}()},{"apg-lib":58,util:24}],31:[function(e,t,r){t.exports=function(){"use strict";this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"File",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"BlankLine",lower:"blankline",index:1,isBkr:!1},this.rules[2]={name:"Rule",lower:"rule",index:2,isBkr:!1},this.rules[3]={name:"RuleLookup",lower:"rulelookup",index:3,isBkr:!1},this.rules[4]={name:"RuleNameTest",lower:"rulenametest",index:4,isBkr:!1},this.rules[5]={name:"RuleName",lower:"rulename",index:5,isBkr:!1},this.rules[6]={name:"RuleNameError",lower:"rulenameerror",index:6,isBkr:!1},this.rules[7]={name:"DefinedAsTest",lower:"definedastest",index:7,isBkr:!1},this.rules[8]={name:"DefinedAsError",lower:"definedaserror",index:8,isBkr:!1},this.rules[9]={name:"DefinedAs",lower:"definedas",index:9,isBkr:!1},this.rules[10]={name:"Defined",lower:"defined",index:10,isBkr:!1},this.rules[11]={name:"IncAlt",lower:"incalt",index:11,isBkr:!1},this.rules[12]={name:"RuleError",lower:"ruleerror",index:12,isBkr:!1},this.rules[13]={name:"LineEndError",lower:"lineenderror",index:13,isBkr:!1},this.rules[14]={name:"Alternation",lower:"alternation",index:14,isBkr:!1},this.rules[15]={name:"Concatenation",lower:"concatenation",index:15,isBkr:!1},this.rules[16]={name:"Repetition",lower:"repetition",index:16,isBkr:!1},this.rules[17]={name:"Modifier",lower:"modifier",index:17,isBkr:!1},this.rules[18]={name:"Predicate",lower:"predicate",index:18,isBkr:!1},this.rules[19]={name:"BasicElement",lower:"basicelement",index:19,isBkr:!1},this.rules[20]={name:"BasicElementErr",lower:"basicelementerr",index:20,isBkr:!1},this.rules[21]={name:"Group",lower:"group",index:21,isBkr:!1},this.rules[22]={name:"GroupError",lower:"grouperror",index:22,isBkr:!1},this.rules[23]={name:"GroupOpen",lower:"groupopen",index:23,isBkr:!1},this.rules[24]={name:"GroupClose",lower:"groupclose",index:24,isBkr:!1},this.rules[25]={name:"Option",lower:"option",index:25,isBkr:!1},this.rules[26]={name:"OptionError",lower:"optionerror",index:26,isBkr:!1},this.rules[27]={name:"OptionOpen",lower:"optionopen",index:27,isBkr:!1},this.rules[28]={name:"OptionClose",lower:"optionclose",index:28,isBkr:!1},this.rules[29]={name:"RnmOp",lower:"rnmop",index:29,isBkr:!1},this.rules[30]={name:"BkrOp",lower:"bkrop",index:30,isBkr:!1},this.rules[31]={name:"bkrModifier",lower:"bkrmodifier",index:31,isBkr:!1},this.rules[32]={name:"cs",lower:"cs",index:32,isBkr:!1},this.rules[33]={name:"ci",lower:"ci",index:33,isBkr:!1},this.rules[34]={name:"um",lower:"um",index:34,isBkr:!1},this.rules[35]={name:"pm",lower:"pm",index:35,isBkr:!1},this.rules[36]={name:"bkr-name",lower:"bkr-name",index:36,isBkr:!1},this.rules[37]={name:"rname",lower:"rname",index:37,isBkr:!1},this.rules[38]={name:"uname",lower:"uname",index:38,isBkr:!1},this.rules[39]={name:"ename",lower:"ename",index:39,isBkr:!1},this.rules[40]={name:"UdtOp",lower:"udtop",index:40,isBkr:!1},this.rules[41]={name:"udt-non-empty",lower:"udt-non-empty",index:41,isBkr:!1},this.rules[42]={name:"udt-empty",lower:"udt-empty",index:42,isBkr:!1},this.rules[43]={name:"RepOp",lower:"repop",index:43,isBkr:!1},this.rules[44]={name:"AltOp",lower:"altop",index:44,isBkr:!1},this.rules[45]={name:"CatOp",lower:"catop",index:45,isBkr:!1},this.rules[46]={name:"StarOp",lower:"starop",index:46,isBkr:!1},this.rules[47]={name:"AndOp",lower:"andop",index:47,isBkr:!1},this.rules[48]={name:"NotOp",lower:"notop",index:48,isBkr:!1},this.rules[49]={name:"BkaOp",lower:"bkaop",index:49,isBkr:!1},this.rules[50]={name:"BknOp",lower:"bknop",index:50,isBkr:!1},this.rules[51]={name:"AbgOp",lower:"abgop",index:51,isBkr:!1},this.rules[52]={name:"AenOp",lower:"aenop",index:52,isBkr:!1},this.rules[53]={name:"TrgOp",lower:"trgop",index:53,isBkr:!1},this.rules[54]={name:"TbsOp",lower:"tbsop",index:54,isBkr:!1},this.rules[55]={name:"TlsOp",lower:"tlsop",index:55,isBkr:!1},this.rules[56]={name:"TlsCase",lower:"tlscase",index:56,isBkr:!1},this.rules[57]={name:"TlsOpen",lower:"tlsopen",index:57,isBkr:!1},this.rules[58]={name:"TlsClose",lower:"tlsclose",index:58,isBkr:!1},this.rules[59]={name:"TlsString",lower:"tlsstring",index:59,isBkr:!1},this.rules[60]={name:"StringTab",lower:"stringtab",index:60,isBkr:!1},this.rules[61]={name:"ClsOp",lower:"clsop",index:61,isBkr:!1},this.rules[62]={name:"ClsOpen",lower:"clsopen",index:62,isBkr:!1},this.rules[63]={name:"ClsClose",lower:"clsclose",index:63,isBkr:!1},this.rules[64]={name:"ClsString",lower:"clsstring",index:64,isBkr:!1},this.rules[65]={name:"ProsVal",lower:"prosval",index:65,isBkr:!1},this.rules[66]={name:"ProsValOpen",lower:"prosvalopen",index:66,isBkr:!1},this.rules[67]={name:"ProsValString",lower:"prosvalstring",index:67,isBkr:!1},this.rules[68]={name:"ProsValClose",lower:"prosvalclose",index:68,isBkr:!1},this.rules[69]={name:"rep-min",lower:"rep-min",index:69,isBkr:!1},this.rules[70]={name:"rep-min-max",lower:"rep-min-max",index:70,isBkr:!1},this.rules[71]={name:"rep-max",lower:"rep-max",index:71,isBkr:!1},this.rules[72]={name:"rep-num",lower:"rep-num",index:72,isBkr:!1},this.rules[73]={name:"dString",lower:"dstring",index:73,isBkr:!1},this.rules[74]={name:"xString",lower:"xstring",index:74,isBkr:!1},this.rules[75]={name:"bString",lower:"bstring",index:75,isBkr:!1},this.rules[76]={name:"Dec",lower:"dec",index:76,isBkr:!1},this.rules[77]={name:"Hex",lower:"hex",index:77,isBkr:!1},this.rules[78]={name:"Bin",lower:"bin",index:78,isBkr:!1},this.rules[79]={name:"dmin",lower:"dmin",index:79,isBkr:!1},this.rules[80]={name:"dmax",lower:"dmax",index:80,isBkr:!1},this.rules[81]={name:"bmin",lower:"bmin",index:81,isBkr:!1},this.rules[82]={name:"bmax",lower:"bmax",index:82,isBkr:!1},this.rules[83]={name:"xmin",lower:"xmin",index:83,isBkr:!1},this.rules[84]={name:"xmax",lower:"xmax",index:84,isBkr:!1},this.rules[85]={name:"dnum",lower:"dnum",index:85,isBkr:!1},this.rules[86]={name:"bnum",lower:"bnum",index:86,isBkr:!1},this.rules[87]={name:"xnum",lower:"xnum",index:87,isBkr:!1},this.rules[88]={name:"alphanum",lower:"alphanum",index:88,isBkr:!1},this.rules[89]={name:"owsp",lower:"owsp",index:89,isBkr:!1},this.rules[90]={name:"wsp",lower:"wsp",index:90,isBkr:!1},this.rules[91]={name:"space",lower:"space",index:91,isBkr:!1},this.rules[92]={name:"comment",lower:"comment",index:92,isBkr:!1},this.rules[93]={name:"LineEnd",lower:"lineend",index:93,isBkr:!1},this.rules[94]={name:"LineContinue",lower:"linecontinue",index:94,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:3,min:0,max:1/0},this.rules[0].opcodes[1]={type:1,children:[2,3,4]},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:4,index:2},this.rules[0].opcodes[4]={type:4,index:12},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,5,7]},this.rules[1].opcodes[1]={type:3,min:0,max:1/0},this.rules[1].opcodes[2]={type:1,children:[3,4]},this.rules[1].opcodes[3]={type:6,string:[32]},this.rules[1].opcodes[4]={type:6,string:[9]},this.rules[1].opcodes[5]={type:3,min:0,max:1},this.rules[1].opcodes[6]={type:4,index:92},this.rules[1].opcodes[7]={type:4,index:93},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[2].opcodes[1]={type:4,index:3},this.rules[2].opcodes[2]={type:4,index:89},this.rules[2].opcodes[3]={type:4,index:14},this.rules[2].opcodes[4]={type:1,children:[5,8]},this.rules[2].opcodes[5]={type:2,children:[6,7]},this.rules[2].opcodes[6]={type:4,index:89},this.rules[2].opcodes[7]={type:4,index:93},this.rules[2].opcodes[8]={type:2,children:[9,10]},this.rules[2].opcodes[9]={type:4,index:13},this.rules[2].opcodes[10]={type:4,index:93},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:2,children:[1,2,3]},this.rules[3].opcodes[1]={type:4,index:4},this.rules[3].opcodes[2]={type:4,index:89},this.rules[3].opcodes[3]={type:4,index:7},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:4,index:5},this.rules[4].opcodes[2]={type:4,index:6},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:4,index:88},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:3,min:1,max:1/0},this.rules[6].opcodes[1]={type:1,children:[2,3]},this.rules[6].opcodes[2]={type:5,min:33,max:60},this.rules[6].opcodes[3]={type:5,min:62,max:126},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:1,children:[1,2]},this.rules[7].opcodes[1]={type:4,index:9},this.rules[7].opcodes[2]={type:4,index:8},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:3,min:1,max:2},this.rules[8].opcodes[1]={type:5,min:33,max:126},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:1,children:[1,2]},this.rules[9].opcodes[1]={type:4,index:11},this.rules[9].opcodes[2]={type:4,index:10},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:6,string:[61]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:6,string:[61,47]},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:2,children:[1,6]},this.rules[12].opcodes[1]={type:3,min:1,max:1/0},this.rules[12].opcodes[2]={type:1,children:[3,4,5]},this.rules[12].opcodes[3]={type:5,min:32,max:126},this.rules[12].opcodes[4]={type:6,string:[9]},this.rules[12].opcodes[5]={type:4,index:94},this.rules[12].opcodes[6]={type:4,index:93},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:3,min:1,max:1/0},this.rules[13].opcodes[1]={type:1,children:[2,3,4]},this.rules[13].opcodes[2]={type:5,min:32,max:126},this.rules[13].opcodes[3]={type:6,string:[9]},this.rules[13].opcodes[4]={type:4,index:94},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:2,children:[1,2]},this.rules[14].opcodes[1]={type:4,index:15},this.rules[14].opcodes[2]={type:3,min:0,max:1/0},this.rules[14].opcodes[3]={type:2,children:[4,5,6]},this.rules[14].opcodes[4]={type:4,index:89},this.rules[14].opcodes[5]={type:4,index:44},this.rules[14].opcodes[6]={type:4,index:15},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:2,children:[1,2]},this.rules[15].opcodes[1]={type:4,index:16},this.rules[15].opcodes[2]={type:3,min:0,max:1/0},this.rules[15].opcodes[3]={type:2,children:[4,5]},this.rules[15].opcodes[4]={type:4,index:45},this.rules[15].opcodes[5]={type:4,index:16},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:2,children:[1,3]},this.rules[16].opcodes[1]={type:3,min:0,max:1},this.rules[16].opcodes[2]={type:4,index:17},this.rules[16].opcodes[3]={type:1,children:[4,5,6,7]},this.rules[16].opcodes[4]={type:4,index:21},this.rules[16].opcodes[5]={type:4,index:25},this.rules[16].opcodes[6]={type:4,index:19},this.rules[16].opcodes[7]={type:4,index:20},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:1,children:[1,5]},this.rules[17].opcodes[1]={type:2,children:[2,3]},this.rules[17].opcodes[2]={type:4,index:18},this.rules[17].opcodes[3]={type:3,min:0,max:1},this.rules[17].opcodes[4]={type:4,index:43},this.rules[17].opcodes[5]={type:4,index:43},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[18].opcodes[1]={type:4,index:49},this.rules[18].opcodes[2]={type:4,index:50},this.rules[18].opcodes[3]={type:4,index:47},this.rules[18].opcodes[4]={type:4,index:48},this.rules[19].opcodes=[],this.rules[19].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10]},this.rules[19].opcodes[1]={type:4,index:40},this.rules[19].opcodes[2]={type:4,index:29},this.rules[19].opcodes[3]={type:4,index:53},this.rules[19].opcodes[4]={type:4,index:54},this.rules[19].opcodes[5]={type:4,index:55},this.rules[19].opcodes[6]={type:4,index:61},this.rules[19].opcodes[7]={type:4,index:30},this.rules[19].opcodes[8]={type:4,index:51},this.rules[19].opcodes[9]={type:4,index:52},this.rules[19].opcodes[10]={type:4,index:65},this.rules[20].opcodes=[],this.rules[20].opcodes[0]={type:3,min:1,max:1/0},this.rules[20].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[20].opcodes[2]={type:5,min:33,max:40},this.rules[20].opcodes[3]={type:5,min:42,max:46},this.rules[20].opcodes[4]={type:5,min:48,max:92},this.rules[20].opcodes[5]={type:5,min:94,max:126},this.rules[21].opcodes=[],this.rules[21].opcodes[0]={type:2,children:[1,2,3]},this.rules[21].opcodes[1]={type:4,index:23},this.rules[21].opcodes[2]={type:4,index:14},this.rules[21].opcodes[3]={type:1,children:[4,5]},this.rules[21].opcodes[4]={type:4,index:24},this.rules[21].opcodes[5]={type:4,index:22},this.rules[22].opcodes=[],this.rules[22].opcodes[0]={type:3,min:1,max:1/0},this.rules[22].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[22].opcodes[2]={type:5,min:33,max:40},this.rules[22].opcodes[3]={type:5,min:42,max:46},this.rules[22].opcodes[4]={type:5,min:48,max:92},this.rules[22].opcodes[5]={type:5,min:94,max:126},this.rules[23].opcodes=[],this.rules[23].opcodes[0]={type:2,children:[1,2]},this.rules[23].opcodes[1]={type:6,string:[40]},this.rules[23].opcodes[2]={type:4,index:89},this.rules[24].opcodes=[],this.rules[24].opcodes[0]={type:2,children:[1,2]},this.rules[24].opcodes[1]={type:4,index:89},this.rules[24].opcodes[2]={type:6,string:[41]},this.rules[25].opcodes=[],this.rules[25].opcodes[0]={type:2,children:[1,2,3]},this.rules[25].opcodes[1]={type:4,index:27},this.rules[25].opcodes[2]={type:4,index:14},this.rules[25].opcodes[3]={type:1,children:[4,5]},this.rules[25].opcodes[4]={type:4,index:28},this.rules[25].opcodes[5]={type:4,index:26},this.rules[26].opcodes=[],this.rules[26].opcodes[0]={type:3,min:1,max:1/0},this.rules[26].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[26].opcodes[2]={type:5,min:33,max:40},this.rules[26].opcodes[3]={type:5,min:42,max:46},this.rules[26].opcodes[4]={type:5,min:48,max:92},this.rules[26].opcodes[5]={type:5,min:94,max:126},this.rules[27].opcodes=[],this.rules[27].opcodes[0]={type:2,children:[1,2]},this.rules[27].opcodes[1]={type:6,string:[91]},this.rules[27].opcodes[2]={type:4,index:89},this.rules[28].opcodes=[],this.rules[28].opcodes[0]={type:2,children:[1,2]},this.rules[28].opcodes[1]={type:4,index:89},this.rules[28].opcodes[2]={type:6,string:[93]},this.rules[29].opcodes=[],this.rules[29].opcodes[0]={type:4,index:88},this.rules[30].opcodes=[],this.rules[30].opcodes[0]={type:2,children:[1,2,4]},this.rules[30].opcodes[1]={type:6,string:[92]},this.rules[30].opcodes[2]={type:3,min:0,max:1},this.rules[30].opcodes[3]={type:4,index:31},this.rules[30].opcodes[4]={type:4,index:36},this.rules[31].opcodes=[],this.rules[31].opcodes[0]={type:1,children:[1,7,13,19]},this.rules[31].opcodes[1]={type:2,children:[2,3]},this.rules[31].opcodes[2]={type:4,index:32},this.rules[31].opcodes[3]={type:3,min:0,max:1},this.rules[31].opcodes[4]={type:1,children:[5,6]},this.rules[31].opcodes[5]={type:4,index:34},this.rules[31].opcodes[6]={type:4,index:35},this.rules[31].opcodes[7]={type:2,children:[8,9]},this.rules[31].opcodes[8]={type:4,index:33},this.rules[31].opcodes[9]={type:3,min:0,max:1},this.rules[31].opcodes[10]={type:1,children:[11,12]},this.rules[31].opcodes[11]={type:4,index:34},this.rules[31].opcodes[12]={type:4,index:35},this.rules[31].opcodes[13]={type:2,children:[14,15]},this.rules[31].opcodes[14]={type:4,index:34},this.rules[31].opcodes[15]={type:3,min:0,max:1},this.rules[31].opcodes[16]={type:1,children:[17,18]},this.rules[31].opcodes[17]={type:4,index:32},this.rules[31].opcodes[18]={type:4,index:33},this.rules[31].opcodes[19]={type:2,children:[20,21]},this.rules[31].opcodes[20]={type:4,index:35},this.rules[31].opcodes[21]={type:3,min:0,max:1},this.rules[31].opcodes[22]={type:1,children:[23,24]},this.rules[31].opcodes[23]={type:4,index:32},this.rules[31].opcodes[24]={type:4,index:33},this.rules[32].opcodes=[],this.rules[32].opcodes[0]={type:6,string:[37,115]},this.rules[33].opcodes=[],this.rules[33].opcodes[0]={type:6,string:[37,105]},this.rules[34].opcodes=[],this.rules[34].opcodes[0]={type:6,string:[37,117]},this.rules[35].opcodes=[],this.rules[35].opcodes[0]={type:6,string:[37,112]},this.rules[36].opcodes=[],this.rules[36].opcodes[0]={type:1,children:[1,2,3]},this.rules[36].opcodes[1]={type:4,index:38},this.rules[36].opcodes[2]={type:4,index:39},this.rules[36].opcodes[3]={type:4,index:37},this.rules[37].opcodes=[],this.rules[37].opcodes[0]={type:4,index:88},this.rules[38].opcodes=[],this.rules[38].opcodes[0]={type:2,children:[1,2]},this.rules[38].opcodes[1]={type:6,string:[117,95]},this.rules[38].opcodes[2]={type:4,index:88},this.rules[39].opcodes=[],this.rules[39].opcodes[0]={type:2,children:[1,2]},this.rules[39].opcodes[1]={type:6,string:[101,95]},this.rules[39].opcodes[2]={type:4,index:88},this.rules[40].opcodes=[],this.rules[40].opcodes[0]={type:1,children:[1,2]},this.rules[40].opcodes[1]={type:4,index:42},this.rules[40].opcodes[2]={type:4,index:41},this.rules[41].opcodes=[],this.rules[41].opcodes[0]={type:2,children:[1,2]},this.rules[41].opcodes[1]={type:6,string:[117,95]},this.rules[41].opcodes[2]={type:4,index:88},this.rules[42].opcodes=[],this.rules[42].opcodes[0]={type:2,children:[1,2]},this.rules[42].opcodes[1]={type:6,string:[101,95]},this.rules[42].opcodes[2]={type:4,index:88},this.rules[43].opcodes=[],this.rules[43].opcodes[0]={type:1,children:[1,5,8,11,12]},this.rules[43].opcodes[1]={type:2,children:[2,3,4]},this.rules[43].opcodes[2]={type:4,index:69},this.rules[43].opcodes[3]={type:4,index:46},this.rules[43].opcodes[4]={type:4,index:71},this.rules[43].opcodes[5]={type:2,children:[6,7]},this.rules[43].opcodes[6]={type:4,index:69},this.rules[43].opcodes[7]={type:4,index:46},this.rules[43].opcodes[8]={type:2,children:[9,10]},this.rules[43].opcodes[9]={type:4,index:46},this.rules[43].opcodes[10]={type:4,index:71},this.rules[43].opcodes[11]={type:4,index:46},this.rules[43].opcodes[12]={type:4,index:70},this.rules[44].opcodes=[],this.rules[44].opcodes[0]={type:2,children:[1,2]},this.rules[44].opcodes[1]={type:6,string:[47]},this.rules[44].opcodes[2]={type:4,index:89},this.rules[45].opcodes=[],this.rules[45].opcodes[0]={type:4,index:90},this.rules[46].opcodes=[],this.rules[46].opcodes[0]={type:6,string:[42]},this.rules[47].opcodes=[],this.rules[47].opcodes[0]={type:6,string:[38]},this.rules[48].opcodes=[],this.rules[48].opcodes[0]={type:6,string:[33]},this.rules[49].opcodes=[],this.rules[49].opcodes[0]={type:6,string:[38,38]},this.rules[50].opcodes=[],this.rules[50].opcodes[0]={type:6,string:[33,33]},this.rules[51].opcodes=[],this.rules[51].opcodes[0]={type:6,string:[37,94]},this.rules[52].opcodes=[],this.rules[52].opcodes[0]={type:6,string:[37,36]},this.rules[53].opcodes=[],this.rules[53].opcodes[0]={type:2,children:[1,2]},this.rules[53].opcodes[1]={type:6,string:[37]},this.rules[53].opcodes[2]={type:1,children:[3,8,13]},this.rules[53].opcodes[3]={type:2,children:[4,5,6,7]},this.rules[53].opcodes[4]={type:4,index:76},this.rules[53].opcodes[5]={type:4,index:79},this.rules[53].opcodes[6]={type:6,string:[45]},this.rules[53].opcodes[7]={type:4,index:80},this.rules[53].opcodes[8]={type:2,children:[9,10,11,12]},this.rules[53].opcodes[9]={type:4,index:77},this.rules[53].opcodes[10]={type:4,index:83},this.rules[53].opcodes[11]={type:6,string:[45]},this.rules[53].opcodes[12]={type:4,index:84},this.rules[53].opcodes[13]={type:2,children:[14,15,16,17]},this.rules[53].opcodes[14]={type:4,index:78},this.rules[53].opcodes[15]={type:4,index:81},this.rules[53].opcodes[16]={type:6,string:[45]},this.rules[53].opcodes[17]={type:4,index:82},this.rules[54].opcodes=[],this.rules[54].opcodes[0]={type:2,children:[1,2]},this.rules[54].opcodes[1]={type:6,string:[37]},this.rules[54].opcodes[2]={type:1,children:[3,10,17]},this.rules[54].opcodes[3]={type:2,children:[4,5,6]},this.rules[54].opcodes[4]={type:4,index:76},this.rules[54].opcodes[5]={type:4,index:73},this.rules[54].opcodes[6]={type:3,min:0,max:1/0},this.rules[54].opcodes[7]={type:2,children:[8,9]},this.rules[54].opcodes[8]={type:6,string:[46]},this.rules[54].opcodes[9]={type:4,index:73},this.rules[54].opcodes[10]={type:2,children:[11,12,13]},this.rules[54].opcodes[11]={type:4,index:77},this.rules[54].opcodes[12]={type:4,index:74},this.rules[54].opcodes[13]={type:3,min:0,max:1/0},this.rules[54].opcodes[14]={type:2,children:[15,16]},this.rules[54].opcodes[15]={type:6,string:[46]},this.rules[54].opcodes[16]={type:4,index:74},this.rules[54].opcodes[17]={type:2,children:[18,19,20]},this.rules[54].opcodes[18]={type:4,index:78},this.rules[54].opcodes[19]={type:4,index:75},this.rules[54].opcodes[20]={type:3,min:0,max:1/0},this.rules[54].opcodes[21]={type:2,children:[22,23]},this.rules[54].opcodes[22]={type:6,string:[46]},this.rules[54].opcodes[23]={type:4,index:75},this.rules[55].opcodes=[],this.rules[55].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[55].opcodes[1]={type:4,index:56},this.rules[55].opcodes[2]={type:4,index:57},this.rules[55].opcodes[3]={type:4,index:59},this.rules[55].opcodes[4]={type:4,index:58},this.rules[56].opcodes=[],this.rules[56].opcodes[0]={type:3,min:0,max:1},this.rules[56].opcodes[1]={type:1,children:[2,3]},this.rules[56].opcodes[2]={type:7,string:[37,105]},this.rules[56].opcodes[3]={type:7,string:[37,115]},this.rules[57].opcodes=[],this.rules[57].opcodes[0]={type:6,string:[34]},this.rules[58].opcodes=[],this.rules[58].opcodes[0]={type:6,string:[34]},this.rules[59].opcodes=[],this.rules[59].opcodes[0]={type:3,min:0,max:1/0},this.rules[59].opcodes[1]={type:1,children:[2,3,4]},this.rules[59].opcodes[2]={type:5,min:32,max:33},this.rules[59].opcodes[3]={type:5,min:35,max:126},this.rules[59].opcodes[4]={type:4,index:60},this.rules[60].opcodes=[],this.rules[60].opcodes[0]={type:6,string:[9]},this.rules[61].opcodes=[],this.rules[61].opcodes[0]={type:2,children:[1,2,3]},this.rules[61].opcodes[1]={type:4,index:62},this.rules[61].opcodes[2]={type:4,index:64},this.rules[61].opcodes[3]={type:4,index:63},this.rules[62].opcodes=[],this.rules[62].opcodes[0]={type:6,string:[39]},this.rules[63].opcodes=[],this.rules[63].opcodes[0]={type:6,string:[39]},this.rules[64].opcodes=[],this.rules[64].opcodes[0]={type:3,min:0,max:1/0},this.rules[64].opcodes[1]={type:1,children:[2,3,4]},this.rules[64].opcodes[2]={type:5,min:32,max:38},this.rules[64].opcodes[3]={type:5,min:40,max:126},this.rules[64].opcodes[4]={type:4,index:60},this.rules[65].opcodes=[],this.rules[65].opcodes[0]={type:2,children:[1,2,3]},this.rules[65].opcodes[1]={type:4,index:66},this.rules[65].opcodes[2]={type:4,index:67},this.rules[65].opcodes[3]={type:4,index:68},this.rules[66].opcodes=[],this.rules[66].opcodes[0]={type:6,string:[60]},this.rules[67].opcodes=[],this.rules[67].opcodes[0]={type:3,min:0,max:1/0},this.rules[67].opcodes[1]={type:1,children:[2,3,4]},this.rules[67].opcodes[2]={type:5,min:32,max:61},this.rules[67].opcodes[3]={type:5,min:63,max:126},this.rules[67].opcodes[4]={type:4,index:60},this.rules[68].opcodes=[],this.rules[68].opcodes[0]={type:6,string:[62]},this.rules[69].opcodes=[],this.rules[69].opcodes[0]={type:4,index:72},this.rules[70].opcodes=[],this.rules[70].opcodes[0]={type:4,index:72},this.rules[71].opcodes=[],this.rules[71].opcodes[0]={type:4,index:72},this.rules[72].opcodes=[],this.rules[72].opcodes[0]={type:3,min:1,max:1/0},this.rules[72].opcodes[1]={type:5,min:48,max:57},this.rules[73].opcodes=[],this.rules[73].opcodes[0]={type:4,index:85},this.rules[74].opcodes=[],this.rules[74].opcodes[0]={type:4,index:87},this.rules[75].opcodes=[],this.rules[75].opcodes[0]={type:4,index:86},this.rules[76].opcodes=[],this.rules[76].opcodes[0]={type:1,children:[1,2]},this.rules[76].opcodes[1]={type:6,string:[68]},this.rules[76].opcodes[2]={type:6,string:[100]},this.rules[77].opcodes=[],this.rules[77].opcodes[0]={type:1,children:[1,2]},this.rules[77].opcodes[1]={type:6,string:[88]},this.rules[77].opcodes[2]={type:6,string:[120]},this.rules[78].opcodes=[],this.rules[78].opcodes[0]={type:1,children:[1,2]},this.rules[78].opcodes[1]={type:6,string:[66]},this.rules[78].opcodes[2]={type:6,string:[98]},this.rules[79].opcodes=[],this.rules[79].opcodes[0]={type:4,index:85},this.rules[80].opcodes=[],this.rules[80].opcodes[0]={type:4,index:85},this.rules[81].opcodes=[],this.rules[81].opcodes[0]={type:4,index:86},this.rules[82].opcodes=[],this.rules[82].opcodes[0]={type:4,index:86},this.rules[83].opcodes=[],this.rules[83].opcodes[0]={type:4,index:87},this.rules[84].opcodes=[],this.rules[84].opcodes[0]={type:4,index:87},this.rules[85].opcodes=[],this.rules[85].opcodes[0]={type:3,min:1,max:1/0},this.rules[85].opcodes[1]={type:5,min:48,max:57},this.rules[86].opcodes=[],this.rules[86].opcodes[0]={type:3,min:1,max:1/0},this.rules[86].opcodes[1]={type:5,min:48,max:49},this.rules[87].opcodes=[],this.rules[87].opcodes[0]={type:3,min:1,max:1/0},this.rules[87].opcodes[1]={type:1,children:[2,3,4]},this.rules[87].opcodes[2]={type:5,min:48,max:57},this.rules[87].opcodes[3]={type:5,min:65,max:70},this.rules[87].opcodes[4]={type:5,min:97,max:102},this.rules[88].opcodes=[],this.rules[88].opcodes[0]={type:2,children:[1,4]},this.rules[88].opcodes[1]={type:1,children:[2,3]},this.rules[88].opcodes[2]={type:5,min:97,max:122},this.rules[88].opcodes[3]={type:5,min:65,max:90},this.rules[88].opcodes[4]={type:3,min:0,max:1/0},this.rules[88].opcodes[5]={type:1,children:[6,7,8,9]},this.rules[88].opcodes[6]={type:5,min:97,max:122},this.rules[88].opcodes[7]={type:5,min:65,max:90},this.rules[88].opcodes[8]={type:5,min:48,max:57},this.rules[88].opcodes[9]={type:6,string:[45]},this.rules[89].opcodes=[],this.rules[89].opcodes[0]={type:3,min:0,max:1/0},this.rules[89].opcodes[1]={type:4,index:91},this.rules[90].opcodes=[],this.rules[90].opcodes[0]={type:3,min:1,max:1/0},this.rules[90].opcodes[1]={type:4,index:91},this.rules[91].opcodes=[],this.rules[91].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[91].opcodes[1]={type:6,string:[32]},this.rules[91].opcodes[2]={type:6,string:[9]},this.rules[91].opcodes[3]={type:4,index:92},this.rules[91].opcodes[4]={type:4,index:94},this.rules[92].opcodes=[],this.rules[92].opcodes[0]={type:2,children:[1,2]},this.rules[92].opcodes[1]={type:6,string:[59]},this.rules[92].opcodes[2]={type:3,min:0,max:1/0},this.rules[92].opcodes[3]={type:1,children:[4,5]},this.rules[92].opcodes[4]={type:5,min:32,max:126},this.rules[92].opcodes[5]={type:6,string:[9]},this.rules[93].opcodes=[],this.rules[93].opcodes[0]={type:1,children:[1,2,3]},this.rules[93].opcodes[1]={type:6,string:[13,10]},this.rules[93].opcodes[2]={type:6,string:[10]},this.rules[93].opcodes[3]={type:6,string:[13]},this.rules[94].opcodes=[],this.rules[94].opcodes[0]={type:2,children:[1,5]},this.rules[94].opcodes[1]={type:1,children:[2,3,4]},this.rules[94].opcodes[2]={type:6,string:[13,10]},this.rules[94].opcodes[3]={type:6,string:[10]},this.rules[94].opcodes[4]={type:6,string:[13]},this.rules[94].opcodes[5]={type:1,children:[6,7]},this.rules[94].opcodes[6]={type:6,string:[32]},this.rules[94].opcodes[7]={type:6,string:[9]},this.toString=function(){let e="";return e+=";\n",e+="; ABNF for JavaScript APG 2.0 SABNF\n",e+="; RFC 5234 with some restrictions and additions.\n",e+="; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation\n",e+=';  - accepts %s"string" as a case-sensitive string\n',e+=';  - accepts %i"string" as a case-insensitive string\n',e+=';  - accepts "string" as a case-insensitive string\n',e+=";\n",e+="; Some restrictions:\n",e+=";   1. Rules must begin at first character of each line.\n",e+=";      Indentations on first rule and rules thereafter are not allowed.\n",e+=";   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.\n",e+=";   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.\n",e+=";      However, a working parser cannot be generated from them.\n",e+=";\n",e+="; Super set (SABNF) additions:\n",e+=";   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.\n",e+=";      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found\n",e+=";      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found\n",e+=";      e.g. &%d13 or &rule or !(A / B)\n",e+=";   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.\n",e+=";      'name' is alpha followed by alpha/num/hyphen just like a rule name.\n",e+=";      u_name may be used as an element but no rule definition is given.\n",e+=";      e.g. rule = A / u_myUdt\n",e+=';           A = "a"\n',e+=";      would be a valid grammar.\n",e+=";   3. Case-sensitive, single-quoted strings are accepted.\n",e+=";      e.g. 'abc' would be equivalent to %d97.98.99\n",e+=';      (kept for backward compatibility, but superseded by %s"abc")  \n',e+="; New 12/26/2015\n",e+=";   4. Look-behind operators are accepted as element prefixes.\n",e+=";      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found\n",e+=";      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found\n",e+=";      e.g. &&%d13 or &&rule or !!(A / B)\n",e+=";   5. Back reference operators, i.e. \\rulename, are accepted.\n",e+=";      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts\n",e+=";      to match is a phrase previously matched by the rule 'rulename'.\n",e+=";      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.\n",e+=";      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.\n",e+=";      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.\n",e+=";      Back reference modifiers can be used to specify case and mode.\n",e+=";      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA\n",e+=";      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.\n",e+=";      Modifiers %u and %p determine universal mode and parent frame mode, respectively.\n",e+=";      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. \n",e+=";   7. String begin anchor, ABG(%^) matches the beginning of the input string location.\n",e+=";      Returns EMPTY or NOMATCH. Never consumes any characters.\n",e+=";   8. String end anchor, AEN(%$) matches the end of the input string location.\n",e+=";      Returns EMPTY or NOMATCH. Never consumes any characters.\n",e+=";\n",e+="File            = *(BlankLine / Rule / RuleError)\n",e+="BlankLine       = *(%d32/%d9) [comment] LineEnd\n",e+="Rule            = RuleLookup owsp Alternation ((owsp LineEnd)\n",e+="                / (LineEndError LineEnd))\n",e+="RuleLookup      = RuleNameTest owsp DefinedAsTest\n",e+="RuleNameTest    = RuleName/RuleNameError\n",e+="RuleName        = alphanum\n",e+="RuleNameError   = 1*(%d33-60/%d62-126)\n",e+="DefinedAsTest   = DefinedAs / DefinedAsError\n",e+="DefinedAsError  = 1*2%d33-126\n",e+="DefinedAs       = IncAlt / Defined\n",e+="Defined         = %d61\n",e+="IncAlt          = %d61.47\n",e+="RuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd\n",e+="LineEndError    = 1*(%d32-126 / %d9  / LineContinue)\n",e+="Alternation     = Concatenation *(owsp AltOp Concatenation)\n",e+="Concatenation   = Repetition *(CatOp Repetition)\n",e+="Repetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)\n",e+="Modifier        = (Predicate [RepOp])\n",e+="                / RepOp\n",e+="Predicate       = BkaOp\n",e+="                / BknOp\n",e+="                / AndOp\n",e+="                / NotOp\n",e+="BasicElement    = UdtOp\n",e+="                / RnmOp\n",e+="                / TrgOp\n",e+="                / TbsOp\n",e+="                / TlsOp\n",e+="                / ClsOp\n",e+="                / BkrOp\n",e+="                / AbgOp\n",e+="                / AenOp\n",e+="                / ProsVal\n",e+="BasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)\n",e+="Group           = GroupOpen  Alternation (GroupClose / GroupError)\n",e+="GroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\n",e+="GroupOpen       = %d40 owsp\n",e+="GroupClose      = owsp %d41\n",e+="Option          = OptionOpen Alternation (OptionClose / OptionError)\n",e+="OptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\n",e+="OptionOpen      = %d91 owsp\n",e+="OptionClose     = owsp %d93\n",e+="RnmOp           = alphanum\n",e+="BkrOp           = %d92 [bkrModifier] bkr-name\n",e+="bkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])\n",e+="cs              = '%s'\n",e+="ci              = '%i'\n",e+="um              = '%u'\n",e+="pm              = '%p'\n",e+="bkr-name        = uname / ename / rname\n",e+="rname           = alphanum\n",e+="uname           = %d117.95 alphanum\n",e+="ename           = %d101.95 alphanum\n",e+="UdtOp           = udt-empty\n",e+="                / udt-non-empty\n",e+="udt-non-empty   = %d117.95 alphanum\n",e+="udt-empty       = %d101.95 alphanum\n",e+="RepOp           = (rep-min StarOp rep-max)\n",e+="                / (rep-min StarOp)\n",e+="                / (StarOp rep-max)\n",e+="                / StarOp\n",e+="                / rep-min-max\n",e+="AltOp           = %d47 owsp\n",e+="CatOp           = wsp\n",e+="StarOp          = %d42\n",e+="AndOp           = %d38\n",e+="NotOp           = %d33\n",e+="BkaOp           = %d38.38\n",e+="BknOp           = %d33.33\n",e+="AbgOp           = %d37.94\n",e+="AenOp           = %d37.36\n",e+="TrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))\n",e+="TbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))\n",e+="TlsOp           = TlsCase TlsOpen TlsString TlsClose\n",e+='TlsCase         = ["%i" / "%s"]\n',e+="TlsOpen         = %d34\n",e+="TlsClose        = %d34\n",e+="TlsString       = *(%d32-33/%d35-126/StringTab)\n",e+="StringTab       = %d9\n",e+="ClsOp           = ClsOpen ClsString ClsClose\n",e+="ClsOpen         = %d39\n",e+="ClsClose        = %d39\n",e+="ClsString       = *(%d32-38/%d40-126/StringTab)\n",e+="ProsVal         = ProsValOpen ProsValString ProsValClose\n",e+="ProsValOpen     = %d60\n",e+="ProsValString   = *(%d32-61/%d63-126/StringTab)\n",e+="ProsValClose    = %d62\n",e+="rep-min         = rep-num\n",e+="rep-min-max     = rep-num\n",e+="rep-max         = rep-num\n",e+="rep-num         = 1*(%d48-57)\n",e+="dString         = dnum\n",e+="xString         = xnum\n",e+="bString         = bnum\n",e+="Dec             = (%d68/%d100)\n",e+="Hex             = (%d88/%d120)\n",e+="Bin             = (%d66/%d98)\n",e+="dmin            = dnum\n",e+="dmax            = dnum\n",e+="bmin            = bnum\n",e+="bmax            = bnum\n",e+="xmin            = xnum\n",e+="xmax            = xnum\n",e+="dnum            = 1*(%d48-57)\n",e+="bnum            = 1*%d48-49\n",e+="xnum            = 1*(%d48-57 / %d65-70 / %d97-102)\n",e+=";\n",e+="; Basics\n",e+="alphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)\n",e+="owsp            = *space\n",e+="wsp             = 1*space\n",e+="space           = %d32\n",e+="                / %d9\n",e+="                / comment\n",e+="                / LineContinue\n",e+="comment         = %d59 *(%d32-126 / %d9)\n",e+="LineEnd         = %d13.10\n",e+="                / %d10\n",e+="                / %d13\n",e+="LineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)\n",";\n; ABNF for JavaScript APG 2.0 SABNF\n; RFC 5234 with some restrictions and additions.\n; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation\n;  - accepts %s\"string\" as a case-sensitive string\n;  - accepts %i\"string\" as a case-insensitive string\n;  - accepts \"string\" as a case-insensitive string\n;\n; Some restrictions:\n;   1. Rules must begin at first character of each line.\n;      Indentations on first rule and rules thereafter are not allowed.\n;   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.\n;   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.\n;      However, a working parser cannot be generated from them.\n;\n; Super set (SABNF) additions:\n;   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.\n;      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found\n;      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found\n;      e.g. &%d13 or &rule or !(A / B)\n;   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.\n;      'name' is alpha followed by alpha/num/hyphen just like a rule name.\n;      u_name may be used as an element but no rule definition is given.\n;      e.g. rule = A / u_myUdt\n;           A = \"a\"\n;      would be a valid grammar.\n;   3. Case-sensitive, single-quoted strings are accepted.\n;      e.g. 'abc' would be equivalent to %d97.98.99\n;      (kept for backward compatibility, but superseded by %s\"abc\")  \n; New 12/26/2015\n;   4. Look-behind operators are accepted as element prefixes.\n;      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found\n;      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found\n;      e.g. &&%d13 or &&rule or !!(A / B)\n;   5. Back reference operators, i.e. \\rulename, are accepted.\n;      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts\n;      to match is a phrase previously matched by the rule 'rulename'.\n;      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.\n;      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.\n;      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.\n;      Back reference modifiers can be used to specify case and mode.\n;      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA\n;      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.\n;      Modifiers %u and %p determine universal mode and parent frame mode, respectively.\n;      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. \n;   7. String begin anchor, ABG(%^) matches the beginning of the input string location.\n;      Returns EMPTY or NOMATCH. Never consumes any characters.\n;   8. String end anchor, AEN(%$) matches the end of the input string location.\n;      Returns EMPTY or NOMATCH. Never consumes any characters.\n;\nFile            = *(BlankLine / Rule / RuleError)\nBlankLine       = *(%d32/%d9) [comment] LineEnd\nRule            = RuleLookup owsp Alternation ((owsp LineEnd)\n                / (LineEndError LineEnd))\nRuleLookup      = RuleNameTest owsp DefinedAsTest\nRuleNameTest    = RuleName/RuleNameError\nRuleName        = alphanum\nRuleNameError   = 1*(%d33-60/%d62-126)\nDefinedAsTest   = DefinedAs / DefinedAsError\nDefinedAsError  = 1*2%d33-126\nDefinedAs       = IncAlt / Defined\nDefined         = %d61\nIncAlt          = %d61.47\nRuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd\nLineEndError    = 1*(%d32-126 / %d9  / LineContinue)\nAlternation     = Concatenation *(owsp AltOp Concatenation)\nConcatenation   = Repetition *(CatOp Repetition)\nRepetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)\nModifier        = (Predicate [RepOp])\n                / RepOp\nPredicate       = BkaOp\n                / BknOp\n                / AndOp\n                / NotOp\nBasicElement    = UdtOp\n                / RnmOp\n                / TrgOp\n                / TbsOp\n                / TlsOp\n                / ClsOp\n                / BkrOp\n                / AbgOp\n                / AenOp\n                / ProsVal\nBasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)\nGroup           = GroupOpen  Alternation (GroupClose / GroupError)\nGroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\nGroupOpen       = %d40 owsp\nGroupClose      = owsp %d41\nOption          = OptionOpen Alternation (OptionClose / OptionError)\nOptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\nOptionOpen      = %d91 owsp\nOptionClose     = owsp %d93\nRnmOp           = alphanum\nBkrOp           = %d92 [bkrModifier] bkr-name\nbkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])\ncs              = '%s'\nci              = '%i'\num              = '%u'\npm              = '%p'\nbkr-name        = uname / ename / rname\nrname           = alphanum\nuname           = %d117.95 alphanum\nename           = %d101.95 alphanum\nUdtOp           = udt-empty\n                / udt-non-empty\nudt-non-empty   = %d117.95 alphanum\nudt-empty       = %d101.95 alphanum\nRepOp           = (rep-min StarOp rep-max)\n                / (rep-min StarOp)\n                / (StarOp rep-max)\n                / StarOp\n                / rep-min-max\nAltOp           = %d47 owsp\nCatOp           = wsp\nStarOp          = %d42\nAndOp           = %d38\nNotOp           = %d33\nBkaOp           = %d38.38\nBknOp           = %d33.33\nAbgOp           = %d37.94\nAenOp           = %d37.36\nTrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))\nTbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))\nTlsOp           = TlsCase TlsOpen TlsString TlsClose\nTlsCase         = [\"%i\" / \"%s\"]\nTlsOpen         = %d34\nTlsClose        = %d34\nTlsString       = *(%d32-33/%d35-126/StringTab)\nStringTab       = %d9\nClsOp           = ClsOpen ClsString ClsClose\nClsOpen         = %d39\nClsClose        = %d39\nClsString       = *(%d32-38/%d40-126/StringTab)\nProsVal         = ProsValOpen ProsValString ProsValClose\nProsValOpen     = %d60\nProsValString   = *(%d32-61/%d63-126/StringTab)\nProsValClose    = %d62\nrep-min         = rep-num\nrep-min-max     = rep-num\nrep-max         = rep-num\nrep-num         = 1*(%d48-57)\ndString         = dnum\nxString         = xnum\nbString         = bnum\nDec             = (%d68/%d100)\nHex             = (%d88/%d120)\nBin             = (%d66/%d98)\ndmin            = dnum\ndmax            = dnum\nbmin            = bnum\nbmax            = bnum\nxmin            = xnum\nxmax            = xnum\ndnum            = 1*(%d48-57)\nbnum            = 1*%d48-49\nxnum            = 1*(%d48-57 / %d65-70 / %d97-102)\n;\n; Basics\nalphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)\nowsp            = *space\nwsp             = 1*space\nspace           = %d32\n                / %d9\n                / comment\n                / LineContinue\ncomment         = %d59 *(%d32-126 / %d9)\nLineEnd         = %d13.10\n                / %d10\n                / %d13\nLineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)\n"}}},{}],32:[function(e,t,r){"use strict";let n=e("apg-lib"),s=n.ids;let o=[];o.line=function(e,t,r,n,o){return e==s.SEM_PRE?(o.endLength=0,o.textLength=0,o.invalidCount=0):o.lines.push({lineNo:o.lines.length,beginChar:r,length:n,textLength:o.textLength,endType:o.endType,invalidChars:o.invalidCount}),s.SEM_OK},o["line-text"]=function(e,t,r,n,o){return e==s.SEM_PRE&&(o.textLength=n),s.SEM_OK},o["last-line"]=function(e,t,r,n,o){return e==s.SEM_PRE?(o.endLength=0,o.textLength=0,o.invalidCount=0):o.strict?(o.lines.push({lineNo:o.lines.length,beginChar:r,length:n,textLength:n,endType:"none",invalidChars:o.invalidCount}),o.errors.push({line:o.lineNo,char:r+n,msg:"no line end on last line - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})):(t.push(10),o.lines.push({lineNo:o.lines.length,beginChar:r,length:n+1,textLength:n,endType:"LF",invalidChars:o.invalidCount})),s.SEM_OK},o.invalid=function(e,t,r,o,i){return e==s.SEM_PRE&&i.errors.push({line:i.lineNo,char:r,msg:"invalid character found '\\x"+n.utils.charToHex(t[r])+"'"}),s.SEM_OK},o.end=function(e,t,r,n,o){return e==s.SEM_POST&&(o.lineNo+=1),s.SEM_OK},o.lf=function(e,t,r,n,o){return e==s.SEM_PRE&&(o.endType="LF",o.strict&&o.errors.push({line:o.lineNo,char:r,msg:"line end character LF(\\n, \\x0A) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),s.SEM_OK},o.cr=function(e,t,r,n,o){return e==s.SEM_PRE&&(o.endType="CR",o.strict&&o.errors.push({line:o.lineNo,char:r,msg:"line end character CR(\\r, \\x0D) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),s.SEM_OK},o.crlf=function(e,t,r,n,o){return e==s.SEM_PRE&&(o.endType="CRLF"),s.SEM_OK},r.callbacks=o},{"apg-lib":58}],33:[function(e,t,r){t.exports=function(){"use strict";this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"file",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"line",lower:"line",index:1,isBkr:!1},this.rules[2]={name:"line-text",lower:"line-text",index:2,isBkr:!1},this.rules[3]={name:"last-line",lower:"last-line",index:3,isBkr:!1},this.rules[4]={name:"valid",lower:"valid",index:4,isBkr:!1},this.rules[5]={name:"invalid",lower:"invalid",index:5,isBkr:!1},this.rules[6]={name:"end",lower:"end",index:6,isBkr:!1},this.rules[7]={name:"CRLF",lower:"crlf",index:7,isBkr:!1},this.rules[8]={name:"LF",lower:"lf",index:8,isBkr:!1},this.rules[9]={name:"CR",lower:"cr",index:9,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:2,children:[1,3]},this.rules[0].opcodes[1]={type:3,min:0,max:1/0},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:3,min:0,max:1},this.rules[0].opcodes[4]={type:4,index:3},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,2]},this.rules[1].opcodes[1]={type:4,index:2},this.rules[1].opcodes[2]={type:4,index:6},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:3,min:0,max:1/0},this.rules[2].opcodes[1]={type:1,children:[2,3]},this.rules[2].opcodes[2]={type:4,index:4},this.rules[2].opcodes[3]={type:4,index:5},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:3,min:1,max:1/0},this.rules[3].opcodes[1]={type:1,children:[2,3]},this.rules[3].opcodes[2]={type:4,index:4},this.rules[3].opcodes[3]={type:4,index:5},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:5,min:32,max:126},this.rules[4].opcodes[2]={type:6,string:[9]},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[5].opcodes[1]={type:5,min:0,max:8},this.rules[5].opcodes[2]={type:5,min:11,max:12},this.rules[5].opcodes[3]={type:5,min:14,max:31},this.rules[5].opcodes[4]={type:5,min:127,max:4294967295},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:1,children:[1,2,3]},this.rules[6].opcodes[1]={type:4,index:7},this.rules[6].opcodes[2]={type:4,index:8},this.rules[6].opcodes[3]={type:4,index:9},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:6,string:[13,10]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:6,string:[10]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:6,string:[13]},this.toString=function(){let e="";return e+="file = *line [last-line]\n",e+="line = line-text end\n",e+="line-text = *(valid/invalid)\n",e+="last-line = 1*(valid/invalid)\n",e+="valid = %d32-126 / %d9\n",e+="invalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffffffff\n",e+="end = CRLF / LF / CR\n",e+="CRLF = %d13.10\n",e+="LF = %d10\n",e+="CR = %d13\n","file = *line [last-line]\nline = line-text end\nline-text = *(valid/invalid)\nlast-line = 1*(valid/invalid)\nvalid = %d32-126 / %d9\ninvalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffffffff\nend = CRLF / LF / CR\nCRLF = %d13.10\nLF = %d10\nCR = %d13\n"}}},{}],34:[function(e,t,r){t.exports=function(t,r,n,s){"use strict";let o=e("apg-lib"),i=new(e("./scanner-grammar.js")),a=e("./scanner-callbacks").callbacks,l=[],c=new o.parser;if(c.ast=new o.ast,c.ast.callbacks=a,s){if("traceObject"!==s.traceObject)throw new TypError("scanner.js: trace argument is not a trace object");c.trace=s}if(!0!==c.parse(i,"file",t).success)return void r.push({line:0,char:0,msg:"syntax analysis error analyzing input SABNF grammar"});let p={lines:l,lineNo:0,errors:r,strict:!!n};return c.ast.translate(p),l}},{"./scanner-callbacks":32,"./scanner-grammar.js":33,"apg-lib":58}],35:[function(e,t,r){t.exports=function(t){"use strict";let r=e("apg-lib"),n=r.ids,s=function(){this.names=[],this.add=function(e){let t=-1;return-1===this.get(e)&&(t={name:e,lower:e.toLowerCase(),index:this.names.length},this.names.push(t)),t},this.get=function(e){let t=-1,r=e.toLowerCase();for(let e=0;e<this.names.length;e+=1)if(this.names[e].lower===r){t=this.names[e];break}return t}},o=function(e,t,r){let n=0;for(let s=t;s<t+r;s+=1)n=10*n+e[s]-48;return n},i=function(e,t,r){let n=0;for(let s=t;s<t+r;s+=1)n=2*n+e[s]-48;return n},a=function(e,t,r){let n=0;for(let s=t;s<t+r;s+=1){let t=e[s];if(t>=48&&t<=57)t-=48;else if(t>=65&&t<=70)t-=55;else{if(!(t>=97&&t<=102))throw"hexnum out of range";t-=87}n=16*n+t}return n};this.callbacks=[],this.callbacks.abgop=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&o.opcodes.push({type:n.ABG}),i},this.callbacks.aenop=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&o.opcodes.push({type:n.AEN}),i},this.callbacks.alternation=function(e,t,r,s,o){let i=n.SEM_OK;if(e==n.SEM_PRE)for(;;){if(null===o.definedas){i=n.SEM_SKIP;break}if(null===o.topStack){if("="===o.definedas){o.topStack={alt:{type:n.ALT,children:[]},cat:null},o.altStack.push(o.topStack),o.opcodes.push(o.topStack.alt);break}o.topStack={alt:o.opcodes[0],cat:null},o.altStack.push(o.topStack);break}o.topStack={alt:{type:n.ALT,children:[]},cat:null},o.altStack.push(o.topStack),o.opcodes.push(o.topStack.alt);break}else e==n.SEM_POST&&(o.altStack.pop(),o.altStack.length>0?o.topStack=o.altStack[o.altStack.length-1]:o.topStack=null);return i},this.callbacks.andop=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&o.opcodes.push({type:n.AND}),i},this.callbacks.bmax=function(e,t,r,s,o){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.max=i(t,r,s)),a},this.callbacks.bmin=function(e,t,r,s,o){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.min=i(t,r,s)),a},this.callbacks.bkaop=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&o.opcodes.push({type:n.BKA}),i},this.callbacks.bknop=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&o.opcodes.push({type:n.BKN}),i},this.callbacks.bkrop=function(e,t,s,o,i){let a=n.SEM_OK;return e==n.SEM_PRE?(i.ci=!0,i.cs=!1,i.um=!0,i.pm=!1):e==n.SEM_POST&&i.opcodes.push({type:n.BKR,bkrCase:!0===i.cs?n.BKR_MODE_CS:n.BKR_MODE_CI,bkrMode:!0===i.pm?n.BKR_MODE_PM:n.BKR_MODE_UM,index:{phraseIndex:i.bkrname.phraseIndex,name:r.utils.charsToString(t,i.bkrname.phraseIndex,i.bkrname.phraseLength)}}),a},this.callbacks["bkr-name"]=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.bkrname={phraseIndex:r,phraseLength:s}),i},this.callbacks.bstring=function(e,t,r,s,o){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&o.tbsstr.push(i(t,r,s)),a},this.callbacks.clsop=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(s<=2?o.opcodes.push({type:n.TLS,string:[]}):o.opcodes.push({type:n.TBS,string:t.slice(r+1,r+s-1)})),i},this.callbacks.ci=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.ci=!0),i},this.callbacks.cs=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.cs=!0),i},this.callbacks.um=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.um=!0),i},this.callbacks.pm=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.pm=!0),i},this.callbacks.concatenation=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE?(o.topStack.alt.children.push(o.opcodes.length),o.topStack.cat={type:n.CAT,children:[]},o.opcodes.push(o.topStack.cat)):e==n.SEM_POST&&(o.topStack.cat=null),i},this.callbacks.defined=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.definedas="="),i},this.callbacks.dmax=function(e,t,r,s,i){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.max=o(t,r,s)),a},this.callbacks.dmin=function(e,t,r,s,i){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.min=o(t,r,s)),a},this.callbacks.dstring=function(e,t,r,s,i){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&i.tbsstr.push(o(t,r,s)),a},this.callbacks.file=function(e,t,r,o,i){let a=n.SEM_OK;if(e==n.SEM_PRE)i.ruleNames=new s,i.udtNames=new s,i.rules=[],i.udts=[],i.rulesLineMap=[],i.opcodes=[],i.altStack=[],i.topStack=null,i.topRule=null;else if(e==n.SEM_POST){let e;i.rules.forEach((function(t,r){t.isBkr=!1,t.opcodes.forEach((function(t,r){t.type===n.RNM&&(e=i.ruleNames.get(t.index.name),-1===e?(i.errors.push({line:i.findLine(i.lines,t.index.phraseIndex,i.charsLength),char:t.index.phraseIndex,msg:"Rule name '"+t.index.name+"' used but not defined."}),t.index=-1):t.index=e.index)}))})),i.udts.forEach((function(e){e.isBkr=!1})),i.rules.forEach((function(t,r){t.opcodes.forEach((function(r,s){r.type===n.BKR&&(t.hasBkr=!0,e=i.ruleNames.get(r.index.name),-1!==e?(i.rules[e.index].isBkr=!0,r.index=e.index):(e=i.udtNames.get(r.index.name),-1!==e?(i.udts[e.index].isBkr=!0,r.index=i.rules.length+e.index):(i.errors.push({line:i.findLine(i.lines,r.index.phraseIndex,i.charsLength),char:r.index.phraseIndex,msg:"Back reference name '"+r.index.name+"' refers to undefined rule or unamed UDT."}),r.index=-1)))}))}))}return a},this.callbacks.incalt=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.definedas="=/"),i},this.callbacks.notop=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&o.opcodes.push({type:n.NOT}),i},this.callbacks.optionopen=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&o.opcodes.push({type:n.REP,min:0,max:1,char:r}),i},this.callbacks["rep-max"]=function(e,t,r,s,i){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.max=o(t,r,s)),a},this.callbacks["rep-min"]=function(e,t,r,s,i){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.min=o(t,r,s)),a},this.callbacks["rep-min-max"]=function(e,t,r,s,i){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.max=o(t,r,s),i.min=i.max),a},this.callbacks.repetition=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE?o.topStack.cat.children.push(o.opcodes.length):n.SEM_POST,i},this.callbacks.repop=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE?(o.min=0,o.max=1/0,o.topRep={type:n.REP,min:0,max:1/0},o.opcodes.push(o.topRep)):e==n.SEM_POST&&(o.min>o.max&&o.errors.push({line:o.findLine(o.lines,r,o.charsLength),char:r,msg:"repetition min cannot be greater than max: min: "+o.min+": max: "+o.max}),o.topRep.min=o.min,o.topRep.max=o.max),i},this.callbacks.rnmop=function(e,t,s,o,i){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&i.opcodes.push({type:n.RNM,index:{phraseIndex:s,name:r.utils.charsToString(t,s,o)}}),a},this.callbacks.rule=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE?(o.altStack.length=0,o.topStack=null,o.rulesLineMap.push({line:o.findLine(o.lines,r,o.charsLength),char:r})):n.SEM_POST,i},this.callbacks.rulelookup=function(e,t,r,s,o){let i=n.SEM_OK;if(e==n.SEM_PRE)o.ruleName="",o.definedas="";else if(e==n.SEM_POST){let e;"="===o.definedas?(e=o.ruleNames.add(o.ruleName),-1===e?(o.definedas=null,o.errors.push({line:o.findLine(o.lines,r,o.charsLength),char:r,msg:"Rule name '"+o.ruleName+"' previously defined."})):(o.topRule={name:e.name,lower:e.lower,opcodes:[],index:e.index},o.rules.push(o.topRule),o.opcodes=o.topRule.opcodes)):(e=o.ruleNames.get(o.ruleName),-1===e?(o.definedas=null,o.errors.push({line:o.findLine(o.lines,r,o.charsLength),char:r,msg:"Rule name '"+o.ruleName+"' for incremental alternate not previously defined."})):(o.topRule=o.rules[e.index],o.opcodes=o.topRule.opcodes))}return i},this.callbacks.rulename=function(e,t,s,o,i){let a=n.SEM_OK;return e==n.SEM_PRE?i.ruleName=r.utils.charsToString(t,s,o):n.SEM_POST,a},this.callbacks.tbsop=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE?o.tbsstr=[]:e==n.SEM_POST&&o.opcodes.push({type:n.TBS,string:o.tbsstr}),i},this.callbacks.tlscase=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&s>0&&(83===t[r+1]||115===t[r+1])&&(o.tlscase=!1),i},this.callbacks.tlsstring=function(e,t,r,s,o){let i=n.SEM_OK;if(e==n.SEM_PRE);else if(e==n.SEM_POST)if(o.tlscase){let e=t.slice(r,r+s);for(let t=0;t<e.length;t+=1)e[t]>=65&&e[t]<=90&&(e[t]+=32);o.opcodes.push({type:n.TLS,string:e})}else o.opcodes.push({type:n.TBS,string:t.slice(r,r+s)});return i},this.callbacks.tlsop=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE?o.tlscase=!0:n.SEM_POST,i},this.callbacks.trgop=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE?(o.min=0,o.max=0):e==n.SEM_POST&&(o.min>o.max&&o.errors.push({line:o.findLine(o.lines,r,o.charsLength),char:r,msg:"TRG, (%dmin-max), min cannot be greater than max: min: "+o.min+": max: "+o.max}),o.opcodes.push({type:n.TRG,min:o.min,max:o.max})),i},this.callbacks["udt-empty"]=function(e,t,s,o,i){let a=n.SEM_OK;if(e==n.SEM_PRE);else if(e==n.SEM_POST){let e=r.utils.charsToString(t,s,o),a=i.udtNames.add(e);if(-1===a){if(a=i.udtNames.get(e),-1===a)throw new Error("semUdtEmpty: name look up error")}else i.udts.push({name:a.name,lower:a.lower,index:a.index,empty:!0});i.opcodes.push({type:n.UDT,empty:!0,index:a.index})}return a},this.callbacks["udt-non-empty"]=function(e,t,s,o,i){let a=n.SEM_OK;if(e==n.SEM_PRE);else if(e==n.SEM_POST){let e=r.utils.charsToString(t,s,o),a=i.udtNames.add(e);if(-1===a){if(a=i.udtNames.get(e),-1===a)throw new Error("semUdtNonEmpty: name look up error")}else i.udts.push({name:a.name,lower:a.lower,index:a.index,empty:!1});i.opcodes.push({type:n.UDT,empty:!1,index:a.index,syntax:null,semantic:null})}return a},this.callbacks.xmax=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.max=a(t,r,s)),i},this.callbacks.xmin=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.min=a(t,r,s)),i},this.callbacks.xstring=function(e,t,r,s,o){let i=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&o.tbsstr.push(a(t,r,s)),i}}},{"apg-lib":58}],36:[function(e,t,r){t.exports=function(e=[],t=[],r="index"){if(thisFuncName="showRules",!Array.isArray(e)||!e.length)throw new Error("show-rules.js:"+thisFuncName+": rules arg must be array with length > 0");if(!Array.isArray(t))throw new Error("show-rules.js:"+thisFuncName+": udts arg must be array");let n=[],s=[],o=[],i=[];rules=e,udts=t,ruleCount=e.length,udtCount=t.length;let a,l="RULE/UDT NAMES";for(a=0;a<ruleCount;a++)n.push(a);if(s=n.slice(0),s.sort((function(e,t){return rules[e].lower<rules[t].lower?-1:rules[e].lower>rules[t].lower?1:0})),udtCount){for(a=0;a<udtCount;a++)o.push(a);i=o.slice(0),i.sort((function(e,t){return udts[e].lower<udts[t].lower?-1:udts[e].lower>udts[t].lower?1:0}))}if(97===r.charCodeAt(0)){for(l+=" - alphabetical by rule/UDT name\n",a=0;a<ruleCount;a++)l+=a+": "+s[a]+": "+rules[s[a]].name+"\n";if(udtCount)for(a=0;a<udtCount;a++)l+=a+": "+i[a]+": "+udts[i[a]].name+"\n"}else{for(l+=" - ordered by rule/UDT index\n",a=0;a<ruleCount;a++)l+=a+": "+rules[a].name+"\n";if(udtCount)for(a=0;a<udtCount;a++)l+=a+": "+udts[a].name+"\n"}return l}},{}],37:[function(e,t,r){t.exports=function(){"use strict";let t,r="syntax-callbacks.js: ",n=e("apg-lib"),s=n.ids;this.callbacks=[],this.callbacks.andop=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"AND operator(&) found - strict ABNF specified."})}},this.callbacks.basicelementerr=function(e,r,n,o){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:!1===t.basicError&&o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:"Unrecognized SABNF element."})}},this.callbacks.clsclose=function(e,r,n,o){switch(e.state){case s.ACTIVE:case s.EMPTY:break;case s.NOMATCH:o.errors.push({line:o.findLine(o.lines,t.clsOpen),char:t.clsOpen,msg:"Case-sensitive literal string('...') opened but not closed."}),t.clsOpen=null,t.basicError=!0;break;case s.MATCH:o.strict&&o.errors.push({line:o.findLine(o.lines,t.clsOpen),char:t.clsOpen,msg:"Case-sensitive string operator('...') found - strict ABNF specified."}),t.clsOpen=null}},this.callbacks.clsopen=function(e,r,n,o){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:t.clsOpen=n}},this.callbacks.clsstring=function(e,t,r,n){switch(e.state){case s.ACTIVE:n.stringTabChar=!1;break;case s.EMPTY:case s.NOMATCH:break;case s.MATCH:!1!==n.stringTabChar&&n.errors.push({line:n.findLine(n.lines,n.stringTabChar),char:n.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string."})}},this.callbacks.definedaserror=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Expected '=' or '=/'. Not found."})}},this.callbacks.file=function(e,t,n,o){switch(e.state){case s.ACTIVE:o.altStack=[],o.repCount=0;break;case s.EMPTY:o.errors.push({line:0,char:0,msg:"grammar file is empty"});break;case s.MATCH:0===o.ruleCount&&o.errors.push({line:0,char:0,msg:"no rules defined"});break;case s.NOMATCH:throw new Error(r+"synFile: grammar file NOMATCH: design error: should never happen.")}},this.callbacks.groupclose=function(e,r,n,o){switch(e.state){case s.ACTIVE:case s.EMPTY:break;case s.NOMATCH:o.errors.push({line:o.findLine(o.lines,t.groupOpen),char:t.groupOpen,msg:'Group "(...)" opened but not closed.'}),t=o.altStack.pop(),t.groupError=!0;break;case s.MATCH:t=o.altStack.pop()}},this.callbacks.groupopen=function(e,r,n,o){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:t={groupOpen:n,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},o.altStack.push(t)}},this.callbacks.lineenderror=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Unrecognized grammar element or characters."})}},this.callbacks.lineend=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:if(1===e.phraseLength&&n.strict){let e=13===t[r]?"CR":"LF";n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Line end '"+e+"' found - strict ABNF specified, only CRLF allowed."})}}},this.callbacks.notop=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"NOT operator(!) found - strict ABNF specified."})}},this.callbacks.optionclose=function(e,r,n,o){switch(e.state){case s.ACTIVE:case s.EMPTY:break;case s.NOMATCH:o.errors.push({line:o.findLine(o.lines,t.optionOpen),char:t.optionOpen,msg:'Option "[...]" opened but not closed.'}),t=o.altStack.pop(),t.optionError=!0;break;case s.MATCH:t=o.altStack.pop()}},this.callbacks.optionopen=function(e,r,n,o){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:t={groupOpen:null,groupError:!1,optionOpen:n,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},o.altStack.push(t)}},this.callbacks.prosvalclose=function(e,r,n,o){switch(e.state){case s.ACTIVE:case s.EMPTY:break;case s.NOMATCH:o.errors.push({line:o.findLine(o.lines,t.prosValOpen),char:t.prosValOpen,msg:"Prose value operator(<...>) opened but not closed."}),t.basicError=!0,t.prosValOpen=null;break;case s.MATCH:o.errors.push({line:o.findLine(o.lines,t.prosValOpen),char:t.prosValOpen,msg:"Prose value operator(<...>) found. The ABNF syntax is valid, but a parser cannot be generated from this grammar."}),t.prosValOpen=null}},this.callbacks.prosvalopen=function(e,r,n,o){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:t.prosValOpen=n}},this.callbacks.prosvalstring=function(e,t,r,n){switch(e.state){case s.ACTIVE:n.stringTabChar=!1;break;case s.EMPTY:case s.NOMATCH:break;case s.MATCH:!1!==n.stringTabChar&&n.errors.push({line:n.findLine(n.lines,n.stringTabChar),char:n.stringTabChar,msg:"Tab character (\\t, x09) not allowed in prose value string."})}},this.callbacks.repetition=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:break;case s.NOMATCH:case s.MATCH:n.repCount+=1}},this.callbacks.rule=function(e,n,o,i){switch(e.state){case s.ACTIVE:i.altStack.length=0,t={groupOpen:null,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},i.altStack.push(t);break;case s.EMPTY:throw new Error(r+"synRule: EMPTY: rule cannot be empty");case s.NOMATCH:break;case s.MATCH:i.ruleCount+=1}},this.callbacks.ruleerror=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Unrecognized SABNF line. Invalid rule, comment or blank line."})}},this.callbacks.rulenameerror=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Rule names must be alphanum and begin with alphabetic character."})}},this.callbacks.stringtab=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.stringTabChar=r}},this.callbacks.tlsclose=function(e,r,n,o){switch(e.state){case s.ACTIVE:case s.EMPTY:break;case s.NOMATCH:o.errors.push({line:o.findLine(o.lines,t.tlsOpen),char:t.tlsOpen,msg:'Case-insensitive literal string("...") opened but not closed.'}),t.basicError=!0,t.tlsOpen=null;break;case s.MATCH:t.tlsOpen=null}},this.callbacks.tlsopen=function(e,r,n,o){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:t.tlsOpen=n}},this.callbacks.tlsstring=function(e,t,r,n){switch(e.state){case s.ACTIVE:n.stringTabChar=!1;break;case s.EMPTY:case s.NOMATCH:break;case s.MATCH:!1!==n.stringTabChar&&n.errors.push({line:n.findLine(n.lines,n.stringTabChar),char:n.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string (see 'quoted-string' definition, RFC 7405.)"})}},this.callbacks.udtop=function(e,t,r,o){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:if(o.strict){let s=n.utils.charsToString(t,r,e.phraseLength);o.errors.push({line:o.findLine(o.lines,r,o.charsLength),char:r,msg:"UDT operator found("+s+") - strict ABNF specified."})}}},this.callbacks.bkaop=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Positive look-behind operator(&&) found - strict ABNF specified."})}},this.callbacks.bknop=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Negative look-behind operator(!!) found - strict ABNF specified."})}},this.callbacks.bkrop=function(e,t,r,o){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:if(o.strict){let s=n.utils.charsToString(t,r,e.phraseLength);o.errors.push({line:o.findLine(o.lines,r,o.charsLength),char:r,msg:"Back reference operator("+s+") found - strict ABNF specified."})}}},this.callbacks.abgop=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Beginning of string anchor(%^) found - strict ABNF specified."})}},this.callbacks.aenop=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"End of string anchor(%$) found - strict ABNF specified."})}}}},{"apg-lib":58}],38:[function(e,t,r){globalThis.apgApi=e("./api.js"),globalThis.apgLib=e("../apg-lib/node-exports.js"),globalThis.apgConvApi=e("../apg-conv-api/node-exports.js")},{"../apg-conv-api/node-exports.js":40,"../apg-lib/node-exports.js":46,"./api.js":26}],39:[function(e,t,r){(function(t){(function(){let n=this,s=e("./transformers.js"),o="UTF8",i="UTF16",a="UTF16BE",l="UTF16LE",c="UTF32",p="UTF32BE",u="UTF32LE",h="UINT7",d="ASCII",f="BINARY",g="UINT8",b="UINT16",m="UINT16LE",y="UINT16BE",A="UINT32",T="UINT32LE",E="UINT32BE",w="ESCAPED",x="STRING",S=function(e,r){if("string"!=typeof e||""===e)throw new TypeError('type: "'+e+'" not recognized');let n=function(e){let t={type:"",base64:!1},r=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(e);return r&&(r[2]&&(t.type=r[2].toUpperCase()),r[1]&&(t.base64=!0)),t}(e.toUpperCase());if(n.base64){if(n.type===x)throw new TypeError('type: "'+e+' "BASE64:" prefix not allowed with type '+x);if(t.isBuffer(r))n.data=s.base64.decode(r);else{if("string"!=typeof r)throw new TypeError('type: "'+e+" unrecognized data type: typeof(data): "+typeof r);{let e=t.from(r,"ascii");n.data=s.base64.decode(e)}}}else n.data=r;switch(n.type){case o:!function(e){e.type=o;let t=e.data;e.bom=0,t.length>=3&&239===t[0]&&187===t[1]&&191===t[2]&&(e.bom=3)}(n);break;case i:case a:case l:!function(e){let t=e.data;switch(e.bom=0,e.type){case i:e.type=a,t.length>=2&&(254===t[0]&&255===t[1]?e.bom=2:255===t[0]&&254===t[1]&&(e.type=l,e.bom=2));break;case a:if(e.type=a,t.length>=2)if(254===t[0]&&255===t[1])e.bom=2;else if(255===t[0]&&254===t[1])throw new TypeError('src type: "UTF16BE" specified but BOM is for "UTF16LE"');break;case l:if(e.type=l,t.length>=0){if(254===t[0]&&255===t[1])throw new TypeError('src type: "UTF16LE" specified but BOM is for "UTF16BE"');255===t[0]&&254===t[1]&&(e.bom=2)}break;default:throw new TypeError('UTF16 BOM: src type "'+e.type+'" unrecognized')}}(n);break;case c:case p:case u:!function(e){let t=e.data;switch(e.bom=0,e.type){case c:e.type=p,t.length>=4&&(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3]&&(e.bom=4),255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]&&(e.type=u,e.bom=4));break;case p:if(e.type=p,t.length>=4&&(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3]&&(e.bom=4),255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]))throw new TypeError('src type: UTF32BE specified but BOM is for UTF32LE"');break;case u:if(e.type=u,t.length>=4){if(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3])throw new TypeError('src type: "UTF32LE" specified but BOM is for "UTF32BE"');255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]&&(e.bom=4)}break;default:throw new TypeError('UTF32 BOM: src type "'+e.type+'" unrecognized')}}(n);break;case b:n.type=y;break;case A:n.type=E;break;case d:n.type=h;break;case f:n.type=g;break;case h:case g:case m:case y:case T:case E:case x:case w:break;default:throw new TypeError('type: "'+e+'" not recognized')}if(n.type===x){if("string"!=typeof n.data)throw new TypeError('type: "'+e+'" but data is not a string')}else if(!t.isBuffer(n.data))throw new TypeError('type: "'+e+'" but data is not a Buffer');return n},C=function(e,t){switch(e){case o:return s.utf8.encode(t);case a:return s.utf16be.encode(t);case l:return s.utf16le.encode(t);case p:return s.utf32be.encode(t);case u:return s.utf32le.encode(t);case h:return s.uint7.encode(t);case g:return s.uint8.encode(t);case y:return s.uint16be.encode(t);case m:return s.uint16le.encode(t);case E:return s.uint32be.encode(t);case T:return s.uint32le.encode(t);case x:return s.string.encode(t);case w:return s.escaped.encode(t);default:throw new TypeError('encode type "'+e+'" not recognized')}};r.decode=function(e,t){return function(e){switch(e.type){case o:return s.utf8.decode(e.data,e.bom);case l:return s.utf16le.decode(e.data,e.bom);case a:return s.utf16be.decode(e.data,e.bom);case p:return s.utf32be.decode(e.data,e.bom);case u:return s.utf32le.decode(e.data,e.bom);case h:return s.uint7.decode(e.data);case g:return s.uint8.decode(e.data);case y:return s.uint16be.decode(e.data);case m:return s.uint16le.decode(e.data);case E:return s.uint32be.decode(e.data);case T:return s.uint32le.decode(e.data);case x:return s.string.decode(e.data);case w:return s.escaped.decode(e.data);default:throw new TypeError('decode type "'+e.type+'" not recognized')}}(S(e,t))},r.encode=function(e,t){let r,n,S=function(e,t){if(!Array.isArray(t))throw new TypeError('dst chars: not array: "'+typeof t);if("string"!=typeof e)throw new TypeError('dst type: not string: "'+typeof e);switch(ret=function(e){let t,r,n={crlf:!1,lf:!1,base64:!1,type:""};for(;;){if(r=e,t=e.slice(0,5),"CRLF:"===t){n.crlf=!0,r=e.slice(5);break}if(t=e.slice(0,3),"LF:"===t){n.lf=!0,r=e.slice(3);break}break}return t=r.split(":"),1===t.length?n.type=t[0]:2===t.length&&"BASE64"===t[1]&&(n.base64=!0,n.type=t[0]),n}(e.toUpperCase()),ret.type){case o:case a:case l:case p:case u:case h:case g:case m:case y:case T:case E:case w:break;case x:if(ret.base64)throw new TypeError('":BASE64" suffix not allowed with type STRING');break;case d:ret.type=h;break;case f:ret.type=g;break;case i:ret.type=a;break;case c:ret.type=p;break;case b:ret.type=y;break;case A:ret.type=E;break;default:throw new TypeError('dst type unrecognized: "'+e+'" : must have form [crlf:|lf:]type[:base64]')}return ret}(e,t);return S.crlf?(r=s.lineEnds.crlf(t),n=C(S.type,r)):S.lf?(r=s.lineEnds.lf(t),n=C(S.type,r)):n=C(S.type,t),S.base64&&(n=s.base64.encode(n)),n},r.convert=function(e,t,r){return n.encode(r,n.decode(e,t))}}).call(this)}).call(this,e("buffer").Buffer)},{"./transformers.js":41,buffer:4}],40:[function(e,t,r){t.exports={converter:e("./converter.js"),transformers:e("./transformers.js")}},{"./converter.js":39,"./transformers.js":41}],41:[function(e,t,r){(function(e){(function(){let t=this,n=4294967292,s=4294967293,o=4294967294,i=4294967295,a=[0,1,3,7,15,31,63,127,255,511,1023],l=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),p=[];c.forEach((function(e){p.push(e.charCodeAt(0))})),r.utf8={encode:function(t){let r=[];return t.forEach((function(e){if(e>=0&&e<=127)r.push(e);else if(e<=2047)r.push(192+(e>>6&a[5])),r.push(128+(e&a[6]));else if(e<55296||e>57343&&e<=65535)r.push(224+(e>>12&a[4])),r.push(128+(e>>6&a[6])),r.push(128+(e&a[6]));else{if(!(e>=65536&&e<=1114111))throw new RangeError("utf8.encode: character out of range: char: "+e);{let t=e>>16&a[5];r.push(240+(t>>2)),r.push(128+((t&a[2])<<4)+(e>>12&a[4])),r.push(128+(e>>6&a[6])),r.push(128+(e&a[6]))}}})),e.from(r)},decode:function(e,t){function r(e,t){if(128!=(192&t))return s;let r=((e&a[5])<<6)+(t&a[6]);return r<128?n:r}function l(e,t,r){if(128!=(192&r)||128!=(192&t))return s;let i=((e&a[4])<<12)+((t&a[6])<<6)+(r&a[6]);return i<2048?n:i>=55296&&i<=57343?o:i}function c(e,t,r,i){if(128!=(192&i)||128!=(192&r)||128!=(192&t))return s;let l=(((e&a[3])<<2)+(t>>4&a[2])<<16)+((t&a[4])<<12)+((r&a[6])<<6)+(i&a[6]);return l<65536?n:l>1114111?o:l}let p,u,h,d,f,g,b=e.length,m=t?3:0,y=[];for(;m<b;){for(u=e[m],p=i;;){if(u>=0&&u<=127){p=u,g=1;break}if(h=m+1,h<b&&u>=194&&u<=223){p=r(u,e[h]),g=2;break}if(d=m+2,d<b&&u>=224&&u<=239){p=l(u,e[h],e[d]),g=3;break}if(f=m+3,f<b&&u>=240&&u<=244){p=c(u,e[h],e[d],e[f]),g=4;break}break}if(p>1114111){let e="byte["+m+"]";if(p===i)throw new RangeError("utf8.decode: ill-formed UTF8 byte sequence found at: "+e);if(p===s)throw new RangeError("utf8.decode: illegal trailing byte found at: "+e);if(p===o)throw new RangeError("utf8.decode: code point out of range found at: "+e);if(p===n)throw new RangeError("utf8.decode: non-shortest form found at: "+e);throw new RangeError("utf8.decode: unrecognized error found at: "+e)}y.push(p),m+=g}return y}},r.utf16be={encode:function(t){let r,n,s,o=[];for(let e=0;e<t.length;e+=1)if(r=t[e],r>=0&&r<=55295||r>=57344&&r<=65535)o.push(r>>8&a[8]),o.push(r&a[8]);else{if(!(r>=65536&&r<=1114111))throw new RangeError("utf16be.encode: UTF16BE value out of range: char["+e+"]: "+r);s=r-65536,n=55296+(s>>10),s=56320+(s&a[10]),o.push(n>>8&a[8]),o.push(n&a[8]),o.push(s>>8&a[8]),o.push(s&a[8])}return e.from(o)},decode:function(e,t){if(e.length%2>0)throw new RangeError("utf16be.decode: data length must be even multiple of 2: length: "+e.length);let r,n,s,o,i,a,l=[],c=e.length,p=t?2:0,u=0;for(;p<c;){for(;;){if(s=p+1,s<c){if(i=(e[p]<<8)+e[s],i<55296||i>57343){r=i,n=2;break}if(o=p+3,o<c&&(a=(e[p+2]<<8)+e[o],i<=56319&&a>=56320&&a<=57343)){r=65536+(i-55296<<10)+(a-56320),n=4;break}}throw new RangeError("utf16be.decode: ill-formed UTF16BE byte sequence found: byte["+p+"]")}l[u++]=r,p+=n}return l}},r.utf16le={encode:function(t){let r,n,s,o=[];for(let e=0;e<t.length;e+=1)if(r=t[e],r>=0&&r<=55295||r>=57344&&r<=65535)o.push(r&a[8]),o.push(r>>8&a[8]);else{if(!(r>=65536&&r<=1114111))throw new RangeError("utf16le.encode: UTF16LE value out of range: char["+e+"]: "+r);s=r-65536,n=55296+(s>>10),s=56320+(s&a[10]),o.push(n&a[8]),o.push(n>>8&a[8]),o.push(s&a[8]),o.push(s>>8&a[8])}return e.from(o)},decode:function(e,t){if(e.length%2>0)throw new RangeError("utf16le.decode: data length must be even multiple of 2: length: "+e.length);let r,n,s,o,i,a,l=[],c=e.length,p=t?2:0,u=0;for(;p<c;){for(;;){if(s=p+1,s<c){if(i=(e[s]<<8)+e[p],i<55296||i>57343){r=i,n=2;break}if(o=p+3,o<c&&(a=(e[o]<<8)+e[p+2],i<=56319&&a>=56320&&a<=57343)){r=65536+(i-55296<<10)+(a-56320),n=4;break}}throw new RangeError("utf16le.decode: ill-formed UTF16LE byte sequence found: byte["+p+"]")}l[u++]=r,p+=n}return l}},r.utf32be={encode:function(t){let r=e.alloc(4*t.length),n=0;return t.forEach((function(e){if(e>=55296&&e<=57343||e>1114111)throw new RangeError("utf32be.encode: UTF32BE character code out of range: char["+n/4+"]: "+e);r[n++]=e>>24&a[8],r[n++]=e>>16&a[8],r[n++]=e>>8&a[8],r[n++]=e&a[8]})),r},decode:function(e,t){if(e.length%4>0)throw new RangeError("utf32be.decode: UTF32BE byte length must be even multiple of 4: length: "+e.length);let r=[],n=t?4:0;for(;n<e.length;n+=4){let t=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];if(t>=55296&&t<=57343||t>1114111)throw new RangeError("utf32be.decode: UTF32BE character code out of range: char["+n/4+"]: "+t);r.push(t)}return r}},r.utf32le={encode:function(t){let r=e.alloc(4*t.length),n=0;return t.forEach((function(e){if(e>=55296&&e<=57343||e>1114111)throw new RangeError("utf32le.encode: UTF32LE character code out of range: char["+n/4+"]: "+e);r[n++]=e&a[8],r[n++]=e>>8&a[8],r[n++]=e>>16&a[8],r[n++]=e>>24&a[8]})),r},decode:function(e,t){if(e.length%4>0)throw new RangeError("utf32be.decode: UTF32LE byte length must be even multiple of 4: length: "+e.length);let r=[],n=t?4:0;for(;n<e.length;n+=4){let t=(e[n+3]<<24)+(e[n+2]<<16)+(e[n+1]<<8)+e[n];if(t>=55296&&t<=57343||t>1114111)throw new RangeError("utf32le.encode: UTF32LE character code out of range: char["+n/4+"]: "+t);r.push(t)}return r}},r.uint7={encode:function(t){let r=e.alloc(t.length);for(let e=0;e<t.length;e+=1){if(t[e]>127)throw new RangeError("uint7.encode: UINT7 character code out of range: char["+e+"]: "+t[e]);r[e]=t[e]}return r},decode:function(e){let t=[];for(let r=0;r<e.length;r+=1){if(e[r]>127)throw new RangeError("uint7.decode: UINT7 character code out of range: byte["+r+"]: "+e[r]);t[r]=e[r]}return t}},r.uint8={encode:function(t){let r=e.alloc(t.length);for(let e=0;e<t.length;e+=1){if(t[e]>255)throw new RangeError("uint8.encode: UINT8 character code out of range: char["+e+"]: "+t[e]);r[e]=t[e]}return r},decode:function(e){let t=[];for(let r=0;r<e.length;r+=1)t[r]=e[r];return t}},r.uint16be={encode:function(t){let r=e.alloc(2*t.length),n=0;return t.forEach((function(e){if(e>65535)throw new RangeError("uint16be.encode: UINT16BE character code out of range: char["+n/2+"]: "+e);r[n++]=e>>8&a[8],r[n++]=e&a[8]})),r},decode:function(e){if(e.length%2>0)throw new RangeError("uint16be.decode: UINT16BE byte length must be even multiple of 2: length: "+e.length);let t=[];for(let r=0;r<e.length;r+=2)t.push((e[r]<<8)+e[r+1]);return t}},r.uint16le={encode:function(t){let r=e.alloc(2*t.length),n=0;return t.forEach((function(e){if(e>65535)throw new RangeError("uint16le.encode: UINT16LE character code out of range: char["+n/2+"]: "+e);r[n++]=e&a[8],r[n++]=e>>8&a[8]})),r},decode:function(e){if(e.length%2>0)throw new RangeError("uint16le.decode: UINT16LE byte length must be even multiple of 2: length: "+e.length);let t=[];for(let r=0;r<e.length;r+=2)t.push((e[r+1]<<8)+e[r]);return t}},r.uint32be={encode:function(t){let r=e.alloc(4*t.length),n=0;return t.forEach((function(e){r[n++]=e>>24&a[8],r[n++]=e>>16&a[8],r[n++]=e>>8&a[8],r[n++]=e&a[8]})),r},decode:function(e){if(e.length%4>0)throw new RangeError("uint32be.decode: UINT32BE byte length must be even multiple of 4: length: "+e.length);let t=[];for(let r=0;r<e.length;r+=4)t.push((e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3]);return t}},r.uint32le={encode:function(t){let r=e.alloc(4*t.length),n=0;return t.forEach((function(e){r[n++]=e&a[8],r[n++]=e>>8&a[8],r[n++]=e>>16&a[8],r[n++]=e>>24&a[8]})),r},decode:function(e){if(e.length%4>0)throw new RangeError("uint32le.decode: UINT32LE byte length must be even multiple of 4: length: "+e.length);let t=[];for(let r=0;r<e.length;r+=4)t.push((e[r+3]<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]);return t}},r.string={encode:function(e){return t.utf16le.encode(e).toString("utf16le")},decode:function(r){return t.utf16le.decode(e.from(r,"utf16le"),0)}},r.escaped={encode:function(t){let r=[];for(let n=0;n<t.length;n+=1){let s=t[n];if(96===s)r.push(s),r.push(s);else if(10===s)r.push(s);else if(s>=32&&s<=126)r.push(s);else{let t="";if(s>=0&&s<=31)t+="`x"+l[s];else if(s>=127&&s<=255)t+="`x"+l[s];else if(s>=256&&s<=65535)t+="`u"+l[s>>8&a[8]]+l[s&a[8]];else{if(!(s>=65536&&s<=4294967295))throw new Error("escape.encode(char): char > 0xffffffff not allowed");{t+="`u{";let e=s>>24&a[8];e>0&&(t+=l[e]),t+=l[s>>16&a[8]]+l[s>>8&a[8]]+l[s&a[8]]+"}"}}e.from(t).forEach((function(e){r.push(e)}))}}return e.from(r)},decode:function(e){function t(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function r(e,r,n){let s={char:null,nexti:e+2,error:!0};if(e+1<r&&t(n[e])&&t(n[e+1])){let t=String.fromCodePoint(n[e],n[e+1]);s.char=parseInt(t,16),isNaN(s.char)||(s.error=!1)}return s}function n(e,r,n){let s={char:null,nexti:e+4,error:!0};if(e+3<r&&t(n[e])&&t(n[e+1])&&t(n[e+2])&&t(n[e+3])){let t=String.fromCodePoint(n[e],n[e+1],n[e+2],n[e+3]);s.char=parseInt(t,16),isNaN(s.char)||(s.error=!1)}return s}function s(e,r,n){let s={char:null,nexti:e+4,error:!0},o="";for(;e<r&&t(n[e]);)o+=String.fromCodePoint(n[e]),e+=1;return s.char=parseInt(o,16),125!==n[e]||isNaN(s.char)||(s.error=!1),s.nexti=e+1,s}let o,i,a,l=[],c=e.length,p=0;for(;p<c;){for(;;){if(a=!0,96!==e[p]){l.push(e[p]),p+=1,a=!1;break}if(o=p+1,o>=c)break;if(96===e[o]){l.push(96),p+=2,a=!1;break}if(120===e[o]){if(i=r(o+1,c,e),i.error)break;l.push(i.char),p=i.nexti,a=!1;break}if(117===e[o]){if(123===e[o+1]){if(i=s(o+2,c,e),i.error)break;l.push(i.char),p=i.nexti,a=!1;break}if(i=n(o+1,c,e),i.error)break;l.push(i.char),p=i.nexti,a=!1;break}break}if(a)throw new Error("escaped.decode: ill-formed escape sequence at buf["+p+"]")}return l}};let u=10;r.lineEnds={crlf:function(e){let t=[],r=0;for(;r<e.length;)switch(e[r]){case 13:r+1<e.length&&e[r+1]===u?r+=2:r+=1,t.push(13),t.push(u);break;case u:t.push(13),t.push(u),r+=1;break;default:t.push(e[r]),r+=1}return t.length>0&&t[t.length-1]!==u&&(t.push(13),t.push(u)),t},lf:function(e){let t=[],r=0;for(;r<e.length;)switch(e[r]){case 13:r+1<e.length&&e[r+1]===u?r+=2:r+=1,t.push(u);break;case u:t.push(u),r+=1;break;default:t.push(e[r]),r+=1}return t.length>0&&t[t.length-1]!==u&&t.push(u),t}},r.base64={encode:function(t){if(0===t.length)return e.alloc(0);let r,n,s,o=t.length%3;o=o>0?3-o:0;let i=(t.length+o)/3,l=e.alloc(4*i);o>0&&(i-=1),r=0,n=0;for(let e=0;e<i;e+=1)s=t[r++]<<16,s+=t[r++]<<8,s+=t[r++],l[n++]=p[s>>18&a[6]],l[n++]=p[s>>12&a[6]],l[n++]=p[s>>6&a[6]],l[n++]=p[s&a[6]];return 0===o?l:1===o?(s=t[r++]<<16,s+=t[r]<<8,l[n++]=p[s>>18&a[6]],l[n++]=p[s>>12&a[6]],l[n++]=p[s>>6&a[6]],l[n]=p[64],l):2===o?(s=t[r]<<16,l[n++]=p[s>>18&a[6]],l[n++]=p[s>>12&a[6]],l[n++]=p[64],l[n]=p[64],l):void 0},decode:function(t){if(0===t.length)return e.alloc(0);let r,n,s,o=function(t){let r=[],n=0;for(let e=0;e<t.length;e+=1){let s=t[e];for(;32!==s&&9!==s&&10!==s&&13!==s;){if(s>=65&&s<=90){r.push(s-65);break}if(s>=97&&s<=122){r.push(s-71);break}if(s>=48&&s<=57){r.push(s+4);break}if(43===s){r.push(62);break}if(47===s){r.push(63);break}if(61===s){r.push(64),n+=1;break}throw new RangeError("base64.decode: invalid character buf["+e+"]: "+s)}}if(r.length%4>0)throw new RangeError("base64.decode: string length not integral multiple of 4: "+r.length);switch(n){case 0:break;case 1:if(64!==r[r.length-1])throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(64!==r[r.length-1]||64!==r[r.length-2])throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError("base64.decode: more than two tail characters found: "+n)}return{tail:n,buf:e.from(r)}}(t),i=o.tail,l=o.buf,c=l.length/4,p=e.alloc(3*c-i);i>0&&(c-=1),n=0,r=0;for(let e=0;e<c;e+=1)s=l[r++]<<18,s+=l[r++]<<12,s+=l[r++]<<6,s+=l[r++],p[n++]=s>>16&a[8],p[n++]=s>>8&a[8],p[n++]=s&a[8];return 1===i&&(s=l[r++]<<18,s+=l[r++]<<12,s+=l[r]<<6,p[n++]=s>>16&a[8],p[n]=s>>8&a[8]),2===i&&(s=l[r++]<<18,s+=l[r++]<<12,p[n]=s>>16&a[8]),p},toString:function(e){if(e.length%4>0)throw new RangeError("base64.toString: input buffer length not multiple of 4: "+e.length);let t="",r=0;function n(e,n,s,o){switch(r){case 76:t+="\r\n"+e+n+s+o,r=4;break;case 75:t+=e+"\r\n"+n+s+o,r=3;break;case 74:t+=e+n+"\r\n"+s+o,r=2;break;case 73:t+=e+n+s+"\r\n"+o,r=1;break;default:t+=e+n+s+o,r+=4}}for(let t=0;t<e.length;t+=4){for(let r=t;r<t+4;r+=1)if(!((s=e[r])>=65&&s<=90||s>=97&&s<=122||s>=48&&s<=57||43===s||47===s||61===s))throw new RangeError("base64.toString: buf["+r+"]: "+e[r]+" : not valid base64 character code");n(String.fromCharCode(e[t]),String.fromCharCode(e[t+1]),String.fromCharCode(e[t+2]),String.fromCharCode(e[t+3]))}var s;return t}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:4}],42:[function(e,t,r){t.exports=function(){"use strict";let t=e("./identifiers.js"),r=e("./utilities.js"),n=this,s=null,o=null,i=null,a=0,l=[],c=[],p=[],u=[];function h(e){let t="";for(let r=0;r<e;r+=1)t+=" ";return t}this.callbacks=[],this.astObject="astObject",this.init=function(e,t,r){p.length=0,u.length=0,l.length=0,a=0,s=e,o=t,i=r;let h,d=[];for(h=0;h<s.length;h+=1)d.push(s[h].lower);for(h=0;h<o.length;h+=1)d.push(o[h].lower);for(a=s.length+o.length,h=0;h<a;h+=1)l[h]=!1,c[h]=null;for(let e in n.callbacks){let t=e.toLowerCase();if(h=d.indexOf(t),h<0)throw new Error("ast.js: init: node '"+e+"' not a rule or udt name");"function"==typeof n.callbacks[e]&&(l[h]=!0,c[h]=n.callbacks[e]),!0===n.callbacks[e]&&(l[h]=!0)}},this.ruleDefined=function(e){return!1!==l[e]},this.udtDefined=function(e){return!1!==l[s.length+e]},this.down=function(e,r){let n=u.length;return p.push(n),u.push({name:r,thisIndex:n,thatIndex:null,state:t.SEM_PRE,callbackIndex:e,phraseIndex:null,phraseLength:null,stack:p.length}),n},this.up=function(e,r,n,s){let o=u.length,i=p.pop();return u.push({name:r,thisIndex:o,thatIndex:i,state:t.SEM_POST,callbackIndex:e,phraseIndex:n,phraseLength:s,stack:p.length}),u[i].thatIndex=o,u[i].phraseIndex=n,u[i].phraseLength=s,o},this.translate=function(e){let r,n,s;for(let o=0;o<u.length;o+=1)s=u[o],n=c[s.callbackIndex],s.state===t.SEM_PRE?null!==n&&(r=n(t.SEM_PRE,i,s.phraseIndex,s.phraseLength,e),r===t.SEM_SKIP&&(o=s.thatIndex)):null!==n&&n(t.SEM_POST,i,s.phraseIndex,s.phraseLength,e)},this.setLength=function(e){u.length=e,p.length=e>0?u[e-1].stack:0},this.getLength=function(){return u.length},this.toXml=function(e){let n=r.charsToDec,s="decimal integer character codes";"string"==typeof e&&e.length>=3&&("asc"===(e=e.slice(0,3).toLowerCase())?(n=r.charsToAscii,s="ASCII for printing characters, hex for non-printing"):"hex"===e?(n=r.charsToHex,s="hexidecimal integer character codes"):"uni"===e&&(n=r.charsToUnicode,s="Unicode UTF-32 integer character codes"));let o="",a=0;return o+='<?xml version="1.0" encoding="utf-8"?>\n',o+='<root nodes="'+u.length/2+'" characters="'+i.length+'">\n',o+="\x3c!-- input string, "+s+" --\x3e\n",o+=h(a+2),o+=n(i),o+="\n",u.forEach((function(e,r){e.state===t.SEM_PRE?(a+=1,o+=h(a),o+='<node name="'+e.name+'" index="'+e.phraseIndex+'" length="'+e.phraseLength+'">\n',o+=h(a+2),o+=n(i,e.phraseIndex,e.phraseLength),o+="\n"):(o+=h(a),o+='</node>\x3c!-- name="'+e.name+'" --\x3e\n',a-=1)})),o+="</root>\n",o},this.phrases=function(){let e,r,n={};for(e=0;e<u.length;e+=1)r=u[e],r.state===t.SEM_PRE&&(Array.isArray(n[r.name])||(n[r.name]=[]),n[r.name].push({index:r.phraseIndex,length:r.phraseLength}));return n}}},{"./identifiers.js":45,"./utilities.js":51}],43:[function(e,t,r){t.exports=function(){let e=-1,t=0;this.init=function(r){if("number"!=typeof r||r<=0)throw new Error("circular-buffer.js: init: circular buffer size must an integer > 0");t=Math.ceil(r),e=-1},this.increment=function(){return e+=1,(e+t)%t},this.maxSize=function(){return t},this.items=function(){return e+1},this.getListIndex=function(r){return-1===e||r<0||r>e||e-r>=t?-1:(r+t)%t},this.forEach=function(r){if(-1!==e)if(e<t)for(let t=0;t<=e;t+=1)r(t,t);else for(let n=e-t+1;n<=e;n+=1){r((n+t)%t,n)}}}},{}],44:[function(e,t,r){t.exports=function(){return"/* This file automatically generated by toless() and LESS. */\n.apg-mono {\n  font-family: monospace;\n}\n.apg-active {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-match {\n  font-weight: bold;\n  color: #264BFF;\n}\n.apg-empty {\n  font-weight: bold;\n  color: #0fbd0f;\n}\n.apg-nomatch {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-lh-match {\n  font-weight: bold;\n  color: #1A97BA;\n}\n.apg-lb-match {\n  font-weight: bold;\n  color: #5F1687;\n}\n.apg-remainder {\n  font-weight: bold;\n  color: #999999;\n}\n.apg-ctrl-char {\n  font-weight: bolder;\n  font-style: italic;\n  font-size: 0.6em;\n}\n.apg-line-end {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-error {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-phrase {\n  color: #000000;\n  background-color: #8caae6;\n}\n.apg-empty-phrase {\n  color: #0fbd0f;\n}\ntable.apg-state {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th,\ntable.apg-state td {\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th:nth-last-child(2),\ntable.apg-state td:nth-last-child(2) {\n  text-align: right;\n}\ntable.apg-state caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-stats {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats th,\ntable.apg-stats td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace th,\ntable.apg-trace td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace th:last-child,\ntable.apg-trace th:nth-last-child(2),\ntable.apg-trace td:last-child,\ntable.apg-trace td:nth-last-child(2) {\n  text-align: left;\n}\ntable.apg-grammar {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-grammar th,\ntable.apg-grammar td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar th:last-child,\ntable.apg-grammar td:last-child {\n  text-align: left;\n}\ntable.apg-rules {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-rules th,\ntable.apg-rules td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules a {\n  color: #003399 !important;\n}\ntable.apg-rules a:hover {\n  color: #8caae6 !important;\n}\ntable.apg-attrs {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-attrs th,\ntable.apg-attrs td {\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs th:nth-child(1),\ntable.apg-attrs th:nth-child(2),\ntable.apg-attrs th:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs td:nth-child(1),\ntable.apg-attrs td:nth-child(2),\ntable.apg-attrs td:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs a {\n  color: #003399 !important;\n}\ntable.apg-attrs a:hover {\n  color: #8caae6 !important;\n}\n"}},{}],45:[function(e,t,r){"use strict";t.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,ATTR_NMR:403,ATTR_RMR:404,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}},{}],46:[function(e,t,r){t.exports={ast:e("./ast.js"),circular:e("./circular-buffer.js"),ids:e("./identifiers.js"),parser:e("./parser.js"),stats:e("./stats.js"),trace:e("./trace.js"),utils:e("./utilities.js"),emitcss:e("./emitcss.js"),style:e("./style.js")}},{"./ast.js":42,"./circular-buffer.js":43,"./emitcss.js":44,"./identifiers.js":45,"./parser.js":47,"./stats.js":48,"./style.js":49,"./trace.js":50,"./utilities.js":51}],47:[function(e,t,r){t.exports=function(){"use strict";let t=this,r=e("./identifiers.js"),n=e("./utilities.js");this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let s,o,i,a,l=0,c=null,p=null,u=0,h=0,d=0,f=null,g=null,b=null,m=null,y=null,A=0,T=1/0,E=1/0,w=function(e,t,n){let s,o="parser.js: evaluateRule(): ";if(e>=b.length)throw new Error(o+"rule index: "+e+" out of range");if(t>=i)throw new Error(o+"phrase index: "+t+" out of range");s=c.length,c.push({type:r.RNM,index:e}),F(s,t,n),c.pop()},x=function(e,t,n){let s,o="parser.js: evaluateUdt(): ";if(e>=m.length)throw new Error(o+"udt index: "+e+" out of range");if(t>=i)throw new Error(o+"phrase index: "+t+" out of range");s=c.length,c.push({type:r.UDT,empty:m[e].empty,index:e}),F(s,t,n),c.pop()},S=function(){l=0,u=0,h=0,d=0,A=0,a=[{lookAround:r.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],b=null,m=null,p=null,s=0,o=0,i=0,f=null,g=null,y=null,c=null},C=function(){let e=[];this.push=function(){e.push(function(){let t=e[e.length-1],r={};for(let e in t)r[e]=t[e];return r}())},this.pop=function(t){if(t||(t=e.length-1),t<1||t>e.length)throw new Error("parser.js: backRef.pop(): bad length: "+t);return e.length=t,e[e.length-1]},this.length=function(){return e.length},this.savePhrase=function(t,r,n){e[e.length-1][t]={phraseIndex:r,phraseLength:n}},this.getPhrase=function(t){return e[e.length-1][t]},function(){let t={};b.forEach((function(e){e.isBkr&&(t[e.lower]=null)})),m.length>0&&m.forEach((function(e){e.isBkr&&(t[e.lower]=null)})),e.push(t)}()},k=function(){let e=this;this.state=r.ACTIVE,this.phraseLength=0,this.lookAround=a[a.length-1],this.uFrame=new C,this.pFrame=new C,this.evaluateRule=w,this.evaluateUdt=x,this.refresh=function(){e.state=r.ACTIVE,e.phraseLength=0,e.lookAround=a[a.length-1]}},M=function(){return a[a.length-1]},O=function(){return a.length>1},L=function(e,t,r){let a="parser.js: initializeInputChars(): ";if(void 0===e)throw new Error(a+"input string is undefined");if(null===e)throw new Error(a+"input string is null");if("string"==typeof e)e=n.stringToChars(e);else if(!Array.isArray(e))throw new Error(a+"input string is not a string or array");if(e.length>0&&"number"!=typeof e[0])throw new Error(a+"input string not an array of integers");if("number"!=typeof t)t=0;else if((t=Math.floor(t))<0||t>e.length)throw new Error(a+"input beginning index out of range: "+t);if("number"!=typeof r)r=e.length-t;else if((r=Math.floor(r))<0||r>e.length-t)throw new Error(a+"input length out of range: "+r);p=e,s=t,o=r,i=s+o};this.setMaxTreeDepth=function(e){if("number"!=typeof e)throw new Error("parser: max tree depth must be integer > 0: "+e);if(T=Math.floor(e),T<=0)throw new Error("parser: max tree depth must be integer > 0: "+e)},this.setMaxNodeHits=function(e){if("number"!=typeof e)throw new Error("parser: max node hits must be integer > 0: "+e);if(E=Math.floor(e),E<=0)throw new Error("parser: max node hits must be integer > 0: "+e)},this.parse=function(e,t,r,n){return S(),L(r,0,r.length),v(e,t,n)},this.parseSubstring=function(e,t,r,n,s,o){return S(),L(r,n,s),v(e,t,o)};let v=function(e,n,a){let l,u,T;switch(l="parser.js: parse(): ",function(e){let t="parser.js: initializeGrammar(): ";if(!e)throw new Error(t+"grammar object undefined");if("grammarObject"!==e.grammarObject)throw new Error(t+"bad grammar object");b=e.rules,m=e.udts}(e),n=function(e){let t="parser.js: initializeStartRule(): ",r=null;if("number"==typeof e){if(e>=b.length)throw new Error(t+"start rule index too large: max: "+b.length+": index: "+e);r=e}else{if("string"!=typeof e)throw new Error(t+"type of start rule '"+typeof e+"' not recognized");{let n=e.toLowerCase();for(let e=0;e<b.length;e+=1)if(n===b[e].lower){r=b[e].index;break}if(null===r)throw new Error(t+"start rule name '"+e+"' not recognized")}}return r}(n),function(){let e,r="parser.js: initializeCallbacks(): ";for(f=[],g=[],e=0;e<b.length;e+=1)f[e]=null;for(e=0;e<m.length;e+=1)g[e]=null;let n,s=[];for(e=0;e<b.length;e+=1)s.push(b[e].lower);for(e=0;e<m.length;e+=1)s.push(m[e].lower);for(let o in t.callbacks){if(e=s.indexOf(o.toLowerCase()),e<0)throw new Error(r+"syntax callback '"+o+"' not a rule or udt name");if(n=t.callbacks[o],n||(n=null),"function"!=typeof n&&null!==n)throw new Error(r+"syntax callback["+o+"] must be function reference or 'false' (false/null/undefined/etc.)");e<b.length?f[e]=n:g[e-b.length]=n}for(e=0;e<m.length;e+=1)if(null===g[e])throw new Error(r+"all UDT callbacks must be defined. UDT callback["+m[e].lower+"] not a function reference")}(),function(){for(;;){if(void 0===t.trace){t.trace=null;break}if(null===t.trace)break;if("traceObject"!==t.trace.traceObject)throw new Error("parser.js: initializeTrace(): trace object not recognized");break}null!==t.trace&&t.trace.init(b,m,p)}(),function(){for(;;){if(void 0===t.stats){t.stats=null;break}if(null===t.stats)break;if("statsObject"!==t.stats.statsObject)throw new Error("parser.js: initializeStats(): stats object not recognized");break}null!==t.stats&&t.stats.init(b,m)}(),function(){for(;;){if(void 0===t.ast){t.ast=null;break}if(null===t.ast)break;if("astObject"!==t.ast.astObject)throw new Error("parser.js: initializeAst(): ast object not recognized");break}null!==t.ast&&t.ast.init(b,m,p)}(),u=new k,null!=a&&(y=a),c=[{type:r.RNM,index:n}],F(0,s,u),c=null,u.state){case r.ACTIVE:throw new Error("parser.js: parse(): final state should never be 'ACTIVE'");case r.NOMATCH:T=!1;break;case r.EMPTY:case r.MATCH:T=u.phraseLength===o}return{success:T,state:u.state,length:o,matched:u.phraseLength,maxMatched:A,maxTreeDepth:h,nodeHits:d,inputLength:p.length,subBegin:s,subEnd:i,subLength:o}},B=function(e,t,n){let s=c[e];for(let e=0;e<s.children.length&&(F(s.children[e],t,n),n.state===r.NOMATCH);e+=1);},R=function(e,t,n,s){if(t.phraseLength>n){let r="parser.js: opRNM("+e.name+"): callback function error: ";throw r+="sysData.phraseLength: "+t.phraseLength,r+=" must be <= remaining chars: "+n,new Error(r)}switch(t.state){case r.ACTIVE:if(!0!==s)throw new Error("parser.js: opRNM("+e.name+"): callback function return error. ACTIVE state not allowed.");break;case r.EMPTY:t.phraseLength=0;break;case r.MATCH:0===t.phraseLength&&(t.state=r.EMPTY);break;case r.NOMATCH:t.phraseLength=0;break;default:throw new Error("parser.js: opRNM("+e.name+"): callback function return error. Unrecognized return state: "+t.state)}},N=function(e,n,s){let o,a,l,u,h,d,g,m,A,T;o=c[e],a=b[o.index],l=f[o.index];let E=!O();if(E&&(h=t.ast&&t.ast.ruleDefined(o.index),h&&(u=t.ast.getLength(),d=t.ast.down(o.index,b[o.index].name)),m=s.uFrame.length(),A=s.pFrame.length(),s.uFrame.push(),s.pFrame.push(),T=s.pFrame,s.pFrame=new C),null===l)g=c,c=a.opcodes,F(0,n,s),c=g;else{let e=i-n;l(s,p,n,y),R(a,s,e,!0),s.state===r.ACTIVE&&(g=c,c=a.opcodes,F(0,n,s),c=g,l(s,p,n,y),R(a,s,e,!1))}E&&(h&&(s.state===r.NOMATCH?t.ast.setLength(u):t.ast.up(o.index,b[o.index].name,n,s.phraseLength)),s.pFrame=T,s.state===r.NOMATCH?(s.uFrame.pop(m),s.pFrame.pop(A)):b[o.index].isBkr&&(s.pFrame.savePhrase(b[o.index].lower,n,s.phraseLength),s.uFrame.savePhrase(b[o.index].lower,n,s.phraseLength)))},P=function(e,n,s){let o,a,l,u,h,d,f,A,T;u=c[e];let E=!O();E&&(d=t.ast&&t.ast.udtDefined(u.index),d&&(l=b.length+u.index,a=t.ast.getLength(),o=t.ast.down(l,m[u.index].name)),f=s.uFrame.length(),A=s.pFrame.length(),s.uFrame.push(),s.pFrame.push(),T=s.pFrame,s.pFrame=new C);let w=i-n;g[u.index](s,p,n,y),function(e,t,n){if(t.phraseLength>n){let r="parser.js: opUDT("+e.name+"): callback function error: ";throw r+="sysData.phraseLength: "+t.phraseLength,r+=" must be <= remaining chars: "+n,new Error(r)}switch(t.state){case r.ACTIVE:throw new Error("parser.js: opUDT("+e.name+"): callback function return error. ACTIVE state not allowed.");case r.EMPTY:if(!1===e.empty)throw new Error("parser.js: opUDT("+e.name+"): callback function return error. May not return EMPTY.");t.phraseLength=0;break;case r.MATCH:if(0===t.phraseLength){if(!1===e.empty)throw new Error("parser.js: opUDT("+e.name+"): callback function return error. May not return EMPTY.");t.state=r.EMPTY}break;case r.NOMATCH:t.phraseLength=0;break;default:throw new Error("parser.js: opUDT("+e.name+"): callback function return error. Unrecognized return state: "+t.state)}}(m[u.index],s,w),E&&(d&&(s.state===r.NOMATCH?t.ast.setLength(a):t.ast.up(l,m[u.index].name,n,s.phraseLength)),s.pFrame=T,s.state===r.NOMATCH?(s.uFrame.pop(f),s.pFrame.pop(A)):m[u.index].isBkr&&(s.pFrame.savePhrase(h[u.index].lower,n,s.phraseLength),s.uFrame.savePhrase(h[u.index].lower,n,s.phraseLength)))},_=function(e,t,n){a.push({lookAround:r.LOOKAROUND_AHEAD,anchor:t,charsEnd:i,charsLength:o}),i=p.length,o=p.length-s,F(e+1,t,n);let l=a.pop();switch(i=l.charsEnd,o=l.charsLength,n.phraseLength=0,n.state){case r.EMPTY:case r.MATCH:n.state=r.EMPTY;break;case r.NOMATCH:n.state=r.NOMATCH;break;default:throw new Error("opAND: invalid state "+n.state)}},D=function(e,t,n){a.push({lookAround:r.LOOKAROUND_AHEAD,anchor:t,charsEnd:i,charsLength:o}),i=p.length,o=p.length-s,F(e+1,t,n);let l=a.pop();switch(i=l.charsEnd,o=l.charsLength,n.phraseLength=0,n.state){case r.EMPTY:case r.MATCH:n.state=r.NOMATCH;break;case r.NOMATCH:n.state=r.EMPTY;break;default:throw new Error("opNOT: invalid state "+n.state)}},I=function(e,t,n){n.state=r.NOMATCH,n.phraseLength=0,n.state=0===t?r.EMPTY:r.NOMATCH},H=function(e,t,n){n.state=r.NOMATCH,n.phraseLength=0,n.state=t===p.length?r.EMPTY:r.NOMATCH},U=function(e,t,n){let s;switch(s=c[e],a.push({lookAround:r.LOOKAROUND_BEHIND,anchor:t}),F(e+1,t,n),a.pop(),n.phraseLength=0,n.state){case r.EMPTY:case r.MATCH:n.state=r.EMPTY;break;case r.NOMATCH:n.state=r.NOMATCH;break;default:throw new Error("opBKA: invalid state "+n.state)}},j=function(e,t,n){let s;switch(s=c[e],a.push({lookAround:r.LOOKAROUND_BEHIND,anchor:t}),F(e+1,t,n),a.pop(),n.phraseLength=0,n.state){case r.EMPTY:case r.MATCH:n.state=r.NOMATCH;break;case r.NOMATCH:n.state=r.EMPTY;break;default:throw new Error("opBKN: invalid state "+n.state)}},F=function(e,n,s){let o,l=!0;if(o=c[e],d+=1,d>E)throw new Error("parser: maximum number of node hits exceeded: "+E);if(u+=1,u>h&&(h=u,h>T))throw new Error("parser: maximum parse tree depth exceeded: "+T);if(s.refresh(),null!==t.trace){let e=M();t.trace.down(o,s.state,n,s.phraseLength,e.anchor,e.lookAround)}if(a[a.length-1].lookAround===r.LOOKAROUND_BEHIND)switch(o.type){case r.ALT:B(e,n,s);break;case r.CAT:!function(e,n,s){let o,i,a,l,p,u,h,d;o=c[e],h=s.uFrame.length(),d=s.pFrame.length(),t.ast&&(a=t.ast.getLength()),i=!0,l=n,u=0,p=0;for(let e=o.children.length-1;e>=0;e-=1)if(F(o.children[e],l,s),l-=s.phraseLength,u+=s.phraseLength,p+=s.phraseLength,s.state===r.NOMATCH){i=!1;break}i?(s.state=0===u?r.EMPTY:r.MATCH,s.phraseLength=u):(s.state=r.NOMATCH,s.phraseLength=0,s.uFrame.pop(h),s.pFrame.pop(d),t.ast&&t.ast.setLength(a))}(e,n,s);break;case r.REP:!function(e,n,s){let o,i,a,l,p,u,h;for(o=c[e],a=n,l=0,p=0,u=s.uFrame.length(),h=s.pFrame.length(),t.ast&&(i=t.ast.getLength());!(a<=0)&&(F(e+1,a,s),s.state!==r.NOMATCH)&&s.state!==r.EMPTY&&(p+=1,l+=s.phraseLength,a-=s.phraseLength,p!==o.max););s.state===r.EMPTY||p>=o.min?(s.state=0===l?r.EMPTY:r.MATCH,s.phraseLength=l):(s.state=r.NOMATCH,s.phraseLength=0,s.uFrame.pop(u),s.pFrame.pop(h),t.ast&&t.ast.setLength(i))}(e,n,s);break;case r.RNM:N(e,n,s);break;case r.UDT:P(e,n,s);break;case r.AND:_(e,n,s);break;case r.NOT:D(e,n,s);break;case r.TRG:!function(e,t,n){let s=c[e];if(n.state=r.NOMATCH,n.phraseLength=0,t>0){let e=p[t-1];s.min<=e&&e<=s.max&&(n.state=r.MATCH,n.phraseLength=1)}}(e,n,s);break;case r.TBS:!function(e,t,n){let s,o,i,a;if(o=c[e],n.state=r.NOMATCH,i=o.string.length,a=t-i,a>=0){for(s=0;s<i;s+=1)if(p[a+s]!==o.string[s])return;n.state=r.MATCH,n.phraseLength=i}}(e,n,s);break;case r.TLS:!function(e,t,n){let s,o,i,a;if(s=c[e],n.state=r.NOMATCH,a=s.string.length,0!==a){if(i=t-a,i>=0){for(let e=0;e<a;e+=1)if(o=p[i+e],o>=65&&o<=90&&(o+=32),o!==s.string[e])return;n.state=r.MATCH,n.phraseLength=a}}else n.state=r.EMPTY}(e,n,s);break;case r.BKR:!function(e,t,n){let s,o,i,a,l,u,h,d,f,g;if(a=c[e],n.state=r.NOMATCH,n.phraseLength=0,h=a.index<b.length?b[a.index].lower:m[a.index-b.length].lower,f=a.bkrMode===r.BKR_MODE_PM?n.pFrame.getPhrase(h):n.uFrame.getPhrase(h),g=a.bkrCase===r.BKR_MODE_CI,null!==f){if(l=f.phraseIndex,i=f.phraseLength,0===i)return n.state=r.EMPTY,void(n.phraseLength=0);if(d=t-i,d>=0){if(g){for(s=0;s<i;s+=1)if(o=p[d+s],u=p[l+s],o>=65&&o<=90&&(o+=32),u>=65&&u<=90&&(u+=32),o!==u)return;n.state=r.MATCH,n.phraseLength=i}else for(s=0;s<i;s+=1)if(o=p[d+s],u=p[l+s],o!==u)return;n.state=r.MATCH,n.phraseLength=i}}}(e,n,s);break;case r.BKA:U(e,n,s);break;case r.BKN:j(e,n,s);break;case r.ABG:I(0,n,s);break;case r.AEN:H(0,n,s);break;default:l=!1}else switch(o.type){case r.ALT:B(e,n,s);break;case r.CAT:!function(e,n,s){let o,i,a,l,p;o=c[e];let u=s.uFrame.length(),h=s.pFrame.length();t.ast&&(a=t.ast.getLength()),i=!0,l=n,p=0;for(let e=0;e<o.children.length;e+=1){if(F(o.children[e],l,s),s.state===r.NOMATCH){i=!1;break}l+=s.phraseLength,p+=s.phraseLength}i?(s.state=0===p?r.EMPTY:r.MATCH,s.phraseLength=p):(s.state=r.NOMATCH,s.phraseLength=0,s.uFrame.pop(u),s.pFrame.pop(h),t.ast&&t.ast.setLength(a))}(e,n,s);break;case r.REP:!function(e,n,s){let o,a,l,p,u;o=c[e],l=n,p=0,u=0;let h=s.uFrame.length(),d=s.pFrame.length();for(t.ast&&(a=t.ast.getLength());!(l>=i)&&(F(e+1,l,s),s.state!==r.NOMATCH)&&s.state!==r.EMPTY&&(u+=1,p+=s.phraseLength,l+=s.phraseLength,u!==o.max););s.state===r.EMPTY||u>=o.min?(s.state=0===p?r.EMPTY:r.MATCH,s.phraseLength=p):(s.state=r.NOMATCH,s.phraseLength=0,s.uFrame.pop(h),s.pFrame.pop(d),t.ast&&t.ast.setLength(a))}(e,n,s);break;case r.RNM:N(e,n,s);break;case r.UDT:P(e,n,s);break;case r.AND:_(e,n,s);break;case r.NOT:D(e,n,s);break;case r.TRG:!function(e,t,n){let s=c[e];n.state=r.NOMATCH,t<i&&s.min<=p[t]&&p[t]<=s.max&&(n.state=r.MATCH,n.phraseLength=1)}(e,n,s);break;case r.TBS:!function(e,t,n){let s,o,a;if(o=c[e],a=o.string.length,n.state=r.NOMATCH,t+a<=i){for(s=0;s<a;s+=1)if(p[t+s]!==o.string[s])return;n.state=r.MATCH,n.phraseLength=a}}(e,n,s);break;case r.TLS:!function(e,t,n){let s,o,a,l;if(l=c[e],n.state=r.NOMATCH,a=l.string.length,0!==a){if(t+a<=i){for(s=0;s<a;s+=1)if(o=p[t+s],o>=65&&o<=90&&(o+=32),o!==l.string[s])return;n.state=r.MATCH,n.phraseLength=a}}else n.state=r.EMPTY}(e,n,s);break;case r.BKR:!function(e,t,n){let s,o,a,l,u,h,d,f,g;if(l=c[e],n.state=r.NOMATCH,d=l.index<b.length?b[l.index].lower:m[l.index-b.length].lower,f=l.bkrMode===r.BKR_MODE_PM?n.pFrame.getPhrase(d):n.uFrame.getPhrase(d),g=l.bkrCase===r.BKR_MODE_CI,null!==f)if(u=f.phraseIndex,a=f.phraseLength,0!==a){if(t+a<=i){if(g){for(s=0;s<a;s+=1)if(o=p[t+s],h=p[u+s],o>=65&&o<=90&&(o+=32),h>=65&&h<=90&&(h+=32),o!==h)return;n.state=r.MATCH,n.phraseLength=a}else for(s=0;s<a;s+=1)if(o=p[t+s],h=p[u+s],o!==h)return;n.state=r.MATCH,n.phraseLength=a}}else n.state=r.EMPTY}(e,n,s);break;case r.BKA:U(e,n,s);break;case r.BKN:j(e,n,s);break;case r.ABG:I(0,n,s);break;case r.AEN:H(0,n,s);break;default:l=!1}if(!O()&&n+s.phraseLength>A&&(A=n+s.phraseLength),null!==t.stats&&t.stats.collect(o,s),null!==t.trace){let e=M();t.trace.up(o,s.state,n,s.phraseLength,e.anchor,e.lookAround)}return u-=1,l}}},{"./identifiers.js":45,"./utilities.js":51}],48:[function(e,t,r){t.exports=function(){"use strict";let t,r=e("./identifiers.js"),n=e("./utilities"),s=e("./style.js"),o=[],i=[],a=[],l=[],c=[];this.statsObject="statsObject";let p=function(e,t){return e.lower<t.lower?-1:e.lower>t.lower?1:0},u=function(e,t){return e.total<t.total?1:e.total>t.total?-1:p(e,t)},h=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0},d=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},f=function(e,t,n){switch(e.total+=1,t){case r.EMPTY:e.empty+=1;break;case r.MATCH:e.match+=1;break;case r.NOMATCH:e.nomatch+=1;break;default:throw"stats.js: collect(): incStat(): unrecognized state: "+t}},g=function(e,t){let r="";return r+="<tr>",r+='<td class="'+s.CLASS_ACTIVE+'">'+e+"</td>",r+='<td class="'+s.CLASS_EMPTY+'">'+t.empty+"</td>",r+='<td class="'+s.CLASS_MATCH+'">'+t.match+"</td>",r+='<td class="'+s.CLASS_NOMATCH+'">'+t.nomatch+"</td>",r+='<td class="'+s.CLASS_ACTIVE+'">'+t.total+"</td>",r+="</tr>\n",r},b=function(){let e="";return e+=g("ALT",a[r.ALT]),e+=g("CAT",a[r.CAT]),e+=g("REP",a[r.REP]),e+=g("RNM",a[r.RNM]),e+=g("TRG",a[r.TRG]),e+=g("TBS",a[r.TBS]),e+=g("TLS",a[r.TLS]),e+=g("UDT",a[r.UDT]),e+=g("AND",a[r.AND]),e+=g("NOT",a[r.NOT]),e+=g("BKR",a[r.BKR]),e+=g("BKA",a[r.BKA]),e+=g("BKN",a[r.BKN]),e+=g("ABG",a[r.ABG]),e+=g("AEN",a[r.AEN]),e+=g("totals",t),e},m=function(){let e="";e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>\n";for(let t=0;t<o.length;t+=1)l[t].total>0&&(e+="<tr>",e+='<td class="'+s.CLASS_ACTIVE+'">'+l[t].name+"</td>",e+='<td class="'+s.CLASS_EMPTY+'">'+l[t].empty+"</td>",e+='<td class="'+s.CLASS_MATCH+'">'+l[t].match+"</td>",e+='<td class="'+s.CLASS_NOMATCH+'">'+l[t].nomatch+"</td>",e+='<td class="'+s.CLASS_ACTIVE+'">'+l[t].total+"</td>",e+="</tr>\n");if(i.length>0){e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>\n";for(let t=0;t<i.length;t+=1)c[t].total>0&&(e+="<tr>",e+='<td class="'+s.CLASS_ACTIVE+'">'+c[t].name+"</td>",e+='<td class="'+s.CLASS_EMPTY+'">'+c[t].empty+"</td>",e+='<td class="'+s.CLASS_MATCH+'">'+c[t].match+"</td>",e+='<td class="'+s.CLASS_NOMATCH+'">'+c[t].nomatch+"</td>",e+='<td class="'+s.CLASS_ACTIVE+'">'+c[t].total+"</td>",e+="</tr>\n")}return e};this.validate=function(e){let t=!1;return"string"==typeof e&&"stats"===e&&(t=!0),t},this.init=function(e,n){o=e,i=n,function(){a.length=0,t=new d,a[r.ALT]=new d,a[r.CAT]=new d,a[r.REP]=new d,a[r.RNM]=new d,a[r.TRG]=new d,a[r.TBS]=new d,a[r.TLS]=new d,a[r.UDT]=new d,a[r.AND]=new d,a[r.NOT]=new d,a[r.BKR]=new d,a[r.BKA]=new d,a[r.BKN]=new d,a[r.ABG]=new d,a[r.AEN]=new d,l.length=0;for(let e=0;e<o.length;e+=1)l.push({empty:0,match:0,nomatch:0,total:0,name:o[e].name,lower:o[e].lower,index:o[e].index});if(i.length>0){c.length=0;for(let e=0;e<i.length;e+=1)c.push({empty:0,match:0,nomatch:0,total:0,name:i[e].name,lower:i[e].lower,index:i[e].index})}}()},this.collect=function(e,n){f(t,n.state,n.phraseLength),f(a[e.type],n.state,n.phraseLength),e.type===r.RNM&&f(l[e.index],n.state,n.phraseLength),e.type===r.UDT&&f(c[e.index],n.state,n.phraseLength)},this.toHtml=function(e,t){let r="";for(r+='<table class="'+s.CLASS_STATS+'">\n',"string"==typeof t&&(r+="<caption>"+t+"</caption>\n"),r+='<tr><th class="'+s.CLASS_ACTIVE+'">ops</th>\n',r+='<th class="'+s.CLASS_EMPTY+'">EMPTY</th>\n',r+='<th class="'+s.CLASS_MATCH+'">MATCH</th>\n',r+='<th class="'+s.CLASS_NOMATCH+'">NOMATCH</th>\n',r+='<th class="'+s.CLASS_ACTIVE+'">totals</th></tr>\n';;){if(void 0===e){r+=b();break}if(null===e){r+=b();break}if("ops"===e){r+=b();break}if("index"===e){l.sort(h),c.length>0&&c.sort(h),r+=b(),r+=m();break}if("hits"===e){l.sort(u),c.length>0&&c.sort(h),r+=b(),r+=m();break}if("alpha"===e){l.sort(p),c.length>0&&c.sort(p),r+=b(),r+=m();break}break}return r+="</table>\n",r},this.toHtmlPage=function(e,t,r){return n.htmlToPage(this.toHtml(e,t),r)}}},{"./identifiers.js":45,"./style.js":49,"./utilities":51}],49:[function(e,t,r){t.exports={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}},{}],50:[function(e,t,r){t.exports=function(){"use strict";let t=this,r=16,n=80,s=e("./utilities.js"),o=e("./style.js"),i=new(e("./circular-buffer.js")),a=e("./identifiers.js"),l=[],c=5e3,p=-1,u=0,h=0,d=[],f=null,g=null,b=null,m=[],y=[],A='<span class="'+o.CLASS_LINEEND+'">&bull;</span>',T='<span class="'+o.CLASS_LINEEND+'">&hellip;</span>',E='<span class="'+o.CLASS_EMPTY+'">&#120634;</span>';this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(e,t){p=-1,"number"==typeof e&&e>0?(c=Math.ceil(e),"number"==typeof t&&(p=Math.floor(t),p<0&&(p=-1))):c=0},this.getMaxRecords=function(){return c},this.getLastRecord=function(){return p},this.init=function(e,r,n){l.length=0,d.length=0,u=0,h=0,f=n,g=e,b=r,function(){let e=function(e){m[a.ALT]=e,m[a.CAT]=e,m[a.REP]=e,m[a.TLS]=e,m[a.TBS]=e,m[a.TRG]=e,m[a.AND]=e,m[a.NOT]=e,m[a.BKR]=e,m[a.BKA]=e,m[a.BKN]=e,m[a.ABG]=e,m[a.AEN]=e},r=0;for(let e in t.filter.operators)r+=1;if(0!==r){for(let r in t.filter.operators){let t=r.toUpperCase();if("<ALL>"===t)return void e(!0);if("<NONE>"===t)return void e(!1)}e(!1);for(let e in t.filter.operators){let r=e.toUpperCase();if("ALT"===r)m[a.ALT]=!0===t.filter.operators[e];else if("CAT"===r)m[a.CAT]=!0===t.filter.operators[e];else if("REP"===r)m[a.REP]=!0===t.filter.operators[e];else if("AND"===r)m[a.AND]=!0===t.filter.operators[e];else if("NOT"===r)m[a.NOT]=!0===t.filter.operators[e];else if("TLS"===r)m[a.TLS]=!0===t.filter.operators[e];else if("TBS"===r)m[a.TBS]=!0===t.filter.operators[e];else if("TRG"===r)m[a.TRG]=!0===t.filter.operators[e];else if("BKR"===r)m[a.BKR]=!0===t.filter.operators[e];else if("BKA"===r)m[a.BKA]=!0===t.filter.operators[e];else if("BKN"===r)m[a.BKN]=!0===t.filter.operators[e];else if("ABG"===r)m[a.ABG]=!0===t.filter.operators[e];else{if("AEN"!==r)throw new Error("trace.js: initOpratorFilter: '"+e+"' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn");m[a.AEN]=!0===t.filter.operators[e]}}}else e(!1)}(),function(){let e,r,n=function(e){m[a.RNM]=e,m[a.UDT]=e;let t=g.length+b.length;y.length=0;for(let r=0;r<t;r+=1)y.push(e)},s=[];for(r=0;r<g.length;r+=1)s.push(g[r].lower);for(r=0;r<b.length;r+=1)s.push(b[r].lower);y.length=0,e=0;for(let r in t.filter.rules)e+=1;if(0!==e){for(let e in t.filter.rules){let t=e.toLowerCase();if("<all>"===t)return void n(!0);if("<none>"===t)return void n(!1)}n(!1),m[a.RNM]=!0,m[a.UDT]=!0;for(let e in t.filter.rules){let n=e.toLowerCase();if(r=s.indexOf(n),r<0)throw new Error("trace.js: initRuleFilter: '"+e+"' not a valid rule or udt name");y[r]=!0===t.filter.rules[e]}}else n(!0)}(),i.init(c)};let w=function(e){let t=!1;return t=e.type===a.RNM?!(!m[e.type]||!y[e.index]):e.type===a.UDT?!(!m[e.type]||!y[g.length+e.index]):m[e.type],t},x=function(e){return-1===p||e<=p};this.down=function(e,t,r,n,s,o){x(u)&&w(e)&&(d.push(u),l[i.increment()]={dirUp:!1,depth:h,thisLine:u,thatLine:void 0,opcode:e,state:t,phraseIndex:r,phraseLength:n,lookAnchor:s,lookAround:o},u+=1,h+=1)},this.up=function(e,t,r,n,s,o){if(x(u)&&w(e)){let a=u,c=d.pop(),p=i.getListIndex(c);-1!==p&&(l[p].thatLine=a),h-=1,l[i.increment()]={dirUp:!0,depth:h,thisLine:a,thatLine:c,opcode:e,state:t,phraseIndex:r,phraseLength:n,lookAnchor:s,lookAround:o},u+=1}};this.toTree=function(e){let t=function(){function e(e,t){if(t)switch(e.op={id:t.type,name:s.opcodeToString(t.type)},e.opData=void 0,t.type){case a.RNM:e.opData=g[t.index].name;break;case a.UDT:e.opData=b[t.index].name;break;case a.BKR:let r,n,s;r=t.index<g.length?g[t.index].name:b[t.index-g.length].name,n=t.bkrCase===a.BKR_MODE_CI?"%i":"%s",s=t.bkrMode===a.BKR_MODE_UM?"%u":"%p",e.opData="\\\\"+n+s+r;break;case a.TLS:e.opData=[];for(let r=0;r<t.string.length;r+=1)e.opData.push(t.string[r]);break;case a.TBS:e.opData=[];for(let r=0;r<t.string.length;r+=1)e.opData.push(t.string[r]);break;case a.TRG:case a.REP:e.opData=[t.min,t.max]}else e.op={id:void 0,name:void 0},e.opData=void 0}function t(e,t,r){return e===a.MATCH?{index:t,length:r}:e===a.NOMATCH||e===a.EMPTY?{index:t,length:0}:null}function r(r,n,o){let i={id:d++,branch:-1,parent:r,up:!1,down:!1,depth:o,children:[]};return n?(i.down=!0,i.state={id:n.state,name:s.stateToString(n.state)},i.phrase=null,e(i,n.opcode)):(i.state={id:void 0,name:void 0},i.phrase=t(),e(i,void 0)),i}function n(r,n){n&&(r.up=!0,r.state={id:n.state,name:s.stateToString(n.state)},r.phrase=t(n.state,n.phraseIndex,n.phraseLength),r.down||e(r,n.opcode))}let o,c,p,u,h,d=-1,m=[],y=!0;for(p=r(null,null,-1),m.push(p),c=p,i.forEach((function(e,t){if(h=l[e],y&&(y=!1,h.depth>0)){let e=h.dirUp?h.depth+1:h.depth;for(let t=0;t<e;t+=1)u=c,c=r(c,null,t),m.push(c),u.children.push(c)}h.dirUp?(c=m.pop(),n(c,h),c=m[m.length-1]):(u=c,c=r(c,h,h.depth),m.push(c),u.children.push(c))}));m.length>1;)c=m.pop(),n(c,null);if(0===p.children.length)throw new Error("trace.toTree(): parse tree has no nodes");if(0===m.length)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");o=p.children[0];let A=o;for(;o&&!o.down&&!o.up;)A=o,o=o.children[0];o=A;let T=0,E=0,w=-1,x=1;o.leftMost=!0,o.rightMost=!0,function e(t){if(w+=1,t.branch=x,w>T&&(T=w),0===t.children.length)E+=1;else for(let r=0;r<t.children.length;r+=1)r>0&&(x+=1),t.children[r].leftMost=!1,t.children[r].rightMost=!1,t.leftMost&&(t.children[r].leftMost=0===r),t.rightMost&&(t.children[r].rightMost=r===t.children.length-1),e(t.children[r]);w-=1}(o),o.branch=0;let S,C={string:[]};for(let e=0;e<f.length;e+=1)C.string[e]=f[e];C.rules=[];for(let e=0;e<g.length;e+=1)C.rules[e]=g[e].name;C.udts=[];for(let e=0;e<b.length;e+=1)C.udts[e]=b[e].name;return C.id={},C.id.ALT={id:a.ALT,name:"ALT"},C.id.CAT={id:a.CAT,name:"CAT"},C.id.REP={id:a.REP,name:"REP"},C.id.RNM={id:a.RNM,name:"RNM"},C.id.TLS={id:a.TLS,name:"TLS"},C.id.TBS={id:a.TBS,name:"TBS"},C.id.TRG={id:a.TRG,name:"TRG"},C.id.UDT={id:a.UDT,name:"UDT"},C.id.AND={id:a.AND,name:"AND"},C.id.NOT={id:a.NOT,name:"NOT"},C.id.BKR={id:a.BKR,name:"BKR"},C.id.BKA={id:a.BKA,name:"BKA"},C.id.BKN={id:a.BKN,name:"BKN"},C.id.ABG={id:a.ABG,name:"ABG"},C.id.AEN={id:a.AEN,name:"AEN"},C.id.ACTIVE={id:a.ACTIVE,name:"ACTIVE"},C.id.MATCH={id:a.MATCH,name:"MATCH"},C.id.EMPTY={id:a.EMPTY,name:"EMPTY"},C.id.NOMATCH={id:a.NOMATCH,name:"NOMATCH"},C.treeDepth=T,C.leafNodes=E,S=o.down?o.up?"none":"right":o.up?"left":"both",C.branchesIncomplete=S,C.tree=function e(t,r,n){let s,o={};if(o.id=t.id,o.branch=t.branch,o.leftMost=t.leftMost,o.rightMost=t.rightMost,s=t.state.name?t.state.name:"ACTIVE",o.state={id:t.state.id,name:s},s=t.op.name?t.op.name:"?",o.op={id:t.op.id,name:s},"string"==typeof t.opData)o.opData=t.opData;else if(Array.isArray(t.opData)){o.opData=[];for(let e=0;e<t.opData.length;e+=1)o.opData[e]=t.opData[e]}else o.opData=void 0;t.phrase?o.phrase={index:t.phrase.index,length:t.phrase.length}:o.phrase=null,o.depth=t.depth,o.children=[];for(let n=0;n<t.children.length;n+=1){let s=n!==t.children.length-1;o.children[n]=e(t.children[n],r,s)}return o}(o,o.depth),C}();return e?JSON.stringify(t):t},this.toHtml=function(e,t){let n=8;if("string"==typeof e&&e.length>=3){let t=e.toLowerCase().slice(0,3);"hex"===t?n=r:"dec"===t?n=10:"uni"===t&&(n=32)}let s="";return s+=S(n,t),s+=k(n),s+=C(),s},this.toHtmlPage=function(e,t,r){return s.htmlToPage(this.toHtml(e,t),r)};let S=function(e,t){let n;switch(e){case r:n="hexidecimal";break;case 10:n="decimal";break;case 8:n="ASCII";break;case 32:n="UNICODE";break;default:throw new Error("trace.js: htmlHeader: unrecognized mode: "+e)}let s="";return s+="<p>display mode: "+n+"</p>\n",s+='<table class="'+o.CLASS_TRACE+'">\n',"string"==typeof t&&(s+="<caption>"+t+"</caption>"),s},C=function(){let e="";return e+="</table>\n",e+='<p class="'+o.CLASS_MONOSPACE+'">legend:<br>\n',e+="(a)&nbsp;-&nbsp;line number<br>\n",e+="(b)&nbsp;-&nbsp;matching line number<br>\n",e+="(c)&nbsp;-&nbsp;phrase offset<br>\n",e+="(d)&nbsp;-&nbsp;phrase length<br>\n",e+="(e)&nbsp;-&nbsp;tree depth<br>\n",e+="(f)&nbsp;-&nbsp;operator state<br>\n",e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_ACTIVE+'">&darr;</span>&nbsp;&nbsp;phrase opened<br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_MATCH+'">&uarr;M</span> phrase matched<br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_EMPTY+'">&uarr;E</span> empty phrase matched<br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_NOMATCH+'">&uarr;N</span> phrase not matched<br>\n',e+="operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>\n",e+="phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to 80 characters of the phrase being matched<br>\n",e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_MATCH+'">matched characters</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_LOOKAHEAD+'">matched characters in look ahead mode</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_LOOKBEHIND+'">matched characters in look behind mode</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_REMAINDER+'">remainder characters(not yet examined by parser)</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_CTRLCHAR+'">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>\n',e+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;"+E+" empty string<br>\n",e+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;"+A+" end of input string<br>\n",e+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;"+T+" input string display truncated<br>\n",e+="</p>\n",e+='<p class="'+o.CLASS_MONOSPACE+'">\n',e+="<sup>&dagger;</sup>original ABNF operators:<br>\n",e+="ALT - alternation<br>\n",e+="CAT - concatenation<br>\n",e+="REP - repetition<br>\n",e+="RNM - rule name<br>\n",e+="TRG - terminal range<br>\n",e+="TLS - terminal literal string (case insensitive)<br>\n",e+="TBS - terminal binary string (case sensitive)<br>\n",e+="<br>\n",e+="<sup>&Dagger;</sup>super set SABNF operators:<br>\n",e+="UDT - user-defined terminal<br>\n",e+="AND - positive look ahead<br>\n",e+="NOT - negative look ahead<br>\n",e+="BKA - positive look behind<br>\n",e+="BKN - negative look behind<br>\n",e+="BKR - back reference<br>\n",e+="ABG - anchor - begin of input string<br>\n",e+="AEN - anchor - end of input string<br>\n",e+="</p>\n",e},k=function(e){if(null===g)return"";let r,n,c,p,u,h,d="";return d+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",d+="<th>operator</th><th>phrase</th></tr>\n",i.forEach((function(i,m){let y=l[i];switch(r=y.thisLine,n=void 0!==y.thatLine?y.thatLine:"--",c=!1,p=!1,u=!1,y.lookAround===a.LOOKAROUND_AHEAD&&(c=!0,u=!0,h=y.lookAnchor),y.opcode.type!==a.AND&&y.opcode.type!==a.NOT||(c=!0,u=!0,h=y.phraseIndex),y.lookAround===a.LOOKAROUND_BEHIND&&(p=!0,u=!0,h=y.lookAnchor),y.opcode.type!==a.BKA&&y.opcode.type!==a.BKN||(p=!0,u=!0,h=y.phraseIndex),d+="<tr>",d+="<td>"+r+"</td><td>"+n+"</td>",d+="<td>"+y.phraseIndex+"</td>",d+="<td>"+y.phraseLength+"</td>",d+="<td>"+y.depth+"</td>",d+="<td>",y.state){case a.ACTIVE:d+='<span class="'+o.CLASS_ACTIVE+'">&darr;&nbsp;</span>';break;case a.MATCH:d+='<span class="'+o.CLASS_MATCH+'">&uarr;M</span>';break;case a.NOMATCH:d+='<span class="'+o.CLASS_NOMATCH+'">&uarr;N</span>';break;case a.EMPTY:d+='<span class="'+o.CLASS_EMPTY+'">&uarr;E</span>';break;default:d+='<span class="'+o.CLASS_ACTIVE+'">--</span>'}if(d+="</td>",d+="<td>",d+=t.indent(y.depth),c?d+='<span class="'+o.CLASS_LOOKAHEAD+'">':p&&(d+='<span class="'+o.CLASS_LOOKBEHIND+'">'),d+=s.opcodeToString(y.opcode.type),y.opcode.type===a.RNM&&(d+="("+g[y.opcode.index].name+") "),y.opcode.type===a.BKR){let e=y.opcode.bkrCase===a.BKR_MODE_CI?"%i":"%s",t=y.opcode.bkrMode===a.BKR_MODE_UM?"%u":"%p";d+="(\\"+e+t+g[y.opcode.index].name+") "}y.opcode.type===a.UDT&&(d+="("+b[y.opcode.index].name+") "),y.opcode.type===a.TRG&&(d+="("+M(e,y.opcode)+") "),y.opcode.type===a.TBS&&(d+="("+L(e,y.opcode)+") "),y.opcode.type===a.TLS&&(d+="("+v(e,y.opcode)+") "),y.opcode.type===a.REP&&(d+="("+O(e,y.opcode)+") "),u&&(d+="</span>"),d+="</td>",d+="<td>",d+=p?B(e,f,y.state,y.phraseIndex,y.phraseLength,h):c?R(e,f,y.state,y.phraseIndex,y.phraseLength):N(e,f,y.state,y.phraseIndex,y.phraseLength),d+="</td></tr>\n"})),d+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",d+="<th>operator</th><th>phrase</th></tr>\n",d+="</table>\n",d};this.indent=function(e){let t="";for(let r=0;r<e;r+=1)t+=".";return t};let M=function(e,t){let n="";if(t.type===a.TRG)if(e===r||32===e){let s=t.min.toString(16).toUpperCase();s.length%2!=0&&(s="0"+s),n+=e===r?"%x":"U+",n+=s,s=t.max.toString(16).toUpperCase(),s.length%2!=0&&(s="0"+s),n+="&ndash;"+s}else n="%d"+t.min.toString(10)+"&ndash;"+t.max.toString(10);return n},O=function(e,t){let n="";if(t.type===a.REP)if(e===r){let e=t.min.toString(16).toUpperCase();e.length%2!=0&&(e="0"+e),n="x"+e,t.max<1/0?(e=t.max.toString(16).toUpperCase(),e.length%2!=0&&(e="0"+e)):e="inf",n+="&ndash;"+e}else n=t.max<1/0?t.min.toString(10)+"&ndash;"+t.max.toString(10):t.min.toString(10)+"&ndash;inf";return n},L=function(e,t){let n="";if(t.type===a.TBS){let s=Math.min(t.string.length,10);if(e===r||32===e){n+=e===r?"%x":"U+";for(let e=0;e<s;e+=1){let r;e>0&&(n+="."),r=t.string[e].toString(16).toUpperCase(),r.length%2!=0&&(r="0"+r),n+=r}}else{n="%d";for(let e=0;e<s;e+=1)e>0&&(n+="."),n+=t.string[e].toString(10)}s<t.string.length&&(n+=T)}return n},v=function(e,t){let n="";if(t.type===a.TLS){let o=Math.min(t.string.length,5);if(e===r||10===e){let s,i,a;e===r?(n="%x",a=16):(n="%d",a=10);for(let e=0;e<o;e+=1)e>0&&(n+="."),i=t.string[e],i>=97&&i<=122?(s=i-32,n+=(s.toString(a)+"/"+i.toString(a)).toUpperCase()):i>=65&&i<=90?(s=i,i+=32,n+=(s.toString(a)+"/"+i.toString(a)).toUpperCase()):n+=i.toString(a).toUpperCase();o<t.string.length&&(n+=T)}else{n='"';for(let e=0;e<o;e+=1)n+=s.asciiChars[t.string[e]];o<t.string.length&&(n+=T),n+='"'}}return n},B=function(e,t,r,s,i,l){let c,p,u,h,d="",f=A,g='<span class="'+o.CLASS_LOOKBEHIND+'">',b='<span class="'+o.CLASS_REMAINDER+'">',m="</span>",y=!1;switch(r){case a.EMPTY:d+=E;case a.NOMATCH:case a.MATCH:case a.ACTIVE:c=s-i,p=l-c,u=l,h=t.length-u}return f=A,p>n?(p=n,f=T,h=0):p+h>n&&(f=T,h=n-p),p>0&&(d+=g,d+=_(e,t,c,p,y),d+=m,y=!0),h>0&&(d+=b,d+=_(e,t,u,h,y),d+=m),d+f},R=function(e,t,r,n,s){let i='<span class="'+o.CLASS_LOOKAHEAD+'">';return P(e,t,r,n,s,i)},N=function(e,t,r,n,s){let i='<span class="'+o.CLASS_MATCH+'">';return P(e,t,r,n,s,i)},P=function(e,t,r,s,i,l){let c,p,u,h,d="",f=A,g='<span class="'+o.CLASS_REMAINDER+'">',b="</span>",m=!1;switch(r){case a.EMPTY:d+=E;case a.NOMATCH:case a.ACTIVE:c=s,p=0,u=s,h=t.length-u;break;case a.MATCH:c=s,p=i,u=s+p,h=t.length-u}return f=A,p>n?(p=n,f=T,h=0):p+h>n&&(f=T,h=n-p),p>0&&(d+=l,d+=_(e,t,c,p,m),d+=b,m=!0),h>0&&(d+=g,d+=_(e,t,u,h,m),d+=b),d+f},_=function(e,t,n,o,i){if(0===o)return"";let a="",l=i?",":"";switch(e){case r:a=l+s.charsToHex(t,n,o);break;case 10:if(i)return","+s.charsToDec(t,n,o);a=l+s.charsToDec(t,n,o);break;case 32:a=s.charsToUnicode(t,n,o);break;case 8:default:a=s.charsToAsciiHtml(t,n,o)}return a}}},{"./circular-buffer.js":43,"./identifiers.js":45,"./style.js":49,"./utilities.js":51}],51:[function(e,t,r){"use strict";let n="utilities.js: ",s=e("./style.js"),o=e("apg-conv-api").converter,i=this,a=function(e,t,r){let n;for(;;){if(e<=0){t=0,n=0;break}if("number"!=typeof t){t=0,n=e;break}if(t>=e){t=e,n=e;break}if("number"!=typeof r){n=e;break}if(n=t+r,n>e){n=e;break}break}return{beg:t,end:n}};r.htmlToPage=function(t,r){let n=e("./emitcss.js");if("string"!=typeof t)throw new Error("utilities.js: htmlToPage: input HTML is not a string");"string"!=typeof r&&(r="htmlToPage");let s="";return s+="<!DOCTYPE html>\n",s+='<html lang="en">\n',s+="<head>\n",s+='<meta charset="utf-8">\n',s+="<title>"+r+"</title>\n",s+="<style>\n",s+="'"+n()+"'",s+="</style>\n",s+="</head>\n<body>\n",s+="<p>"+new Date+"</p>\n",s+=t,s+="</body>\n</html>\n",s},r.parserResultToHtml=function(t,r){let n,o,i=e("./identifiers.js"),a=null;"string"==typeof r&&""!==r&&(a=r),n=!0===t.success?'<span class="'+s.CLASS_MATCH+'">true</span>':'<span class="'+s.CLASS_NOMATCH+'">false</span>',o=t.state===i.EMPTY?'<span class="'+s.CLASS_EMPTY+'">EMPTY</span>':t.state===i.MATCH?'<span class="'+s.CLASS_MATCH+'">MATCH</span>':t.state===i.NOMATCH?'<span class="'+s.CLASS_NOMATCH+'">NOMATCH</span>':'<span class="'+s.CLASS_NOMATCH+'">unrecognized</span>';let l="";return l+='<table class="'+s.CLASS_STATE+'">\n',a&&(l+="<caption>"+a+"</caption>\n"),l+="<tr><th>state item</th><th>value</th><th>description</th></tr>\n",l+="<tr><td>parser success</td><td>"+n+"</td>\n",l+='<td><span class="'+s.CLASS_MATCH+'">true</span> if the parse succeeded,\n',l+=' <span class="'+s.CLASS_NOMATCH+'">false</span> otherwise',l+="<br><i>NOTE: for success, entire string must be matched</i></td></tr>\n",l+="<tr><td>parser state</td><td>"+o+"</td>\n",l+='<td><span class="'+s.CLASS_EMPTY+'">EMPTY</span>, ',l+='<span class="'+s.CLASS_MATCH+'">MATCH</span> or \n',l+='<span class="'+s.CLASS_NOMATCH+'">NOMATCH</span></td></tr>\n',l+="<tr><td>string length</td><td>"+t.length+"</td><td>length of the input (sub)string</td></tr>\n",l+="<tr><td>matched length</td><td>"+t.matched+"</td><td>number of input string characters matched</td></tr>\n",l+="<tr><td>max matched</td><td>"+t.maxMatched+"</td><td>maximum number of input string characters matched</td></tr>\n",l+="<tr><td>max tree depth</td><td>"+t.maxTreeDepth+"</td><td>maximum depth of the parse tree reached</td></tr>\n",l+="<tr><td>node hits</td><td>"+t.nodeHits+"</td><td>number of parse tree node hits (opcode function calls)</td></tr>\n",l+="<tr><td>input length</td><td>"+t.inputLength+"</td><td>length of full input string</td></tr>\n",l+="<tr><td>sub-string begin</td><td>"+t.subBegin+"</td><td>sub-string first character index</td></tr>\n",l+="<tr><td>sub-string end</td><td>"+t.subEnd+"</td><td>sub-string end-of-string index</td></tr>\n",l+="<tr><td>sub-string length</td><td>"+t.subLength+"</td><td>sub-string length</td></tr>\n",l+="</table>\n",l},r.charsToString=function(e,t,r){let n,s;if("number"==typeof t){if(t>=e.length)return"";n=t<0?0:t}else n=0;if("number"==typeof r){if(r<=0)return"";s=r>e.length-n?e.length:n+r}else s=e.length;return n<s?o.encode("UTF16LE",e.slice(n,s)).toString("utf16le"):""},r.stringToChars=function(e){return o.decode("STRING",e)},r.opcodeToString=function(t){let r=e("./identifiers.js"),n="unknown";switch(t){case r.ALT:n="ALT";break;case r.CAT:n="CAT";break;case r.RNM:n="RNM";break;case r.UDT:n="UDT";break;case r.AND:n="AND";break;case r.NOT:n="NOT";break;case r.REP:n="REP";break;case r.TRG:n="TRG";break;case r.TBS:n="TBS";break;case r.TLS:n="TLS";break;case r.BKR:n="BKR";break;case r.BKA:n="BKA";break;case r.BKN:n="BKN";break;case r.ABG:n="ABG";break;case r.AEN:n="AEN"}return n},r.stateToString=function(t){let r=e("./identifiers.js"),n="unknown";switch(t){case r.ACTIVE:n="ACTIVE";break;case r.MATCH:n="MATCH";break;case r.EMPTY:n="EMPTY";break;case r.NOMATCH:n="NOMATCH"}return n},r.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],r.charToHex=function(e){let t=e.toString(16).toUpperCase();switch(t.length){case 1:case 3:case 7:t="0"+t;break;case 6:t="00"+t;break;case 5:t="000"+t}return t},r.charsToDec=function(e,t,r){let s="";if(!Array.isArray(e))throw new Error(n+"charsToDec: input must be an array of integers");let o=a(e.length,t,r);if(o.end>o.beg){s+=e[o.beg];for(let t=o.beg+1;t<o.end;t+=1)s+=","+e[t]}return s},r.charsToHex=function(e,t,r){let s="";if(!Array.isArray(e))throw new Error(n+"charsToHex: input must be an array of integers");let o=a(e.length,t,r);if(o.end>o.beg){s+="\\x"+i.charToHex(e[o.beg]);for(let t=o.beg+1;t<o.end;t+=1)s+=",\\x"+i.charToHex(e[t])}return s},r.charsToHtmlEntities=function(e,t,r){let s="";if(!Array.isArray(e))throw new Error(n+"charsToHex: input must be an array of integers");let o=a(e.length,t,r);if(o.end>o.beg)for(let t=o.beg;t<o.end;t+=1)s+="&#x"+e[t].toString(16)+";";return s},r.charsToUnicode=function(e,t,r){let s="";if(!Array.isArray(e))throw new Error(n+"charsToUnicode: input must be an array of integers");let o=a(e.length,t,r);if(o.end>o.beg)for(let t=o.beg;t<o.end;t+=1)s+=(l=e[t])>=55296&&l<=57343||l>1114111?" U+"+i.charToHex(e[t]):"&#"+e[t]+";";var l;return s},r.charsToJsUnicode=function(e,t,r){let s="";if(!Array.isArray(e))throw new Error(n+"charsToJsUnicode: input must be an array of integers");let o=a(e.length,t,r);if(o.end>o.beg){s+="\\u"+i.charToHex(e[o.beg]);for(let t=o.beg+1;t<o.end;t+=1)s+=",\\u"+i.charToHex(e[t])}return s},r.charsToAscii=function(e,t,r){let s="";if(!Array.isArray(e))throw new Error(n+"charsToAscii: input must be an array of integers");let o=a(e.length,t,r);for(let t=o.beg;t<o.end;t+=1){let r=e[t];s+=r>=32&&r<=126?String.fromCharCode(r):"\\x"+i.charToHex(r)}return s},r.charsToAsciiHtml=function(e,t,r){if(!Array.isArray(e))throw new Error(n+"charsToAsciiHtml: input must be an array of integers");let o,l="",c=a(e.length,t,r);for(let t=c.beg;t<c.end;t+=1)o=e[t],l+=o<32||127===o?'<span class="'+s.CLASS_CTRLCHAR+'">'+i.asciiChars[o]+"</span>":o>127?'<span class="'+s.CLASS_CTRLCHAR+'">U+'+i.charToHex(o)+"</span>":i.asciiChars[o];return l},r.stringToAsciiHtml=function(e){let t=o.decode("STRING",e);return this.charsToAsciiHtml(t)}},{"./emitcss.js":44,"./identifiers.js":45,"./style.js":49,"apg-conv-api":53}],52:[function(e,t,r){(function(t){(function(){var n=this,s=e("./transformers.js"),o="UTF8",i="UTF16",a="UTF16BE",l="UTF16LE",c="UTF32",p="UTF32BE",u="UTF32LE",h="UINT7",d="ASCII",f="BINARY",g="UINT8",b="UINT16",m="UINT16LE",y="UINT16BE",A="UINT32",T="UINT32LE",E="UINT32BE",w="ESCAPED",x="STRING",S=function(e,r){if("string"!=typeof e||""===e)throw new TypeError('type: "'+e+'" not recognized');var n=function(e){var t={type:"",base64:!1},r=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(e);return r&&(r[2]&&(t.type=r[2].toUpperCase()),r[1]&&(t.base64=!0)),t}(e.toUpperCase());if(n.base64){if(n.type===x)throw new TypeError('type: "'+e+' "BASE64:" prefix not allowed with type '+x);if(t.isBuffer(r))n.data=s.base64.decode(r);else{if("string"!=typeof r)throw new TypeError('type: "'+e+" unrecognized data type: typeof(data): "+typeof r);var S=t.from(r,"ascii");n.data=s.base64.decode(S)}}else n.data=r;switch(n.type){case o:!function(e){e.type=o;var t=e.data;e.bom=0,t.length>=3&&239===t[0]&&187===t[1]&&191===t[2]&&(e.bom=3)}(n);break;case i:case a:case l:!function(e){var t=e.data;switch(e.bom=0,e.type){case i:e.type=a,t.length>=2&&(254===t[0]&&255===t[1]?e.bom=2:255===t[0]&&254===t[1]&&(e.type=l,e.bom=2));break;case a:if(e.type=a,t.length>=2)if(254===t[0]&&255===t[1])e.bom=2;else if(255===t[0]&&254===t[1])throw new TypeError('src type: "UTF16BE" specified but BOM is for "UTF16LE"');break;case l:if(e.type=l,t.length>=0){if(254===t[0]&&255===t[1])throw new TypeError('src type: "UTF16LE" specified but BOM is for "UTF16BE"');255===t[0]&&254===t[1]&&(e.bom=2)}break;default:throw new TypeError('UTF16 BOM: src type "'+e.type+'" unrecognized')}}(n);break;case c:case p:case u:!function(e){var t=e.data;switch(e.bom=0,e.type){case c:e.type=p,t.length>=4&&(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3]&&(e.bom=4),255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]&&(e.type=u,e.bom=4));break;case p:if(e.type=p,t.length>=4&&(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3]&&(e.bom=4),255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]))throw new TypeError('src type: UTF32BE specified but BOM is for UTF32LE"');break;case u:if(e.type=u,t.length>=4){if(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3])throw new TypeError('src type: "UTF32LE" specified but BOM is for "UTF32BE"');255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]&&(e.bom=4)}break;default:throw new TypeError('UTF32 BOM: src type "'+e.type+'" unrecognized')}}(n);break;case b:n.type=y;break;case A:n.type=E;break;case d:n.type=h;break;case f:n.type=g;break;case h:case g:case m:case y:case T:case E:case x:case w:break;default:throw new TypeError('type: "'+e+'" not recognized')}if(n.type===x){if("string"!=typeof n.data)throw new TypeError('type: "'+e+'" but data is not a string')}else if(!t.isBuffer(n.data))throw new TypeError('type: "'+e+'" but data is not a Buffer');return n},C=function(e,t){switch(e){case o:return s.utf8.encode(t);case a:return s.utf16be.encode(t);case l:return s.utf16le.encode(t);case p:return s.utf32be.encode(t);case u:return s.utf32le.encode(t);case h:return s.uint7.encode(t);case g:return s.uint8.encode(t);case y:return s.uint16be.encode(t);case m:return s.uint16le.encode(t);case E:return s.uint32be.encode(t);case T:return s.uint32le.encode(t);case x:return s.string.encode(t);case w:return s.escaped.encode(t);default:throw new TypeError('encode type "'+e+'" not recognized')}};r.decode=function(e,t){return function(e){switch(e.type){case o:return s.utf8.decode(e.data,e.bom);case l:return s.utf16le.decode(e.data,e.bom);case a:return s.utf16be.decode(e.data,e.bom);case p:return s.utf32be.decode(e.data,e.bom);case u:return s.utf32le.decode(e.data,e.bom);case h:return s.uint7.decode(e.data);case g:return s.uint8.decode(e.data);case y:return s.uint16be.decode(e.data);case m:return s.uint16le.decode(e.data);case E:return s.uint32be.decode(e.data);case T:return s.uint32le.decode(e.data);case x:return s.string.decode(e.data);case w:return s.escaped.decode(e.data);default:throw new TypeError('decode type "'+e.type+'" not recognized')}}(S(e,t))},r.encode=function(e,t){var r,n,S=function(e,t){if(!Array.isArray(t))throw new TypeError('dst chars: not array: "'+typeof t);if("string"!=typeof e)throw new TypeError('dst type: not string: "'+typeof e);switch(ret=function(e){for(var t,r,n={crlf:!1,lf:!1,base64:!1,type:""};;){if(r=e,"CRLF:"===(t=e.slice(0,5))){n.crlf=!0,r=e.slice(5);break}if("LF:"===(t=e.slice(0,3))){n.lf=!0,r=e.slice(3);break}break}return 1===(t=r.split(":")).length?n.type=t[0]:2===t.length&&"BASE64"===t[1]&&(n.base64=!0,n.type=t[0]),n}(e.toUpperCase()),ret.type){case o:case a:case l:case p:case u:case h:case g:case m:case y:case T:case E:case w:break;case x:if(ret.base64)throw new TypeError('":BASE64" suffix not allowed with type STRING');break;case d:ret.type=h;break;case f:ret.type=g;break;case i:ret.type=a;break;case c:ret.type=p;break;case b:ret.type=y;break;case A:ret.type=E;break;default:throw new TypeError('dst type unrecognized: "'+e+'" : must have form [crlf:|lf:]type[:base64]')}return ret}(e,t);return S.crlf?(r=s.lineEnds.crlf(t),n=C(S.type,r)):S.lf?(r=s.lineEnds.lf(t),n=C(S.type,r)):n=C(S.type,t),S.base64&&(n=s.base64.encode(n)),n},r.convert=function(e,t,r){return n.encode(r,n.decode(e,t))}}).call(this)}).call(this,e("buffer").Buffer)},{"./transformers.js":54,buffer:4}],53:[function(e,t,r){"use strict";r.converter=e("./converter.js"),r.transformers=e("./transformers.js")},{"./converter.js":52,"./transformers.js":54}],54:[function(e,t,r){(function(e){(function(){var t=this,n=4294967292,s=4294967293,o=4294967294,i=4294967295,a=[0,1,3,7,15,31,63,127,255,511,1023],l=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),p=[];c.forEach((function(e){p.push(e.charCodeAt(0))})),r.utf8={encode:function(t){var r=[];return t.forEach((function(e){if(e>=0&&e<=127)r.push(e);else if(e<=2047)r.push(192+(e>>6&a[5])),r.push(128+(e&a[6]));else if(e<55296||e>57343&&e<=65535)r.push(224+(e>>12&a[4])),r.push(128+(e>>6&a[6])),r.push(128+(e&a[6]));else{if(!(e>=65536&&e<=1114111))throw new RangeError("utf8.encode: character out of range: char: "+e);var t=e>>16&a[5];r.push(240+(t>>2)),r.push(128+((t&a[2])<<4)+(e>>12&a[4])),r.push(128+(e>>6&a[6])),r.push(128+(e&a[6]))}})),e.from(r)},decode:function(e,t){function r(e,t){if(128!=(192&t))return s;var r=((e&a[5])<<6)+(t&a[6]);return r<128?n:r}function l(e,t,r){if(128!=(192&r)||128!=(192&t))return s;var i=((e&a[4])<<12)+((t&a[6])<<6)+(r&a[6]);return i<2048?n:i>=55296&&i<=57343?o:i}function c(e,t,r,i){if(128!=(192&i)||128!=(192&r)||128!=(192&t))return s;var l=(((e&a[3])<<2)+(t>>4&a[2])<<16)+((t&a[4])<<12)+((r&a[6])<<6)+(i&a[6]);return l<65536?n:l>1114111?o:l}for(var p,u,h,d,f,g,b=e.length,m=t?3:0,y=[];m<b;){for(u=e[m],p=i;;){if(u>=0&&u<=127){p=u,g=1;break}if((h=m+1)<b&&u>=194&&u<=223){p=r(u,e[h]),g=2;break}if((d=m+2)<b&&u>=224&&u<=239){p=l(u,e[h],e[d]),g=3;break}if((f=m+3)<b&&u>=240&&u<=244){p=c(u,e[h],e[d],e[f]),g=4;break}break}if(p>1114111){var A="byte["+m+"]";if(p===i)throw new RangeError("utf8.decode: ill-formed UTF8 byte sequence found at: "+A);if(p===s)throw new RangeError("utf8.decode: illegal trailing byte found at: "+A);if(p===o)throw new RangeError("utf8.decode: code point out of range found at: "+A);if(p===n)throw new RangeError("utf8.decode: non-shortest form found at: "+A);throw new RangeError("utf8.decode: unrecognized error found at: "+A)}y.push(p),m+=g}return y}},r.utf16be={encode:function(t){for(var r,n,s,o=[],i=0;i<t.length;i+=1)if((r=t[i])>=0&&r<=55295||r>=57344&&r<=65535)o.push(r>>8&a[8]),o.push(r&a[8]);else{if(!(r>=65536&&r<=1114111))throw new RangeError("utf16be.encode: UTF16BE value out of range: char["+i+"]: "+r);n=55296+((s=r-65536)>>10),s=56320+(s&a[10]),o.push(n>>8&a[8]),o.push(n&a[8]),o.push(s>>8&a[8]),o.push(s&a[8])}return e.from(o)},decode:function(e,t){if(e.length%2>0)throw new RangeError("utf16be.decode: data length must be even multiple of 2: length: "+e.length);for(var r,n,s,o,i,a,l=[],c=e.length,p=t?2:0,u=0;p<c;){for(;;){if((s=p+1)<c){if((i=(e[p]<<8)+e[s])<55296||i>57343){r=i,n=2;break}if((o=p+3)<c&&(a=(e[p+2]<<8)+e[o],i<=56319&&a>=56320&&a<=57343)){r=65536+(i-55296<<10)+(a-56320),n=4;break}}throw new RangeError("utf16be.decode: ill-formed UTF16BE byte sequence found: byte["+p+"]")}l[u++]=r,p+=n}return l}},r.utf16le={encode:function(t){for(var r,n,s,o=[],i=0;i<t.length;i+=1)if((r=t[i])>=0&&r<=55295||r>=57344&&r<=65535)o.push(r&a[8]),o.push(r>>8&a[8]);else{if(!(r>=65536&&r<=1114111))throw new RangeError("utf16le.encode: UTF16LE value out of range: char["+i+"]: "+r);n=55296+((s=r-65536)>>10),s=56320+(s&a[10]),o.push(n&a[8]),o.push(n>>8&a[8]),o.push(s&a[8]),o.push(s>>8&a[8])}return e.from(o)},decode:function(e,t){if(e.length%2>0)throw new RangeError("utf16le.decode: data length must be even multiple of 2: length: "+e.length);for(var r,n,s,o,i,a,l=[],c=e.length,p=t?2:0,u=0;p<c;){for(;;){if((s=p+1)<c){if((i=(e[s]<<8)+e[p])<55296||i>57343){r=i,n=2;break}if((o=p+3)<c&&(a=(e[o]<<8)+e[p+2],i<=56319&&a>=56320&&a<=57343)){r=65536+(i-55296<<10)+(a-56320),n=4;break}}throw new RangeError("utf16le.decode: ill-formed UTF16LE byte sequence found: byte["+p+"]")}l[u++]=r,p+=n}return l}},r.utf32be={encode:function(t){var r=e.alloc(4*t.length),n=0;return t.forEach((function(e){if(e>=55296&&e<=57343||e>1114111)throw new RangeError("utf32be.encode: UTF32BE character code out of range: char["+n/4+"]: "+e);r[n++]=e>>24&a[8],r[n++]=e>>16&a[8],r[n++]=e>>8&a[8],r[n++]=e&a[8]})),r},decode:function(e,t){if(e.length%4>0)throw new RangeError("utf32be.decode: UTF32BE byte length must be even multiple of 4: length: "+e.length);for(var r=[],n=t?4:0;n<e.length;n+=4){var s=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];if(s>=55296&&s<=57343||s>1114111)throw new RangeError("utf32be.decode: UTF32BE character code out of range: char["+n/4+"]: "+s);r.push(s)}return r}},r.utf32le={encode:function(t){var r=e.alloc(4*t.length),n=0;return t.forEach((function(e){if(e>=55296&&e<=57343||e>1114111)throw new RangeError("utf32le.encode: UTF32LE character code out of range: char["+n/4+"]: "+e);r[n++]=e&a[8],r[n++]=e>>8&a[8],r[n++]=e>>16&a[8],r[n++]=e>>24&a[8]})),r},decode:function(e,t){if(e.length%4>0)throw new RangeError("utf32be.decode: UTF32LE byte length must be even multiple of 4: length: "+e.length);for(var r=[],n=t?4:0;n<e.length;n+=4){var s=(e[n+3]<<24)+(e[n+2]<<16)+(e[n+1]<<8)+e[n];if(s>=55296&&s<=57343||s>1114111)throw new RangeError("utf32le.encode: UTF32LE character code out of range: char["+n/4+"]: "+s);r.push(s)}return r}},r.uint7={encode:function(t){for(var r=e.alloc(t.length),n=0;n<t.length;n+=1){if(t[n]>127)throw new RangeError("uint7.encode: UINT7 character code out of range: char["+n+"]: "+t[n]);r[n]=t[n]}return r},decode:function(e){for(var t=[],r=0;r<e.length;r+=1){if(e[r]>127)throw new RangeError("uint7.decode: UINT7 character code out of range: byte["+r+"]: "+e[r]);t[r]=e[r]}return t}},r.uint8={encode:function(t){for(var r=e.alloc(t.length),n=0;n<t.length;n+=1){if(t[n]>255)throw new RangeError("uint8.encode: UINT8 character code out of range: char["+n+"]: "+t[n]);r[n]=t[n]}return r},decode:function(e){for(var t=[],r=0;r<e.length;r+=1)t[r]=e[r];return t}},r.uint16be={encode:function(t){var r=e.alloc(2*t.length),n=0;return t.forEach((function(e){if(e>65535)throw new RangeError("uint16be.encode: UINT16BE character code out of range: char["+n/2+"]: "+e);r[n++]=e>>8&a[8],r[n++]=e&a[8]})),r},decode:function(e){if(e.length%2>0)throw new RangeError("uint16be.decode: UINT16BE byte length must be even multiple of 2: length: "+e.length);for(var t=[],r=0;r<e.length;r+=2)t.push((e[r]<<8)+e[r+1]);return t}},r.uint16le={encode:function(t){var r=e.alloc(2*t.length),n=0;return t.forEach((function(e){if(e>65535)throw new RangeError("uint16le.encode: UINT16LE character code out of range: char["+n/2+"]: "+e);r[n++]=e&a[8],r[n++]=e>>8&a[8]})),r},decode:function(e){if(e.length%2>0)throw new RangeError("uint16le.decode: UINT16LE byte length must be even multiple of 2: length: "+e.length);for(var t=[],r=0;r<e.length;r+=2)t.push((e[r+1]<<8)+e[r]);return t}},r.uint32be={encode:function(t){var r=e.alloc(4*t.length),n=0;return t.forEach((function(e){r[n++]=e>>24&a[8],r[n++]=e>>16&a[8],r[n++]=e>>8&a[8],r[n++]=e&a[8]})),r},decode:function(e){if(e.length%4>0)throw new RangeError("uint32be.decode: UINT32BE byte length must be even multiple of 4: length: "+e.length);for(var t=[],r=0;r<e.length;r+=4)t.push((e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3]);return t}},r.uint32le={encode:function(t){var r=e.alloc(4*t.length),n=0;return t.forEach((function(e){r[n++]=e&a[8],r[n++]=e>>8&a[8],r[n++]=e>>16&a[8],r[n++]=e>>24&a[8]})),r},decode:function(e){if(e.length%4>0)throw new RangeError("uint32le.decode: UINT32LE byte length must be even multiple of 4: length: "+e.length);for(var t=[],r=0;r<e.length;r+=4)t.push((e[r+3]<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]);return t}},r.string={encode:function(e){return t.utf16le.encode(e).toString("utf16le")},decode:function(r){return t.utf16le.decode(e.from(r,"utf16le"),0)}},r.escaped={encode:function(t){for(var r=[],n=0;n<t.length;n+=1){var s=t[n];if(96===s)r.push(s),r.push(s);else if(10===s)r.push(s);else if(s>=32&&s<=126)r.push(s);else{var o="";if(s>=0&&s<=31)o+="`x"+l[s];else if(s>=127&&s<=255)o+="`x"+l[s];else if(s>=256&&s<=65535)o+="`u"+l[s>>8&a[8]]+l[s&a[8]];else{if(!(s>=65536&&s<=4294967295))throw new Error("escape.encode(char): char > 0xffffffff not allowed");o+="`u{";var i=s>>24&a[8];i>0&&(o+=l[i]),o+=l[s>>16&a[8]]+l[s>>8&a[8]]+l[s&a[8]]+"}"}e.from(o).forEach((function(e){r.push(e)}))}}return e.from(r)},decode:function(e){function t(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function r(e,r,n){var s={char:null,nexti:e+2,error:!0};if(e+1<r&&t(n[e])&&t(n[e+1])){var o=String.fromCodePoint(n[e],n[e+1]);s.char=parseInt(o,16),isNaN(s.char)||(s.error=!1)}return s}function n(e,r,n){var s={char:null,nexti:e+4,error:!0};if(e+3<r&&t(n[e])&&t(n[e+1])&&t(n[e+2])&&t(n[e+3])){var o=String.fromCodePoint(n[e],n[e+1],n[e+2],n[e+3]);s.char=parseInt(o,16),isNaN(s.char)||(s.error=!1)}return s}function s(e,r,n){for(var s={char:null,nexti:e+4,error:!0},o="";e<r&&t(n[e]);)o+=String.fromCodePoint(n[e]),e+=1;return s.char=parseInt(o,16),125!==n[e]||isNaN(s.char)||(s.error=!1),s.nexti=e+1,s}for(var o,i,a,l=[],c=e.length,p=0;p<c;){for(;;){if(a=!0,96!==e[p]){l.push(e[p]),p+=1,a=!1;break}if((o=p+1)>=c)break;if(96===e[o]){l.push(96),p+=2,a=!1;break}if(120===e[o]){if((i=r(o+1,c,e)).error)break;l.push(i.char),p=i.nexti,a=!1;break}if(117===e[o]){if(123===e[o+1]){if((i=s(o+2,c,e)).error)break;l.push(i.char),p=i.nexti,a=!1;break}if((i=n(o+1,c,e)).error)break;l.push(i.char),p=i.nexti,a=!1;break}break}if(a)throw new Error("escaped.decode: ill-formed escape sequence at buf["+p+"]")}return l}};var u=10;r.lineEnds={crlf:function(e){for(var t=[],r=0;r<e.length;)switch(e[r]){case 13:r+1<e.length&&e[r+1]===u?r+=2:r+=1,t.push(13),t.push(u);break;case u:t.push(13),t.push(u),r+=1;break;default:t.push(e[r]),r+=1}return t.length>0&&t[t.length-1]!==u&&(t.push(13),t.push(u)),t},lf:function(e){for(var t=[],r=0;r<e.length;)switch(e[r]){case 13:r+1<e.length&&e[r+1]===u?r+=2:r+=1,t.push(u);break;case u:t.push(u),r+=1;break;default:t.push(e[r]),r+=1}return t.length>0&&t[t.length-1]!==u&&t.push(u),t}},r.base64={encode:function(t){if(0===t.length)return e.alloc(0);var r,n,s,o=t.length%3;o=o>0?3-o:0;var i=(t.length+o)/3,l=e.alloc(4*i);o>0&&(i-=1),r=0,n=0;for(var c=0;c<i;c+=1)s=t[r++]<<16,s+=t[r++]<<8,s+=t[r++],l[n++]=p[s>>18&a[6]],l[n++]=p[s>>12&a[6]],l[n++]=p[s>>6&a[6]],l[n++]=p[s&a[6]];return 0===o?l:1===o?(s=t[r++]<<16,s+=t[r]<<8,l[n++]=p[s>>18&a[6]],l[n++]=p[s>>12&a[6]],l[n++]=p[s>>6&a[6]],l[n]=p[64],l):2===o?(s=t[r]<<16,l[n++]=p[s>>18&a[6]],l[n++]=p[s>>12&a[6]],l[n++]=p[64],l[n]=p[64],l):void 0},decode:function(t){if(0===t.length)return e.alloc(0);var r,n,s,o=function(t){for(var r=[],n=0,s=0;s<t.length;s+=1)for(var o=t[s];32!==o&&9!==o&&10!==o&&13!==o;){if(o>=65&&o<=90){r.push(o-65);break}if(o>=97&&o<=122){r.push(o-71);break}if(o>=48&&o<=57){r.push(o+4);break}if(43===o){r.push(62);break}if(47===o){r.push(63);break}if(61===o){r.push(64),n+=1;break}throw new RangeError("base64.decode: invalid character buf["+s+"]: "+o)}if(r.length%4>0)throw new RangeError("base64.decode: string length not integral multiple of 4: "+r.length);switch(n){case 0:break;case 1:if(64!==r[r.length-1])throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(64!==r[r.length-1]||64!==r[r.length-2])throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError("base64.decode: more than two tail characters found: "+n)}return{tail:n,buf:e.from(r)}}(t),i=o.tail,l=o.buf,c=l.length/4,p=e.alloc(3*c-i);i>0&&(c-=1),n=0,r=0;for(var u=0;u<c;u+=1)s=l[r++]<<18,s+=l[r++]<<12,s+=l[r++]<<6,s+=l[r++],p[n++]=s>>16&a[8],p[n++]=s>>8&a[8],p[n++]=s&a[8];return 1===i&&(s=l[r++]<<18,s+=l[r++]<<12,s+=l[r]<<6,p[n++]=s>>16&a[8],p[n]=s>>8&a[8]),2===i&&(s=l[r++]<<18,s+=l[r++]<<12,p[n]=s>>16&a[8]),p},toString:function(e){if(e.length%4>0)throw new RangeError("base64.toString: input buffer length not multiple of 4: "+e.length);var t,r="",n=0;function s(e,t,s,o){switch(n){case 76:r+="\r\n"+e+t+s+o,n=4;break;case 75:r+=e+"\r\n"+t+s+o,n=3;break;case 74:r+=e+t+"\r\n"+s+o,n=2;break;case 73:r+=e+t+s+"\r\n"+o,n=1;break;default:r+=e+t+s+o,n+=4}}for(var o=0;o<e.length;o+=4){for(var i=o;i<o+4;i+=1)if(!((t=e[i])>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||43===t||47===t||61===t))throw new RangeError("base64.toString: buf["+i+"]: "+e[i]+" : not valid base64 character code");s(String.fromCharCode(e[o]),String.fromCharCode(e[o+1]),String.fromCharCode(e[o+2]),String.fromCharCode(e[o+3]))}return r}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:4}],55:[function(e,t,r){t.exports=function(){"use strict";var t=e("./identifiers.js"),r=e("./utilities.js"),n=this,s=null,o=null,i=null,a=0,l=[],c=[],p=[],u=[];function h(e){for(var t="",r=0;r<e;r+=1)t+=" ";return t}this.callbacks=[],this.astObject="astObject",this.init=function(e,t,r){p.length=0,u.length=0,l.length=0,a=0,s=e,o=t,i=r;var h,d=[];for(h=0;h<s.length;h+=1)d.push(s[h].lower);for(h=0;h<o.length;h+=1)d.push(o[h].lower);for(a=s.length+o.length,h=0;h<a;h+=1)l[h]=!1,c[h]=null;for(var f in n.callbacks){var g=f.toLowerCase();if((h=d.indexOf(g))<0)throw new Error("ast.js: init: node '"+f+"' not a rule or udt name");"function"==typeof n.callbacks[f]&&(l[h]=!0,c[h]=n.callbacks[f]),!0===n.callbacks[f]&&(l[h]=!0)}},this.ruleDefined=function(e){return!1!==l[e]},this.udtDefined=function(e){return!1!==l[s.length+e]},this.down=function(e,r){var n=u.length;return p.push(n),u.push({name:r,thisIndex:n,thatIndex:null,state:t.SEM_PRE,callbackIndex:e,phraseIndex:null,phraseLength:null,stack:p.length}),n},this.up=function(e,r,n,s){var o=u.length,i=p.pop();return u.push({name:r,thisIndex:o,thatIndex:i,state:t.SEM_POST,callbackIndex:e,phraseIndex:n,phraseLength:s,stack:p.length}),u[i].thatIndex=o,u[i].phraseIndex=n,u[i].phraseLength=s,o},this.translate=function(e){for(var r,n,s=0;s<u.length;s+=1)n=u[s],r=c[n.callbackIndex],n.state===t.SEM_PRE?null!==r&&r(t.SEM_PRE,i,n.phraseIndex,n.phraseLength,e)===t.SEM_SKIP&&(s=n.thatIndex):null!==r&&r(t.SEM_POST,i,n.phraseIndex,n.phraseLength,e)},this.setLength=function(e){u.length=e,p.length=e>0?u[e-1].stack:0},this.getLength=function(){return u.length},this.toXml=function(e){var n=r.charsToDec,s="decimal integer character codes";"string"==typeof e&&e.length>=3&&("asc"===(e=e.slice(0,3).toLowerCase())?(n=r.charsToAscii,s="ASCII for printing characters, hex for non-printing"):"hex"===e?(n=r.charsToHex,s="hexidecimal integer character codes"):"uni"===e&&(n=r.charsToUnicode,s="Unicode UTF-32 integer character codes"));var o="",a=0;return o+='<?xml version="1.0" encoding="utf-8"?>\n',o+='<root nodes="'+u.length/2+'" characters="'+i.length+'">\n',o+="\x3c!-- input string, "+s+" --\x3e\n",o+=h(a+2),o+=n(i),o+="\n",u.forEach((function(e,r){e.state===t.SEM_PRE?(o+=h(a+=1),o+='<node name="'+e.name+'" index="'+e.phraseIndex+'" length="'+e.phraseLength+'">\n',o+=h(a+2),o+=n(i,e.phraseIndex,e.phraseLength),o+="\n"):(o+=h(a),o+='</node>\x3c!-- name="'+e.name+'" --\x3e\n',a-=1)})),o+="</root>\n"},this.phrases=function(){var e,r,n={};for(e=0;e<u.length;e+=1)(r=u[e]).state===t.SEM_PRE&&(Array.isArray(n[r.name])||(n[r.name]=[]),n[r.name].push({index:r.phraseIndex,length:r.phraseLength}));return n}}},{"./identifiers.js":59,"./utilities.js":64}],56:[function(e,t,r){t.exports=function(){var e=-1,t=0;this.init=function(r){if("number"!=typeof r||r<=0)throw new Error("circular-buffer.js: init: circular buffer size must an integer > 0");t=Math.ceil(r),e=-1},this.increment=function(){return((e+=1)+t)%t},this.maxSize=function(){return t},this.items=function(){return e+1},this.getListIndex=function(r){return-1===e||r<0||r>e||e-r>=t?-1:(r+t)%t},this.forEach=function(r){if(-1!==e)if(e<t)for(var n=0;n<=e;n+=1)r(n,n);else for(n=e-t+1;n<=e;n+=1){r((n+t)%t,n)}}}},{}],57:[function(e,t,r){t.exports=function(){return"/* This file automatically generated by toless() and LESS. */\n.apg-mono {\n  font-family: monospace;\n}\n.apg-active {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-match {\n  font-weight: bold;\n  color: #264BFF;\n}\n.apg-empty {\n  font-weight: bold;\n  color: #0fbd0f;\n}\n.apg-nomatch {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-lh-match {\n  font-weight: bold;\n  color: #1A97BA;\n}\n.apg-lb-match {\n  font-weight: bold;\n  color: #5F1687;\n}\n.apg-remainder {\n  font-weight: bold;\n  color: #999999;\n}\n.apg-ctrl-char {\n  font-weight: bolder;\n  font-style: italic;\n  font-size: .6em;\n}\n.apg-line-end {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-error {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-phrase {\n  color: #000000;\n  background-color: #8caae6;\n}\n.apg-empty-phrase {\n  color: #0fbd0f;\n}\ntable.apg-state {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th,\ntable.apg-state td {\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th:nth-last-child(2),\ntable.apg-state td:nth-last-child(2) {\n  text-align: right;\n}\ntable.apg-state caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-stats {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats th,\ntable.apg-stats td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace th,\ntable.apg-trace td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace th:last-child,\ntable.apg-trace th:nth-last-child(2),\ntable.apg-trace td:last-child,\ntable.apg-trace td:nth-last-child(2) {\n  text-align: left;\n}\ntable.apg-grammar {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-grammar th,\ntable.apg-grammar td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar th:last-child,\ntable.apg-grammar td:last-child {\n  text-align: left;\n}\ntable.apg-rules {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-rules th,\ntable.apg-rules td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules a {\n  color: #003399 !important;\n}\ntable.apg-rules a:hover {\n  color: #8caae6 !important;\n}\ntable.apg-attrs {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-attrs th,\ntable.apg-attrs td {\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs th:nth-child(1),\ntable.apg-attrs th:nth-child(2),\ntable.apg-attrs th:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs td:nth-child(1),\ntable.apg-attrs td:nth-child(2),\ntable.apg-attrs td:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs a {\n  color: #003399 !important;\n}\ntable.apg-attrs a:hover {\n  color: #8caae6 !important;\n}\n"}},{}],58:[function(e,t,r){"use strict";r.ast=e("./ast.js"),r.circular=e("./circular-buffer.js"),r.ids=e("./identifiers.js"),r.parser=e("./parser.js"),r.stats=e("./stats.js"),r.trace=e("./trace.js"),r.utils=e("./utilities.js"),r.emitcss=e("./emitcss.js"),r.style=e("./style.js")},{"./ast.js":55,"./circular-buffer.js":56,"./emitcss.js":57,"./identifiers.js":59,"./parser.js":60,"./stats.js":61,"./style.js":62,"./trace.js":63,"./utilities.js":64}],59:[function(e,t,r){"use strict";t.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,ATTR_NMR:403,ATTR_RMR:404,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}},{}],60:[function(e,t,r){t.exports=function(){"use strict";var t=this,r=e("./identifiers.js"),n=e("./utilities.js");this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];var s,o,i,a,l=null,c=null,p=0,u=0,h=0,d=null,f=null,g=null,b=null,m=null,y=0,A=1/0,T=1/0,E=function(e,t,n){var s,o="parser.js: evaluateRule(): ";if(e>=g.length)throw new Error(o+"rule index: "+e+" out of range");if(t>=i)throw new Error(o+"phrase index: "+t+" out of range");s=l.length,l.push({type:r.RNM,index:e}),j(s,t,n),l.pop()},w=function(e,t,n){var s,o="parser.js: evaluateUdt(): ";if(e>=b.length)throw new Error(o+"udt index: "+e+" out of range");if(t>=i)throw new Error(o+"phrase index: "+t+" out of range");s=l.length,l.push({type:r.UDT,empty:b[e].empty,index:e}),j(s,t,n),l.pop()},x=function(){0,p=0,u=0,h=0,y=0,a=[{lookAround:r.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],g=null,b=null,c=null,s=0,o=0,i=0,d=null,f=null,m=null,l=null},S=function(){var e,t=[];this.push=function(){t.push(function(){var e=t[t.length-1],r={};for(var n in e)r[n]=e[n];return r}())},this.pop=function(e){if(e||(e=t.length-1),e<1||e>t.length)throw new Error("parser.js: backRef.pop(): bad length: "+e);return t.length=e,t[t.length-1]},this.length=function(){return t.length},this.savePhrase=function(e,r,n){t[t.length-1][e]={phraseIndex:r,phraseLength:n}},this.getPhrase=function(e){return t[t.length-1][e]},e={},g.forEach((function(t){t.isBkr&&(e[t.lower]=null)})),b.length>0&&b.forEach((function(t){t.isBkr&&(e[t.lower]=null)})),t.push(e)},C=function(){var e=this;this.state=r.ACTIVE,this.phraseLength=0,this.lookAround=a[a.length-1],this.uFrame=new S,this.pFrame=new S,this.evaluateRule=E,this.evaluateUdt=w,this.refresh=function(){e.state=r.ACTIVE,e.phraseLength=0,e.lookAround=a[a.length-1]}},k=function(){return a[a.length-1]},M=function(){return a.length>1},O=function(e,t,r){var a="parser.js: initializeInputChars(): ";if(void 0===e)throw new Error(a+"input string is undefined");if(null===e)throw new Error(a+"input string is null");if("string"==typeof e)e=n.stringToChars(e);else if(!Array.isArray(e))throw new Error(a+"input string is not a string or array");if(e.length>0&&"number"!=typeof e[0])throw new Error(a+"input string not an array of integers");if("number"!=typeof t)t=0;else if((t=Math.floor(t))<0||t>e.length)throw new Error(a+"input beginning index out of range: "+t);if("number"!=typeof r)r=e.length-t;else if((r=Math.floor(r))<0||r>e.length-t)throw new Error(a+"input length out of range: "+r);c=e,i=(s=t)+(o=r)};this.setMaxTreeDepth=function(e){if("number"!=typeof e)throw new Error("parser: max tree depth must be integer > 0: "+e);if((A=Math.floor(e))<=0)throw new Error("parser: max tree depth must be integer > 0: "+e)},this.setMaxNodeHits=function(e){if("number"!=typeof e)throw new Error("parser: max node hits must be integer > 0: "+e);if((T=Math.floor(e))<=0)throw new Error("parser: max node hits must be integer > 0: "+e)},this.parse=function(e,t,r,n){return x(),O(r,0,r.length),L(e,t,n)},this.parseSubstring=function(e,t,r,n,s,o){return x(),O(r,n,s),L(e,t,o)};var L=function(e,n,a){var p,A;switch("parser.js: parse(): ",function(e){var t="parser.js: initializeGrammar(): ";if(!e)throw new Error(t+"grammar object undefined");if("grammarObject"!==e.grammarObject)throw new Error(t+"bad grammar object");g=e.rules,b=e.udts}(e),n=function(e){var t="parser.js: initializeStartRule(): ",r=null;if("number"==typeof e){if(e>=g.length)throw new Error(t+"start rule index too large: max: "+g.length+": index: "+e);r=e}else{if("string"!=typeof e)throw new Error(t+"type of start rule '"+typeof e+"' not recognized");for(var n=e.toLowerCase(),s=0;s<g.length;s+=1)if(n===g[s].lower){r=g[s].index;break}if(null===r)throw new Error(t+"start rule name '"+e+"' not recognized")}return r}(n),function(){var e,r="parser.js: initializeCallbacks(): ";for(d=[],f=[],e=0;e<g.length;e+=1)d[e]=null;for(e=0;e<b.length;e+=1)f[e]=null;var n,s=[];for(e=0;e<g.length;e+=1)s.push(g[e].lower);for(e=0;e<b.length;e+=1)s.push(b[e].lower);for(var o in t.callbacks){if((e=s.indexOf(o.toLowerCase()))<0)throw new Error(r+"syntax callback '"+o+"' not a rule or udt name");if((n=t.callbacks[o])||(n=null),"function"!=typeof n&&null!==n)throw new Error(r+"syntax callback["+o+"] must be function reference or 'false' (false/null/undefined/etc.)");e<g.length?d[e]=n:f[e-g.length]=n}for(e=0;e<b.length;e+=1)if(null===f[e])throw new Error(r+"all UDT callbacks must be defined. UDT callback["+b[e].lower+"] not a function reference")}(),function(){for(;;){if(void 0===t.trace){t.trace=null;break}if(null===t.trace)break;if("traceObject"!==t.trace.traceObject)throw new Error("parser.js: initializeTrace(): trace object not recognized");break}null!==t.trace&&t.trace.init(g,b,c)}(),function(){for(;;){if(void 0===t.stats){t.stats=null;break}if(null===t.stats)break;if("statsObject"!==t.stats.statsObject)throw new Error("parser.js: initializeStats(): stats object not recognized");break}null!==t.stats&&t.stats.init(g,b)}(),function(){for(;;){if(void 0===t.ast){t.ast=null;break}if(null===t.ast)break;if("astObject"!==t.ast.astObject)throw new Error("parser.js: initializeAst(): ast object not recognized");break}null!==t.ast&&t.ast.init(g,b,c)}(),p=new C,null!=a&&(m=a),l=[{type:r.RNM,index:n}],j(0,s,p),l=null,p.state){case r.ACTIVE:throw new Error("parser.js: parse(): final state should never be 'ACTIVE'");case r.NOMATCH:A=!1;break;case r.EMPTY:case r.MATCH:A=p.phraseLength===o}return{success:A,state:p.state,length:o,matched:p.phraseLength,maxMatched:y,maxTreeDepth:u,nodeHits:h,inputLength:c.length,subBegin:s,subEnd:i,subLength:o}},v=function(e,t,n){for(var s=l[e],o=0;o<s.children.length&&(j(s.children[o],t,n),n.state===r.NOMATCH);o+=1);},B=function(e,t,n,s){if(t.phraseLength>n){var o="parser.js: opRNM("+e.name+"): callback function error: ";throw o+="sysData.phraseLength: "+t.phraseLength,o+=" must be <= remaining chars: "+n,new Error(o)}switch(t.state){case r.ACTIVE:if(!0!==s)throw new Error("parser.js: opRNM("+e.name+"): callback function return error. ACTIVE state not allowed.");break;case r.EMPTY:t.phraseLength=0;break;case r.MATCH:0===t.phraseLength&&(t.state=r.EMPTY);break;case r.NOMATCH:t.phraseLength=0;break;default:throw new Error("parser.js: opRNM("+e.name+"): callback function return error. Unrecognized return state: "+t.state)}},R=function(e,n,s){var o,a,p,u,h,f,b,y,A;o=l[e],a=g[o.index],p=d[o.index];var T=!M();if(T&&((h=t.ast&&t.ast.ruleDefined(o.index))&&(u=t.ast.getLength(),t.ast.down(o.index,g[o.index].name)),b=s.uFrame.length(),y=s.pFrame.length(),s.uFrame.push(),s.pFrame.push(),A=s.pFrame,s.pFrame=new S),null===p)f=l,l=a.opcodes,j(0,n,s),l=f;else{var E=i-n;p(s,c,n,m),B(a,s,E,!0),s.state===r.ACTIVE&&(f=l,l=a.opcodes,j(0,n,s),l=f,p(s,c,n,m),B(a,s,E,!1))}T&&(h&&(s.state===r.NOMATCH?t.ast.setLength(u):t.ast.up(o.index,g[o.index].name,n,s.phraseLength)),s.pFrame=A,s.state===r.NOMATCH?(s.uFrame.pop(b),s.pFrame.pop(y)):g[o.index].isBkr&&(s.pFrame.savePhrase(g[o.index].lower,n,s.phraseLength),s.uFrame.savePhrase(g[o.index].lower,n,s.phraseLength)))},N=function(e,n,s){var o,a,p,u,h,d,y,A;p=l[e];var T=!M();T&&((h=t.ast&&t.ast.udtDefined(p.index))&&(a=g.length+p.index,o=t.ast.getLength(),t.ast.down(a,b[p.index].name)),d=s.uFrame.length(),y=s.pFrame.length(),s.uFrame.push(),s.pFrame.push(),A=s.pFrame,s.pFrame=new S);var E=i-n;f[p.index](s,c,n,m),function(e,t,n){if(t.phraseLength>n){var s="parser.js: opUDT("+e.name+"): callback function error: ";throw s+="sysData.phraseLength: "+t.phraseLength,s+=" must be <= remaining chars: "+n,new Error(s)}switch(t.state){case r.ACTIVE:throw new Error("parser.js: opUDT("+e.name+"): callback function return error. ACTIVE state not allowed.");case r.EMPTY:if(!1===e.empty)throw new Error("parser.js: opUDT("+e.name+"): callback function return error. May not return EMPTY.");t.phraseLength=0;break;case r.MATCH:if(0===t.phraseLength){if(!1===e.empty)throw new Error("parser.js: opUDT("+e.name+"): callback function return error. May not return EMPTY.");t.state=r.EMPTY}break;case r.NOMATCH:t.phraseLength=0;break;default:throw new Error("parser.js: opUDT("+e.name+"): callback function return error. Unrecognized return state: "+t.state)}}(b[p.index],s,E),T&&(h&&(s.state===r.NOMATCH?t.ast.setLength(o):t.ast.up(a,b[p.index].name,n,s.phraseLength)),s.pFrame=A,s.state===r.NOMATCH?(s.uFrame.pop(d),s.pFrame.pop(y)):b[p.index].isBkr&&(s.pFrame.savePhrase(u[p.index].lower,n,s.phraseLength),s.uFrame.savePhrase(u[p.index].lower,n,s.phraseLength)))},P=function(e,t,n){a.push({lookAround:r.LOOKAROUND_AHEAD,anchor:t,charsEnd:i,charsLength:o}),i=c.length,o=c.length-s,j(e+1,t,n);var l=a.pop();switch(i=l.charsEnd,o=l.charsLength,n.phraseLength=0,n.state){case r.EMPTY:case r.MATCH:n.state=r.EMPTY;break;case r.NOMATCH:n.state=r.NOMATCH;break;default:throw new Error("opAND: invalid state "+n.state)}},_=function(e,t,n){a.push({lookAround:r.LOOKAROUND_AHEAD,anchor:t,charsEnd:i,charsLength:o}),i=c.length,o=c.length-s,j(e+1,t,n);var l=a.pop();switch(i=l.charsEnd,o=l.charsLength,n.phraseLength=0,n.state){case r.EMPTY:case r.MATCH:n.state=r.NOMATCH;break;case r.NOMATCH:n.state=r.EMPTY;break;default:throw new Error("opNOT: invalid state "+n.state)}},D=function(e,t,n){n.state=r.NOMATCH,n.phraseLength=0,n.state=0===t?r.EMPTY:r.NOMATCH},I=function(e,t,n){n.state=r.NOMATCH,n.phraseLength=0,n.state=t===c.length?r.EMPTY:r.NOMATCH},H=function(e,t,n){switch(l[e],a.push({lookAround:r.LOOKAROUND_BEHIND,anchor:t}),j(e+1,t,n),a.pop(),n.phraseLength=0,n.state){case r.EMPTY:case r.MATCH:n.state=r.EMPTY;break;case r.NOMATCH:n.state=r.NOMATCH;break;default:throw new Error("opBKA: invalid state "+n.state)}},U=function(e,t,n){switch(l[e],a.push({lookAround:r.LOOKAROUND_BEHIND,anchor:t}),j(e+1,t,n),a.pop(),n.phraseLength=0,n.state){case r.EMPTY:case r.MATCH:n.state=r.NOMATCH;break;case r.NOMATCH:n.state=r.EMPTY;break;default:throw new Error("opBKN: invalid state "+n.state)}},j=function(e,n,s){var o,d=!0;if(o=l[e],(h+=1)>T)throw new Error("parser: maximum number of node hits exceeded: "+T);if((p+=1)>u&&(u=p)>A)throw new Error("parser: maximum parse tree depth exceeded: "+A);if(s.refresh(),null!==t.trace){var f=k();t.trace.down(o,s.state,n,s.phraseLength,f.anchor,f.lookAround)}if(a[a.length-1].lookAround===r.LOOKAROUND_BEHIND)switch(o.type){case r.ALT:v(e,n,s);break;case r.CAT:!function(e,n,s){var o,i,a,c,p,u,h;o=l[e],u=s.uFrame.length(),h=s.pFrame.length(),t.ast&&(a=t.ast.getLength()),i=!0,c=n,p=0;for(var d=o.children.length-1;d>=0;d-=1)if(j(o.children[d],c,s),c-=s.phraseLength,p+=s.phraseLength,s.phraseLength,s.state===r.NOMATCH){i=!1;break}i?(s.state=0===p?r.EMPTY:r.MATCH,s.phraseLength=p):(s.state=r.NOMATCH,s.phraseLength=0,s.uFrame.pop(u),s.pFrame.pop(h),t.ast&&t.ast.setLength(a))}(e,n,s);break;case r.REP:!function(e,n,s){var o,i,a,c,p,u,h;for(o=l[e],a=n,c=0,p=0,u=s.uFrame.length(),h=s.pFrame.length(),t.ast&&(i=t.ast.getLength());!(a<=0)&&(j(e+1,a,s),s.state!==r.NOMATCH)&&s.state!==r.EMPTY&&(p+=1,c+=s.phraseLength,a-=s.phraseLength,p!==o.max););s.state===r.EMPTY||p>=o.min?(s.state=0===c?r.EMPTY:r.MATCH,s.phraseLength=c):(s.state=r.NOMATCH,s.phraseLength=0,s.uFrame.pop(u),s.pFrame.pop(h),t.ast&&t.ast.setLength(i))}(e,n,s);break;case r.RNM:R(e,n,s);break;case r.UDT:N(e,n,s);break;case r.AND:P(e,n,s);break;case r.NOT:_(e,n,s);break;case r.TRG:!function(e,t,n){var s=l[e];if(n.state=r.NOMATCH,n.phraseLength=0,t>0){var o=c[t-1];s.min<=o&&o<=s.max&&(n.state=r.MATCH,n.phraseLength=1)}}(e,n,s);break;case r.TBS:!function(e,t,n){var s,o,i,a;if(o=l[e],n.state=r.NOMATCH,(a=t-(i=o.string.length))>=0){for(s=0;s<i;s+=1)if(c[a+s]!==o.string[s])return;n.state=r.MATCH,n.phraseLength=i}}(e,n,s);break;case r.TLS:!function(e,t,n){var s,o,i,a;if(s=l[e],n.state=r.NOMATCH,0!==(a=s.string.length)){if((i=t-a)>=0){for(var p=0;p<a;p+=1)if((o=c[i+p])>=65&&o<=90&&(o+=32),o!==s.string[p])return;n.state=r.MATCH,n.phraseLength=a}}else n.state=r.EMPTY}(e,n,s);break;case r.BKR:!function(e,t,n){var s,o,i,a,p,u,h,d,f,m;if(a=l[e],n.state=r.NOMATCH,n.phraseLength=0,h=a.index<g.length?g[a.index].lower:b[a.index-g.length].lower,f=a.bkrMode===r.BKR_MODE_PM?n.pFrame.getPhrase(h):n.uFrame.getPhrase(h),m=a.bkrCase===r.BKR_MODE_CI,null!==f){if(p=f.phraseIndex,0===(i=f.phraseLength))return n.state=r.EMPTY,void(n.phraseLength=0);if((d=t-i)>=0){if(m){for(s=0;s<i;s+=1)if((o=c[d+s])>=65&&o<=90&&(o+=32),(u=c[p+s])>=65&&u<=90&&(u+=32),o!==u)return;n.state=r.MATCH,n.phraseLength=i}else for(s=0;s<i;s+=1)if((o=c[d+s])!==(u=c[p+s]))return;n.state=r.MATCH,n.phraseLength=i}}}(e,n,s);break;case r.BKA:H(e,n,s);break;case r.BKN:U(e,n,s);break;case r.ABG:D(0,n,s);break;case r.AEN:I(0,n,s);break;default:d=!1}else switch(o.type){case r.ALT:v(e,n,s);break;case r.CAT:!function(e,n,s){var o,i,a,c,p;o=l[e];var u=s.uFrame.length(),h=s.pFrame.length();t.ast&&(a=t.ast.getLength()),i=!0,c=n,p=0;for(var d=0;d<o.children.length;d+=1){if(j(o.children[d],c,s),s.state===r.NOMATCH){i=!1;break}c+=s.phraseLength,p+=s.phraseLength}i?(s.state=0===p?r.EMPTY:r.MATCH,s.phraseLength=p):(s.state=r.NOMATCH,s.phraseLength=0,s.uFrame.pop(u),s.pFrame.pop(h),t.ast&&t.ast.setLength(a))}(e,n,s);break;case r.REP:!function(e,n,s){var o,a,c,p,u;o=l[e],c=n,p=0,u=0;var h=s.uFrame.length(),d=s.pFrame.length();for(t.ast&&(a=t.ast.getLength());!(c>=i)&&(j(e+1,c,s),s.state!==r.NOMATCH)&&s.state!==r.EMPTY&&(u+=1,p+=s.phraseLength,c+=s.phraseLength,u!==o.max););s.state===r.EMPTY||u>=o.min?(s.state=0===p?r.EMPTY:r.MATCH,s.phraseLength=p):(s.state=r.NOMATCH,s.phraseLength=0,s.uFrame.pop(h),s.pFrame.pop(d),t.ast&&t.ast.setLength(a))}(e,n,s);break;case r.RNM:R(e,n,s);break;case r.UDT:N(e,n,s);break;case r.AND:P(e,n,s);break;case r.NOT:_(e,n,s);break;case r.TRG:!function(e,t,n){var s=l[e];n.state=r.NOMATCH,t<i&&s.min<=c[t]&&c[t]<=s.max&&(n.state=r.MATCH,n.phraseLength=1)}(e,n,s);break;case r.TBS:!function(e,t,n){var s,o,a;if(a=(o=l[e]).string.length,n.state=r.NOMATCH,t+a<=i){for(s=0;s<a;s+=1)if(c[t+s]!==o.string[s])return;n.state=r.MATCH,n.phraseLength=a}}(e,n,s);break;case r.TLS:!function(e,t,n){var s,o,a,p;if(p=l[e],n.state=r.NOMATCH,0!==(a=p.string.length)){if(t+a<=i){for(s=0;s<a;s+=1)if((o=c[t+s])>=65&&o<=90&&(o+=32),o!==p.string[s])return;n.state=r.MATCH,n.phraseLength=a}}else n.state=r.EMPTY}(e,n,s);break;case r.BKR:!function(e,t,n){var s,o,a,p,u,h,d,f,m;if(p=l[e],n.state=r.NOMATCH,d=p.index<g.length?g[p.index].lower:b[p.index-g.length].lower,f=p.bkrMode===r.BKR_MODE_PM?n.pFrame.getPhrase(d):n.uFrame.getPhrase(d),m=p.bkrCase===r.BKR_MODE_CI,null!==f)if(u=f.phraseIndex,0!==(a=f.phraseLength)){if(t+a<=i){if(m){for(s=0;s<a;s+=1)if((o=c[t+s])>=65&&o<=90&&(o+=32),(h=c[u+s])>=65&&h<=90&&(h+=32),o!==h)return;n.state=r.MATCH,n.phraseLength=a}else for(s=0;s<a;s+=1)if((o=c[t+s])!==(h=c[u+s]))return;n.state=r.MATCH,n.phraseLength=a}}else n.state=r.EMPTY}(e,n,s);break;case r.BKA:H(e,n,s);break;case r.BKN:U(e,n,s);break;case r.ABG:D(0,n,s);break;case r.AEN:I(0,n,s);break;default:d=!1}if(!M()&&n+s.phraseLength>y&&(y=n+s.phraseLength),null!==t.stats&&t.stats.collect(o,s),null!==t.trace){f=k();t.trace.up(o,s.state,n,s.phraseLength,f.anchor,f.lookAround)}return p-=1,d}}},{"./identifiers.js":59,"./utilities.js":64}],61:[function(e,t,r){t.exports=function(){"use strict";var t,r=e("./identifiers.js"),n=e("./utilities"),s=e("./style.js"),o=[],i=[],a=[],l=[],c=[];this.statsObject="statsObject";var p=function(e,t){return e.lower<t.lower?-1:e.lower>t.lower?1:0},u=function(e,t){return e.total<t.total?1:e.total>t.total?-1:p(e,t)},h=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0},d=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},f=function(e,t,n){switch(e.total+=1,t){case r.EMPTY:e.empty+=1;break;case r.MATCH:e.match+=1;break;case r.NOMATCH:e.nomatch+=1;break;default:throw"stats.js: collect(): incStat(): unrecognized state: "+t}},g=function(e,t){var r="";return r+="<tr>",r+='<td class="'+s.CLASS_ACTIVE+'">'+e+"</td>",r+='<td class="'+s.CLASS_EMPTY+'">'+t.empty+"</td>",r+='<td class="'+s.CLASS_MATCH+'">'+t.match+"</td>",r+='<td class="'+s.CLASS_NOMATCH+'">'+t.nomatch+"</td>",r+='<td class="'+s.CLASS_ACTIVE+'">'+t.total+"</td>",r+="</tr>\n"},b=function(){var e="";return e+=g("ALT",a[r.ALT]),e+=g("CAT",a[r.CAT]),e+=g("REP",a[r.REP]),e+=g("RNM",a[r.RNM]),e+=g("TRG",a[r.TRG]),e+=g("TBS",a[r.TBS]),e+=g("TLS",a[r.TLS]),e+=g("UDT",a[r.UDT]),e+=g("AND",a[r.AND]),e+=g("NOT",a[r.NOT]),e+=g("BKR",a[r.BKR]),e+=g("BKA",a[r.BKA]),e+=g("BKN",a[r.BKN]),e+=g("ABG",a[r.ABG]),e+=g("AEN",a[r.AEN]),e+=g("totals",t)},m=function(){var e="";e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>\n";for(var t=0;t<o.length;t+=1)l[t].total>0&&(e+="<tr>",e+='<td class="'+s.CLASS_ACTIVE+'">'+l[t].name+"</td>",e+='<td class="'+s.CLASS_EMPTY+'">'+l[t].empty+"</td>",e+='<td class="'+s.CLASS_MATCH+'">'+l[t].match+"</td>",e+='<td class="'+s.CLASS_NOMATCH+'">'+l[t].nomatch+"</td>",e+='<td class="'+s.CLASS_ACTIVE+'">'+l[t].total+"</td>",e+="</tr>\n");if(i.length>0){e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>\n";for(t=0;t<i.length;t+=1)c[t].total>0&&(e+="<tr>",e+='<td class="'+s.CLASS_ACTIVE+'">'+c[t].name+"</td>",e+='<td class="'+s.CLASS_EMPTY+'">'+c[t].empty+"</td>",e+='<td class="'+s.CLASS_MATCH+'">'+c[t].match+"</td>",e+='<td class="'+s.CLASS_NOMATCH+'">'+c[t].nomatch+"</td>",e+='<td class="'+s.CLASS_ACTIVE+'">'+c[t].total+"</td>",e+="</tr>\n")}return e};this.validate=function(e){var t=!1;return"string"==typeof e&&"stats"===e&&(t=!0),t},this.init=function(e,n){o=e,i=n,function(){a.length=0,t=new d,a[r.ALT]=new d,a[r.CAT]=new d,a[r.REP]=new d,a[r.RNM]=new d,a[r.TRG]=new d,a[r.TBS]=new d,a[r.TLS]=new d,a[r.UDT]=new d,a[r.AND]=new d,a[r.NOT]=new d,a[r.BKR]=new d,a[r.BKA]=new d,a[r.BKN]=new d,a[r.ABG]=new d,a[r.AEN]=new d,l.length=0;for(var e=0;e<o.length;e+=1)l.push({empty:0,match:0,nomatch:0,total:0,name:o[e].name,lower:o[e].lower,index:o[e].index});if(i.length>0)for(c.length=0,e=0;e<i.length;e+=1)c.push({empty:0,match:0,nomatch:0,total:0,name:i[e].name,lower:i[e].lower,index:i[e].index})}()},this.collect=function(e,n){f(t,n.state,n.phraseLength),f(a[e.type],n.state,n.phraseLength),e.type===r.RNM&&f(l[e.index],n.state,n.phraseLength),e.type===r.UDT&&f(c[e.index],n.state,n.phraseLength)},this.toHtml=function(e,t){var r="";for(r+='<table class="'+s.CLASS_STATS+'">\n',"string"==typeof t&&(r+="<caption>"+t+"</caption>\n"),r+='<tr><th class="'+s.CLASS_ACTIVE+'">ops</th>\n',r+='<th class="'+s.CLASS_EMPTY+'">EMPTY</th>\n',r+='<th class="'+s.CLASS_MATCH+'">MATCH</th>\n',r+='<th class="'+s.CLASS_NOMATCH+'">NOMATCH</th>\n',r+='<th class="'+s.CLASS_ACTIVE+'">totals</th></tr>\n';;){if(void 0===e){r+=b();break}if(null===e){r+=b();break}if("ops"===e){r+=b();break}if("index"===e){l.sort(h),c.length>0&&c.sort(h),r+=b(),r+=m();break}if("hits"===e){l.sort(u),c.length>0&&c.sort(h),r+=b(),r+=m();break}if("alpha"===e){l.sort(p),c.length>0&&c.sort(p),r+=b(),r+=m();break}break}return r+="</table>\n"},this.toHtmlPage=function(e,t,r){return n.htmlToPage(this.toHtml(e,t),r)}}},{"./identifiers.js":59,"./style.js":62,"./utilities":64}],62:[function(e,t,r){t.exports={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}},{}],63:[function(e,t,r){t.exports=function(){"use strict";var t=this,r=16,n=80,s=e("./utilities.js"),o=e("./style.js"),i=new(e("./circular-buffer.js")),a=e("./identifiers.js"),l=[],c=5e3,p=-1,u=0,h=0,d=[],f=null,g=null,b=null,m=[],y=[],A='<span class="'+o.CLASS_LINEEND+'">&bull;</span>',T='<span class="'+o.CLASS_LINEEND+'">&hellip;</span>',E='<span class="'+o.CLASS_EMPTY+'">&#120634;</span>';this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(e,t){p=-1,"number"==typeof e&&e>0?(c=Math.ceil(e),"number"==typeof t&&(p=Math.floor(t))<0&&(p=-1)):c=0},this.getMaxRecords=function(){return c},this.getLastRecord=function(){return p},this.init=function(e,r,n){l.length=0,d.length=0,u=0,h=0,f=n,g=e,b=r,function(){var e=function(e){m[a.ALT]=e,m[a.CAT]=e,m[a.REP]=e,m[a.TLS]=e,m[a.TBS]=e,m[a.TRG]=e,m[a.AND]=e,m[a.NOT]=e,m[a.BKR]=e,m[a.BKA]=e,m[a.BKN]=e,m[a.ABG]=e,m[a.AEN]=e},r=0;for(var n in t.filter.operators)r+=1;if(0!==r){for(var n in t.filter.operators){if("<ALL>"===(s=n.toUpperCase()))return void e(!0);if("<NONE>"===s)return void e(!1)}for(var n in e(!1),t.filter.operators){var s;if("ALT"===(s=n.toUpperCase()))m[a.ALT]=!0===t.filter.operators[n];else if("CAT"===s)m[a.CAT]=!0===t.filter.operators[n];else if("REP"===s)m[a.REP]=!0===t.filter.operators[n];else if("AND"===s)m[a.AND]=!0===t.filter.operators[n];else if("NOT"===s)m[a.NOT]=!0===t.filter.operators[n];else if("TLS"===s)m[a.TLS]=!0===t.filter.operators[n];else if("TBS"===s)m[a.TBS]=!0===t.filter.operators[n];else if("TRG"===s)m[a.TRG]=!0===t.filter.operators[n];else if("BKR"===s)m[a.BKR]=!0===t.filter.operators[n];else if("BKA"===s)m[a.BKA]=!0===t.filter.operators[n];else if("BKN"===s)m[a.BKN]=!0===t.filter.operators[n];else if("ABG"===s)m[a.ABG]=!0===t.filter.operators[n];else{if("AEN"!==s)throw new Error("trace.js: initOpratorFilter: '"+n+"' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn");m[a.AEN]=!0===t.filter.operators[n]}}}else e(!1)}(),function(){var e,r,n=function(e){m[a.RNM]=e,m[a.UDT]=e;var t=g.length+b.length;y.length=0;for(var r=0;r<t;r+=1)y.push(e)},s=[];for(r=0;r<g.length;r+=1)s.push(g[r].lower);for(r=0;r<b.length;r+=1)s.push(b[r].lower);for(var o in y.length=0,e=0,t.filter.rules)e+=1;if(0!==e){for(var o in t.filter.rules){if("<all>"===(i=o.toLowerCase()))return void n(!0);if("<none>"===i)return void n(!1)}for(var o in n(!1),m[a.RNM]=!0,m[a.UDT]=!0,t.filter.rules){var i=o.toLowerCase();if((r=s.indexOf(i))<0)throw new Error("trace.js: initRuleFilter: '"+o+"' not a valid rule or udt name");y[r]=!0===t.filter.rules[o]}}else n(!0)}(),i.init(c)};var w=function(e){return e.type===a.RNM?!(!m[e.type]||!y[e.index]):e.type===a.UDT?!(!m[e.type]||!y[g.length+e.index]):m[e.type]},x=function(e){return-1===p||e<=p};this.down=function(e,t,r,n,s,o){x(u)&&w(e)&&(d.push(u),l[i.increment()]={dirUp:!1,depth:h,thisLine:u,thatLine:void 0,opcode:e,state:t,phraseIndex:r,phraseLength:n,lookAnchor:s,lookAround:o},u+=1,h+=1)},this.up=function(e,t,r,n,s,o){if(x(u)&&w(e)){var a=u,c=d.pop(),p=i.getListIndex(c);-1!==p&&(l[p].thatLine=a),h-=1,l[i.increment()]={dirUp:!0,depth:h,thisLine:a,thatLine:c,opcode:e,state:t,phraseIndex:r,phraseLength:n,lookAnchor:s,lookAround:o},u+=1}};this.toTree=function(e){var t=function(e,t){function r(e,t){if(t)switch(e.op={id:t.type,name:s.opcodeToString(t.type)},e.opData=void 0,t.type){case a.RNM:e.opData=g[t.index].name;break;case a.UDT:e.opData=b[t.index].name;break;case a.BKR:var r,n,o;r=t.index<g.length?g[t.index].name:b[t.index-g.length].name,n=t.bkrCase===a.BKR_MODE_CI?"%i":"%s",o=t.bkrMode===a.BKR_MODE_UM?"%u":"%p",e.opData="\\\\"+n+o+r;break;case a.TLS:e.opData=[];for(var i=0;i<t.string.length;i+=1)e.opData.push(t.string[i]);break;case a.TBS:for(e.opData=[],i=0;i<t.string.length;i+=1)e.opData.push(t.string[i]);break;case a.TRG:case a.REP:e.opData=[t.min,t.max]}else e.op={id:void 0,name:void 0},e.opData=void 0}function n(e,t,r){return e===a.MATCH?{index:t,length:r}:e===a.NOMATCH||e===a.EMPTY?{index:t,length:0}:null}function o(e,t,o){var i={id:y++,branch:-1,parent:e,up:!1,down:!1,depth:o,children:[]};return t?(i.down=!0,i.state={id:t.state,name:s.stateToString(t.state)},i.phrase=null,r(i,t.opcode)):(i.state={id:void 0,name:void 0},i.phrase=n(),r(i,void 0)),i}function c(e,t){t&&(e.up=!0,e.state={id:t.state,name:s.stateToString(t.state)},e.phrase=n(t.state,t.phraseIndex,t.phraseLength),e.down||r(e,t.opcode))}var p,u,h,d,m,y=-1,A=[],T=!0;for(h=o(null,null,-1),A.push(h),u=h,i.forEach((function(e,t){if(m=l[e],T&&(T=!1,m.depth>0))for(var r=m.dirUp?m.depth+1:m.depth,n=0;n<r;n+=1)d=u,u=o(u,null,n),A.push(u),d.children.push(u);m.dirUp?(c(u=A.pop(),m),u=A[A.length-1]):(d=u,u=o(u,m,m.depth),A.push(u),d.children.push(u))}));A.length>1;)c(u=A.pop(),null);if(0===h.children.length)throw new Error("trace.toTree(): parse tree has no nodes");if(0===A.length)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");for(var E=p=h.children[0];p&&!p.down&&!p.up;)E=p,p=p.children[0];var w=0,x=0,S=-1,C=1;(p=E).leftMost=!0,p.rightMost=!0,function e(t){if(S+=1,t.branch=C,S>w&&(w=S),0===t.children.length)x+=1;else for(var r=0;r<t.children.length;r+=1)r>0&&(C+=1),t.children[r].leftMost=!1,t.children[r].rightMost=!1,t.leftMost&&(t.children[r].leftMost=0===r),t.rightMost&&(t.children[r].rightMost=r===t.children.length-1),e(t.children[r]);S-=1}(p),p.branch=0,e={string:[]};for(var k,M=0;M<f.length;M+=1)e.string[M]=f[M];for(e.rules=[],M=0;M<g.length;M+=1)e.rules[M]=g[M].name;for(e.udts=[],M=0;M<b.length;M+=1)e.udts[M]=b[M].name;return e.id={},e.id.ALT={id:a.ALT,name:"ALT"},e.id.CAT={id:a.CAT,name:"CAT"},e.id.REP={id:a.REP,name:"REP"},e.id.RNM={id:a.RNM,name:"RNM"},e.id.TLS={id:a.TLS,name:"TLS"},e.id.TBS={id:a.TBS,name:"TBS"},e.id.TRG={id:a.TRG,name:"TRG"},e.id.UDT={id:a.UDT,name:"UDT"},e.id.AND={id:a.AND,name:"AND"},e.id.NOT={id:a.NOT,name:"NOT"},e.id.BKR={id:a.BKR,name:"BKR"},e.id.BKA={id:a.BKA,name:"BKA"},e.id.BKN={id:a.BKN,name:"BKN"},e.id.ABG={id:a.ABG,name:"ABG"},e.id.AEN={id:a.AEN,name:"AEN"},e.id.ACTIVE={id:a.ACTIVE,name:"ACTIVE"},e.id.MATCH={id:a.MATCH,name:"MATCH"},e.id.EMPTY={id:a.EMPTY,name:"EMPTY"},e.id.NOMATCH={id:a.NOMATCH,name:"NOMATCH"},e.treeDepth=w,e.leafNodes=x,k=p.down?p.up?"none":"right":p.up?"left":"both",e.branchesIncomplete=k,e.tree=function e(t,r,n){var s,o={};if(o.id=t.id,o.branch=t.branch,o.leftMost=t.leftMost,o.rightMost=t.rightMost,s=t.state.name?t.state.name:"ACTIVE",o.state={id:t.state.id,name:s},s=t.op.name?t.op.name:"?",o.op={id:t.op.id,name:s},"string"==typeof t.opData)o.opData=t.opData;else if(Array.isArray(t.opData)){o.opData=[];for(var i=0;i<t.opData.length;i+=1)o.opData[i]=t.opData[i]}else o.opData=void 0;for(t.phrase?o.phrase={index:t.phrase.index,length:t.phrase.length}:o.phrase=null,o.depth=t.depth,o.children=[],i=0;i<t.children.length;i+=1){var a=i!==t.children.length-1;o.children[i]=e(t.children[i],r,a)}return o}(p,p.depth),e}();return e?JSON.stringify(t):t},this.toHtml=function(e,t){var n=8;if("string"==typeof e&&e.length>=3){var s=e.toLowerCase().slice(0,3);"hex"===s?n=r:"dec"===s?n=10:"uni"===s&&(n=32)}var o="";return o+=S(n,t),o+=k(n),o+=C()},this.toHtmlPage=function(e,t,r){return s.htmlToPage(this.toHtml(e,t),r)};var S=function(e,t){var n;switch(e){case r:n="hexidecimal";break;case 10:n="decimal";break;case 8:n="ASCII";break;case 32:n="UNICODE";break;default:throw new Error("trace.js: htmlHeader: unrecognized mode: "+e)}var s="";return s+="<p>display mode: "+n+"</p>\n",s+='<table class="'+o.CLASS_TRACE+'">\n',"string"==typeof t&&(s+="<caption>"+t+"</caption>"),s},C=function(){var e="";return e+="</table>\n",e+='<p class="'+o.CLASS_MONOSPACE+'">legend:<br>\n',e+="(a)&nbsp;-&nbsp;line number<br>\n",e+="(b)&nbsp;-&nbsp;matching line number<br>\n",e+="(c)&nbsp;-&nbsp;phrase offset<br>\n",e+="(d)&nbsp;-&nbsp;phrase length<br>\n",e+="(e)&nbsp;-&nbsp;tree depth<br>\n",e+="(f)&nbsp;-&nbsp;operator state<br>\n",e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_ACTIVE+'">&darr;</span>&nbsp;&nbsp;phrase opened<br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_MATCH+'">&uarr;M</span> phrase matched<br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_EMPTY+'">&uarr;E</span> empty phrase matched<br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_NOMATCH+'">&uarr;N</span> phrase not matched<br>\n',e+="operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>\n",e+="phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to 80 characters of the phrase being matched<br>\n",e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_MATCH+'">matched characters</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_LOOKAHEAD+'">matched characters in look ahead mode</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_LOOKBEHIND+'">matched characters in look behind mode</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_REMAINDER+'">remainder characters(not yet examined by parser)</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+o.CLASS_CTRLCHAR+'">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>\n',e+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;"+E+" empty string<br>\n",e+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;"+A+" end of input string<br>\n",e+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;"+T+" input string display truncated<br>\n",e+="</p>\n",e+='<p class="'+o.CLASS_MONOSPACE+'">\n',e+="<sup>&dagger;</sup>original ABNF operators:<br>\n",e+="ALT - alternation<br>\n",e+="CAT - concatenation<br>\n",e+="REP - repetition<br>\n",e+="RNM - rule name<br>\n",e+="TRG - terminal range<br>\n",e+="TLS - terminal literal string (case insensitive)<br>\n",e+="TBS - terminal binary string (case sensitive)<br>\n",e+="<br>\n",e+="<sup>&Dagger;</sup>super set SABNF operators:<br>\n",e+="UDT - user-defined terminal<br>\n",e+="AND - positive look ahead<br>\n",e+="NOT - negative look ahead<br>\n",e+="BKA - positive look behind<br>\n",e+="BKN - negative look behind<br>\n",e+="BKR - back reference<br>\n",e+="ABG - anchor - begin of input string<br>\n",e+="AEN - anchor - end of input string<br>\n",e+="</p>\n"},k=function(e){if(null===g)return"";var r,n,c,p,u,h,d="";return d+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",d+="<th>operator</th><th>phrase</th></tr>\n",i.forEach((function(i,m){var y=l[i];switch(r=y.thisLine,n=void 0!==y.thatLine?y.thatLine:"--",c=!1,p=!1,u=!1,y.lookAround===a.LOOKAROUND_AHEAD&&(c=!0,u=!0,h=y.lookAnchor),y.opcode.type!==a.AND&&y.opcode.type!==a.NOT||(c=!0,u=!0,h=y.phraseIndex),y.lookAround===a.LOOKAROUND_BEHIND&&(p=!0,u=!0,h=y.lookAnchor),y.opcode.type!==a.BKA&&y.opcode.type!==a.BKN||(p=!0,u=!0,h=y.phraseIndex),d+="<tr>",d+="<td>"+r+"</td><td>"+n+"</td>",d+="<td>"+y.phraseIndex+"</td>",d+="<td>"+y.phraseLength+"</td>",d+="<td>"+y.depth+"</td>",d+="<td>",y.state){case a.ACTIVE:d+='<span class="'+o.CLASS_ACTIVE+'">&darr;&nbsp;</span>';break;case a.MATCH:d+='<span class="'+o.CLASS_MATCH+'">&uarr;M</span>';break;case a.NOMATCH:d+='<span class="'+o.CLASS_NOMATCH+'">&uarr;N</span>';break;case a.EMPTY:d+='<span class="'+o.CLASS_EMPTY+'">&uarr;E</span>';break;default:d+='<span class="'+o.CLASS_ACTIVE+'">--</span>'}if(d+="</td>",d+="<td>",d+=t.indent(y.depth),c?d+='<span class="'+o.CLASS_LOOKAHEAD+'">':p&&(d+='<span class="'+o.CLASS_LOOKBEHIND+'">'),d+=s.opcodeToString(y.opcode.type),y.opcode.type===a.RNM&&(d+="("+g[y.opcode.index].name+") "),y.opcode.type===a.BKR){var A=y.opcode.bkrCase===a.BKR_MODE_CI?"%i":"%s",T=y.opcode.bkrMode===a.BKR_MODE_UM?"%u":"%p";d+="(\\"+A+T+g[y.opcode.index].name+") "}y.opcode.type===a.UDT&&(d+="("+b[y.opcode.index].name+") "),y.opcode.type===a.TRG&&(d+="("+M(e,y.opcode)+") "),y.opcode.type===a.TBS&&(d+="("+L(e,y.opcode)+") "),y.opcode.type===a.TLS&&(d+="("+v(e,y.opcode)+") "),y.opcode.type===a.REP&&(d+="("+O(e,y.opcode)+") "),u&&(d+="</span>"),d+="</td>",d+="<td>",d+=p?B(e,f,y.state,y.phraseIndex,y.phraseLength,h):c?R(e,f,y.state,y.phraseIndex,y.phraseLength):N(e,f,y.state,y.phraseIndex,y.phraseLength),d+="</td></tr>\n"})),d+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",d+="<th>operator</th><th>phrase</th></tr>\n",d+="</table>\n"};this.indent=function(e){for(var t="",r=0;r<e;r+=1)t+=".";return t};var M=function(e,t){var n="";if(t.type===a.TRG)if(e===r||32===e){var s=t.min.toString(16).toUpperCase();s.length%2!=0&&(s="0"+s),n+=e===r?"%x":"U+",n+=s,(s=t.max.toString(16).toUpperCase()).length%2!=0&&(s="0"+s),n+="&ndash;"+s}else n="%d"+t.min.toString(10)+"&ndash;"+t.max.toString(10);return n},O=function(e,t){var n="";if(t.type===a.REP)if(e===r){var s=t.min.toString(16).toUpperCase();s.length%2!=0&&(s="0"+s),n="x"+s,t.max<1/0?(s=t.max.toString(16).toUpperCase()).length%2!=0&&(s="0"+s):s="inf",n+="&ndash;"+s}else n=t.max<1/0?t.min.toString(10)+"&ndash;"+t.max.toString(10):t.min.toString(10)+"&ndash;inf";return n},L=function(e,t){var n="";if(t.type===a.TBS){var s=Math.min(t.string.length,10);if(e===r||32===e){n+=e===r?"%x":"U+";for(var o=0;o<s;o+=1){var i;o>0&&(n+="."),(i=t.string[o].toString(16).toUpperCase()).length%2!=0&&(i="0"+i),n+=i}}else{n="%d";for(o=0;o<s;o+=1)o>0&&(n+="."),n+=t.string[o].toString(10)}s<t.string.length&&(n+=T)}return n},v=function(e,t){var n="";if(t.type===a.TLS){var o=Math.min(t.string.length,5);if(e===r||10===e){var i,l,c;e===r?(n="%x",c=16):(n="%d",c=10);for(var p=0;p<o;p+=1)p>0&&(n+="."),(l=t.string[p])>=97&&l<=122?n+=((i=l-32).toString(c)+"/"+l.toString(c)).toUpperCase():l>=65&&l<=90?(i=l,l+=32,n+=(i.toString(c)+"/"+l.toString(c)).toUpperCase()):n+=l.toString(c).toUpperCase();o<t.string.length&&(n+=T)}else{n='"';for(p=0;p<o;p+=1)n+=s.asciiChars[t.string[p]];o<t.string.length&&(n+=T),n+='"'}}return n},B=function(e,t,r,s,i,l){var c,p,u,h,d="",f=A,g='<span class="'+o.CLASS_LOOKBEHIND+'">',b='<span class="'+o.CLASS_REMAINDER+'">',m="</span>",y=!1;switch(r){case a.EMPTY:d+=E;case a.NOMATCH:case a.MATCH:case a.ACTIVE:p=l-(c=s-i),u=l,h=t.length-u}return f=A,p>n?(p=n,f=T,h=0):p+h>n&&(f=T,h=n-p),p>0&&(d+=g,d+=_(e,t,c,p,y),d+=m,y=!0),h>0&&(d+=b,d+=_(e,t,u,h,y),d+=m),d+f},R=function(e,t,r,n,s){var i='<span class="'+o.CLASS_LOOKAHEAD+'">';return P(e,t,r,n,s,i)},N=function(e,t,r,n,s){var i='<span class="'+o.CLASS_MATCH+'">';return P(e,t,r,n,s,i)},P=function(e,t,r,s,i,l){var c,p,u,h,d="",f=A,g='<span class="'+o.CLASS_REMAINDER+'">',b="</span>",m=!1;switch(r){case a.EMPTY:d+=E;case a.NOMATCH:case a.ACTIVE:c=s,p=0,u=s,h=t.length-u;break;case a.MATCH:c=s,u=s+(p=i),h=t.length-u}return f=A,p>n?(p=n,f=T,h=0):p+h>n&&(f=T,h=n-p),p>0&&(d+=l,d+=_(e,t,c,p,m),d+=b,m=!0),h>0&&(d+=g,d+=_(e,t,u,h,m),d+=b),d+f},_=function(e,t,n,o,i){if(0===o)return"";var a="",l=i?",":"";switch(e){case r:a=l+s.charsToHex(t,n,o);break;case 10:if(i)return","+s.charsToDec(t,n,o);a=l+s.charsToDec(t,n,o);break;case 32:a=s.charsToUnicode(t,n,o);break;case 8:default:a=s.charsToAsciiHtml(t,n,o)}return a}}},{"./circular-buffer.js":56,"./identifiers.js":59,"./style.js":62,"./utilities.js":64}],64:[function(e,t,r){"use strict";var n="utilities.js: ",s=e("./style.js"),o=e("apg-conv-api").converter,i=this,a=function(e,t,r){for(var n;;){if(e<=0){t=0,n=0;break}if("number"!=typeof t){t=0,n=e;break}if(t>=e){t=e,n=e;break}if("number"!=typeof r){n=e;break}if((n=t+r)>e){n=e;break}break}return{beg:t,end:n}};r.htmlToPage=function(t,r){var n=e("./emitcss.js");if("string"!=typeof t)throw new Error("utilities.js: htmlToPage: input HTML is not a string");"string"!=typeof r&&(r="htmlToPage");var s="";return s+="<!DOCTYPE html>\n",s+='<html lang="en">\n',s+="<head>\n",s+='<meta charset="utf-8">\n',s+="<title>"+r+"</title>\n",s+="<style>\n",s+="'"+n()+"'",s+="</style>\n",s+="</head>\n<body>\n",s+="<p>"+new Date+"</p>\n",s+=t,s+="</body>\n</html>\n"},r.parserResultToHtml=function(t,r){var n,o,i=e("./identifiers.js"),a=null;"string"==typeof r&&""!==r&&(a=r),n=!0===t.success?'<span class="'+s.CLASS_MATCH+'">true</span>':'<span class="'+s.CLASS_NOMATCH+'">false</span>',o=t.state===i.EMPTY?'<span class="'+s.CLASS_EMPTY+'">EMPTY</span>':t.state===i.MATCH?'<span class="'+s.CLASS_MATCH+'">MATCH</span>':t.state===i.NOMATCH?'<span class="'+s.CLASS_NOMATCH+'">NOMATCH</span>':'<span class="'+s.CLASS_NOMATCH+'">unrecognized</span>';var l="";return l+='<table class="'+s.CLASS_STATE+'">\n',a&&(l+="<caption>"+a+"</caption>\n"),l+="<tr><th>state item</th><th>value</th><th>description</th></tr>\n",l+="<tr><td>parser success</td><td>"+n+"</td>\n",l+='<td><span class="'+s.CLASS_MATCH+'">true</span> if the parse succeeded,\n',l+=' <span class="'+s.CLASS_NOMATCH+'">false</span> otherwise',l+="<br><i>NOTE: for success, entire string must be matched</i></td></tr>\n",l+="<tr><td>parser state</td><td>"+o+"</td>\n",l+='<td><span class="'+s.CLASS_EMPTY+'">EMPTY</span>, ',l+='<span class="'+s.CLASS_MATCH+'">MATCH</span> or \n',l+='<span class="'+s.CLASS_NOMATCH+'">NOMATCH</span></td></tr>\n',l+="<tr><td>string length</td><td>"+t.length+"</td><td>length of the input (sub)string</td></tr>\n",l+="<tr><td>matched length</td><td>"+t.matched+"</td><td>number of input string characters matched</td></tr>\n",l+="<tr><td>max matched</td><td>"+t.maxMatched+"</td><td>maximum number of input string characters matched</td></tr>\n",l+="<tr><td>max tree depth</td><td>"+t.maxTreeDepth+"</td><td>maximum depth of the parse tree reached</td></tr>\n",l+="<tr><td>node hits</td><td>"+t.nodeHits+"</td><td>number of parse tree node hits (opcode function calls)</td></tr>\n",l+="<tr><td>input length</td><td>"+t.inputLength+"</td><td>length of full input string</td></tr>\n",l+="<tr><td>sub-string begin</td><td>"+t.subBegin+"</td><td>sub-string first character index</td></tr>\n",l+="<tr><td>sub-string end</td><td>"+t.subEnd+"</td><td>sub-string end-of-string index</td></tr>\n",l+="<tr><td>sub-string length</td><td>"+t.subLength+"</td><td>sub-string length</td></tr>\n",l+="</table>\n"},r.charsToString=function(e,t,r){var n,s;if("number"==typeof t){if(t>=e.length)return"";n=t<0?0:t}else n=0;if("number"==typeof r){if(r<=0)return"";s=r>e.length-n?e.length:n+r}else s=e.length;return n<s?o.encode("UTF16LE",e.slice(n,s)).toString("utf16le"):""},r.stringToChars=function(e){return o.decode("STRING",e)},r.opcodeToString=function(t){var r=e("./identifiers.js"),n="unknown";switch(t){case r.ALT:n="ALT";break;case r.CAT:n="CAT";break;case r.RNM:n="RNM";break;case r.UDT:n="UDT";break;case r.AND:n="AND";break;case r.NOT:n="NOT";break;case r.REP:n="REP";break;case r.TRG:n="TRG";break;case r.TBS:n="TBS";break;case r.TLS:n="TLS";break;case r.BKR:n="BKR";break;case r.BKA:n="BKA";break;case r.BKN:n="BKN";break;case r.ABG:n="ABG";break;case r.AEN:n="AEN"}return n},r.stateToString=function(t){var r=e("./identifiers.js"),n="unknown";switch(t){case r.ACTIVE:n="ACTIVE";break;case r.MATCH:n="MATCH";break;case r.EMPTY:n="EMPTY";break;case r.NOMATCH:n="NOMATCH"}return n},r.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],r.charToHex=function(e){var t=e.toString(16).toUpperCase();switch(t.length){case 1:case 3:case 7:t="0"+t;break;case 6:t="00"+t;break;case 5:t="000"+t}return t},r.charsToDec=function(e,t,r){var s="";if(!Array.isArray(e))throw new Error(n+"charsToDec: input must be an array of integers");var o=a(e.length,t,r);if(o.end>o.beg){s+=e[o.beg];for(var i=o.beg+1;i<o.end;i+=1)s+=","+e[i]}return s},r.charsToHex=function(e,t,r){var s="";if(!Array.isArray(e))throw new Error(n+"charsToHex: input must be an array of integers");var o=a(e.length,t,r);if(o.end>o.beg){s+="\\x"+i.charToHex(e[o.beg]);for(var l=o.beg+1;l<o.end;l+=1)s+=",\\x"+i.charToHex(e[l])}return s},r.charsToHtmlEntities=function(e,t,r){var s="";if(!Array.isArray(e))throw new Error(n+"charsToHex: input must be an array of integers");var o=a(e.length,t,r);if(o.end>o.beg)for(var i=o.beg;i<o.end;i+=1)s+="&#x"+e[i].toString(16)+";";return s},r.charsToUnicode=function(e,t,r){var s="";if(!Array.isArray(e))throw new Error(n+"charsToUnicode: input must be an array of integers");var o,l=a(e.length,t,r);if(l.end>l.beg)for(var c=l.beg;c<l.end;c+=1)s+=(o=e[c])>=55296&&o<=57343||o>1114111?" U+"+i.charToHex(e[c]):"&#"+e[c]+";";return s},r.charsToJsUnicode=function(e,t,r){var s="";if(!Array.isArray(e))throw new Error(n+"charsToJsUnicode: input must be an array of integers");var o=a(e.length,t,r);if(o.end>o.beg){s+="\\u"+i.charToHex(e[o.beg]);for(var l=o.beg+1;l<o.end;l+=1)s+=",\\u"+i.charToHex(e[l])}return s},r.charsToAscii=function(e,t,r){var s="";if(!Array.isArray(e))throw new Error(n+"charsToAscii: input must be an array of integers");for(var o=a(e.length,t,r),l=o.beg;l<o.end;l+=1){var c=e[l];s+=c>=32&&c<=126?String.fromCharCode(c):"\\x"+i.charToHex(c)}return s},r.charsToAsciiHtml=function(e,t,r){if(!Array.isArray(e))throw new Error(n+"charsToAsciiHtml: input must be an array of integers");for(var o,l="",c=a(e.length,t,r),p=c.beg;p<c.end;p+=1)l+=(o=e[p])<32||127===o?'<span class="'+s.CLASS_CTRLCHAR+'">'+i.asciiChars[o]+"</span>":o>127?'<span class="'+s.CLASS_CTRLCHAR+'">U+'+i.charToHex(o)+"</span>":i.asciiChars[o];return l},r.stringToAsciiHtml=function(e){var t=o.decode("STRING",e);return this.charsToAsciiHtml(t)}},{"./emitcss.js":57,"./identifiers.js":59,"./style.js":62,"apg-conv-api":53}]},{},[38]);
