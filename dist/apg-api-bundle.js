!function e(t,r,n){function s(o,a){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[o]={exports:{}};t[o][0].call(u.exports,(function(e){return s(t[o][1][e]||e)}),u,u.exports,e,t,r,n)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,r){t.exports=function(e,t,r){if(e.filter)return e.filter(t,r);if(null==e)throw new TypeError;if("function"!=typeof t)throw new TypeError;for(var s=[],i=0;i<e.length;i++)if(n.call(e,i)){var o=e[i];t.call(r,o,i,e)&&s.push(o)}return s};var n=Object.prototype.hasOwnProperty},{}],2:[function(e,t,r){(function(r){(function(){"use strict";var n=e("array-filter");t.exports=function(){return n(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],(function(e){return"function"==typeof r[e]}))}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"array-filter":1}],3:[function(e,t,r){"use strict";r.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){var t,r,n=c(e),o=n[0],a=n[1],l=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,a)),u=0,p=a>0?o-4:o;for(r=0;r<p;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===a&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,l[u++]=255&t);1===a&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},r.fromByteArray=function(e){for(var t,r=e.length,s=r%3,i=[],o=16383,a=0,l=r-s;a<l;a+=o)i.push(u(e,a,a+o>l?l:a+o));1===s?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===s&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],s=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)n[a]=o[a],s[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var s,i,o=[],a=t;a<r;a+=3)s=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[(i=s)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},{}],4:[function(e,t,r){(function(t){(function(){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var t=e("base64-js"),n=e("ieee754");r.Buffer=o,r.SlowBuffer=function(e){+e!=e&&(e=0);return o.alloc(+e)},r.INSPECT_MAX_BYTES=50;var s=2147483647;function i(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=o.prototype,t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|h(e,t),n=i(r),s=n.write(e,t);s!==r&&(n=n.slice(0,s));return n}(e,t);if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return n.__proto__=o.prototype,n}(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);var s=function(e){if(o.isBuffer(e)){var t=0|p(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||H(e.length)?i(0):u(e);if("Buffer"===e.type&&Array.isArray(e.data))return u(e.data)}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),i(e<0?0:0|p(e))}function u(e){for(var t=e.length<0?0:0|p(e.length),r=i(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function h(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var s=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return I(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(e).length;default:if(s)return n?-1:I(e).length;t=(""+t).toLowerCase(),s=!0}}function d(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return O(this,t,r);case"base64":return w(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function f(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,s){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),H(r=+r)&&(r=s?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(s)return-1;r=e.length-1}else if(r<0){if(!s)return-1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,s);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,s);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,s){var i,o=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(s){var u=-1;for(i=r;i<a;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*o}else-1!==u&&(i-=i-u),u=-1}else for(r+l>a&&(r=a-l),i=r;i>=0;i--){for(var p=!0,h=0;h<l;h++)if(c(e,i+h)!==c(t,h)){p=!1;break}if(p)return i}return-1}function m(e,t,r,n){r=Number(r)||0;var s=e.length-r;n?(n=Number(n))>s&&(n=s):n=s;var i=t.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(H(a))return o;e[r+o]=a}return o}function b(e,t,r,n){return U(I(t,e.length-r),e,r,n)}function A(e,t,r,n){return U(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return A(e,t,r,n)}function T(e,t,r,n){return U(j(t),e,r,n)}function x(e,t,r,n){return U(function(e,t){for(var r,n,s,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,s=r%256,i.push(s),i.push(n);return i}(t,e.length-r),e,r,n)}function w(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],s=t;s<r;){var i,o,a,l,c=e[s],u=null,p=c>239?4:c>223?3:c>191?2:1;if(s+p<=r)switch(p){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[s+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[s+1],o=e[s+2],128==(192&i)&&128==(192&o)&&(l=(15&c)<<12|(63&i)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[s+1],o=e[s+2],a=e[s+3],128==(192&i)&&128==(192&o)&&128==(192&a)&&(l=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,p=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),s+=p}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=k));return r}(n)}r.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(e,t,r){return a(e,t,r)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)}(e,t,r)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(F(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),F(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,s=0,i=Math.min(r,n);s<i;++s)if(e[s]!==t[s]){r=e[s],n=t[s];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=o.allocUnsafe(t),s=0;for(r=0;r<e.length;++r){var i=e[r];if(F(i,Uint8Array)&&(i=o.from(i)),!o.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,s),s+=i.length}return n},o.byteLength=h,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):d.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o.prototype.compare=function(e,t,r,n,s){if(F(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===s&&(s=this.length),t<0||r>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=r)return 0;if(n>=s)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(s>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),l=Math.min(i,a),c=this.slice(n,s),u=e.slice(t,r),p=0;p<l;++p)if(c[p]!==u[p]){i=c[p],a=u[p];break}return i<a?-1:a<i?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var s=this.length-t;if((void 0===r||r>s)&&(r=s),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return m(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return A(this,e,t,r);case"latin1":case"binary":return E(this,e,t,r);case"base64":return T(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function C(e,t,r){var n="";r=Math.min(e.length,r);for(var s=t;s<r;++s)n+=String.fromCharCode(127&e[s]);return n}function O(e,t,r){var n="";r=Math.min(e.length,r);for(var s=t;s<r;++s)n+=String.fromCharCode(e[s]);return n}function M(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var s="",i=t;i<r;++i)s+=D(e[i]);return s}function B(e,t,r){for(var n=e.slice(t,r),s="",i=0;i<n.length;i+=2)s+=String.fromCharCode(n[i]+256*n[i+1]);return s}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function v(e,t,r,n,s,i){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n,s,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,s,i){return t=+t,r>>>=0,i||L(e,0,r,4),n.write(e,t,r,s,23,4),r+4}function P(e,t,r,s,i){return t=+t,r>>>=0,i||L(e,0,r,8),n.write(e,t,r,s,52,8),r+8}o.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=o.prototype,n},o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e],s=1,i=0;++i<t&&(s*=256);)n+=this[e+i]*s;return n},o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n},o.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e],s=1,i=0;++i<t&&(s*=256);)n+=this[e+i]*s;return n>=(s*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=t,s=1,i=this[e+--n];n>0&&(s*=256);)i+=this[e+--n]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*t)),i},o.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),n.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),n.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),n.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),n.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||v(this,e,t,r,Math.pow(2,8*r)-1,0);var s=1,i=0;for(this[t]=255&e;++i<r&&(s*=256);)this[t+i]=e/s&255;return t+r},o.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||v(this,e,t,r,Math.pow(2,8*r)-1,0);var s=r-1,i=1;for(this[t+s]=255&e;--s>=0&&(i*=256);)this[t+s]=e/i&255;return t+r},o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var s=Math.pow(2,8*r-1);v(this,e,t,r,s-1,-s)}var i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var s=Math.pow(2,8*r-1);v(this,e,t,r,s-1,-s)}var i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return P(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return P(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var s=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=s-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return s},o.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var s=e.charCodeAt(0);("utf8"===n&&s<128||"latin1"===n)&&(e=s)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=o.isBuffer(e)?e:o.from(e,n),l=a.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%l]}return this};var _=/[^+/0-9A-Za-z-_]/g;function D(e){return e<16?"0"+e.toString(16):e.toString(16)}function I(e,t){var r;t=t||1/0;for(var n=e.length,s=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!s){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}s=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),s=r;continue}r=65536+(s-55296<<10|r-56320)}else s&&(t-=3)>-1&&i.push(239,191,189);if(s=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function j(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(_,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,n){for(var s=0;s<n&&!(s+r>=t.length||s>=e.length);++s)t[s+r]=e[s];return s}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function H(e){return e!=e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":3,buffer:4,ieee754:15}],5:[function(e,t,r){"use strict";var n=e("get-intrinsic"),s=e("./"),i=s(n("String.prototype.indexOf"));t.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?s(r):r}},{"./":6,"get-intrinsic":11}],6:[function(e,t,r){"use strict";var n=e("function-bind"),s=e("get-intrinsic"),i=s("%Function.prototype.apply%"),o=s("%Function.prototype.call%"),a=s("%Reflect.apply%",!0)||n.call(o,i),l=s("%Object.getOwnPropertyDescriptor%",!0),c=s("%Object.defineProperty%",!0),u=s("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}t.exports=function(e){var t=a(n,o,arguments);if(l&&c){var r=l(t,"length");r.configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))})}return t};var p=function(){return a(n,i,arguments)};c?c(t.exports,"apply",{value:p}):t.exports.apply=p},{"function-bind":10,"get-intrinsic":11}],7:[function(e,t,r){"use strict";var n=e("get-intrinsic")("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}t.exports=n},{"get-intrinsic":11}],8:[function(e,t,r){var n=Object.prototype.hasOwnProperty,s=Object.prototype.toString;t.exports=function(e,t,r){if("[object Function]"!==s.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var o=0;o<i;o++)t.call(r,e[o],o,e);else for(var a in e)n.call(e,a)&&t.call(r,e[a],a,e)}},{}],9:[function(e,t,r){"use strict";var n="Function.prototype.bind called on incompatible ",s=Array.prototype.slice,i=Object.prototype.toString,o="[object Function]";t.exports=function(e){var t=this;if("function"!=typeof t||i.call(t)!==o)throw new TypeError(n+t);for(var r,a=s.call(arguments,1),l=function(){if(this instanceof r){var n=t.apply(this,a.concat(s.call(arguments)));return Object(n)===n?n:this}return t.apply(e,a.concat(s.call(arguments)))},c=Math.max(0,t.length-a.length),u=[],p=0;p<c;p++)u.push("$"+p);if(r=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(l),t.prototype){var h=function(){};h.prototype=t.prototype,r.prototype=new h,h.prototype=null}return r}},{}],10:[function(e,t,r){"use strict";var n=e("./implementation");t.exports=Function.prototype.bind||n},{"./implementation":9}],11:[function(e,t,r){"use strict";var n,s=SyntaxError,i=Function,o=TypeError,a=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new o},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,p=e("has-symbols")(),h=Object.getPrototypeOf||function(e){return e.__proto__},d={},f="undefined"==typeof Uint8Array?n:h(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":p?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?h(""[Symbol.iterator]()):n,"%Symbol%":p?Symbol:n,"%SyntaxError%":s,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},y=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var s=e("%AsyncGenerator%");s&&(r=h(s.prototype))}return g[t]=r,r},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=e("function-bind"),A=e("has"),E=b.call(Function.call,Array.prototype.concat),T=b.call(Function.apply,Array.prototype.splice),x=b.call(Function.call,String.prototype.replace),w=b.call(Function.call,String.prototype.slice),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,C=function(e){var t=w(e,0,1),r=w(e,-1);if("%"===t&&"%"!==r)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var n=[];return x(e,S,(function(e,t,r,s){n[n.length]=r?x(s,k,"$1"):t||e})),n},O=function(e,t){var r,n=e;if(A(m,n)&&(n="%"+(r=m[n])[0]+"%"),A(g,n)){var i=g[n];if(i===d&&(i=y(n)),void 0===i&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new s("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');var r=C(e),n=r.length>0?r[0]:"",i=O("%"+n+"%",t),a=i.name,c=i.value,u=!1,p=i.alias;p&&(n=p[0],T(r,E([0,1],p)));for(var h=1,d=!0;h<r.length;h+=1){var f=r[h],y=w(f,0,1),m=w(f,-1);if(('"'===y||"'"===y||"`"===y||'"'===m||"'"===m||"`"===m)&&y!==m)throw new s("property names with quotes must have matching quotes");if("constructor"!==f&&d||(u=!0),A(g,a="%"+(n+="."+f)+"%"))c=g[a];else if(null!=c){if(!(f in c)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=r.length){var b=l(c,f);c=(d=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:c[f]}else d=A(c,f),c=c[f];d&&!u&&(g[a]=c)}}return c}},{"function-bind":10,has:14,"has-symbols":12}],12:[function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,s=e("./shams");t.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&s())))}},{"./shams":13}],13:[function(e,t,r){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(42!==s.value||!0!==s.enumerable)return!1}return!0}},{}],14:[function(e,t,r){"use strict";var n=e("function-bind");t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":10}],15:[function(e,t,r){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
r.read=function(e,t,r,n,s){var i,o,a=8*s-n-1,l=(1<<a)-1,c=l>>1,u=-7,p=r?s-1:0,h=r?-1:1,d=e[t+p];for(p+=h,i=d&(1<<-u)-1,d>>=-u,u+=a;u>0;i=256*i+e[t+p],p+=h,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=n;u>0;o=256*o+e[t+p],p+=h,u-=8);if(0===i)i=1-c;else{if(i===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),i-=c}return(d?-1:1)*o*Math.pow(2,i-n)},r.write=function(e,t,r,n,s,i){var o,a,l,c=8*i-s-1,u=(1<<c)-1,p=u>>1,h=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+p>=1?h/l:h*Math.pow(2,1-p))*l>=2&&(o++,l/=2),o+p>=u?(a=0,o=u):o+p>=1?(a=(t*l-1)*Math.pow(2,s),o+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,s),o=0));s>=8;e[r+d]=255&a,d+=f,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;e[r+d]=255&o,d+=f,o/=256,c-=8);e[r+d-f]|=128*g}},{}],16:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},{}],17:[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,s=e("call-bind/callBound")("Object.prototype.toString"),i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===s(e)},o=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==s(e)&&"[object Function]"===s(e.callee)},a=function(){return i(arguments)}();i.isLegacyArguments=o,t.exports=a?i:o},{"call-bind/callBound":5}],18:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],19:[function(e,t,r){"use strict";var n=Object.prototype.toString,s=Function.prototype.toString,i=/^\s*(?:function)?\*/,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,a=Object.getPrototypeOf,l=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch(e){}}(),c=!(!a||!l)&&a(l);t.exports=function(e){return"function"==typeof e&&(!!i.test(s.call(e))||(o?a&&a(e)===c:"[object GeneratorFunction]"===n.call(e)))}},{}],20:[function(e,t,r){(function(r){(function(){"use strict";var n=e("foreach"),s=e("available-typed-arrays"),i=e("call-bind/callBound"),o=i("Object.prototype.toString"),a=e("has-symbols")()&&"symbol"==typeof Symbol.toStringTag,l=s(),c=i("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},u=i("String.prototype.slice"),p={},h=e("es-abstract/helpers/getOwnPropertyDescriptor"),d=Object.getPrototypeOf;a&&h&&d&&n(l,(function(e){var t=new r[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=d(t),s=h(n,Symbol.toStringTag);if(!s){var i=d(n);s=h(i,Symbol.toStringTag)}p[e]=s.get}));t.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!a){var t=u(o(e),8,-1);return c(l,t)>-1}return!!h&&function(e){var t=!1;return n(p,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":2,"call-bind/callBound":5,"es-abstract/helpers/getOwnPropertyDescriptor":7,foreach:8,"has-symbols":12}],21:[function(e,t,r){var n,s,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{s="function"==typeof clearTimeout?clearTimeout:a}catch(e){s=a}}();var c,u=[],p=!1,h=-1;function d(){p&&c&&(p=!1,c.length?u=c.concat(u):h=-1,u.length&&f())}function f(){if(!p){var e=l(d);p=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,p=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new g(e,t)),1!==u.length||p||l(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],22:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],23:[function(e,t,r){"use strict";var n=e("is-arguments"),s=e("is-generator-function"),i=e("which-typed-array"),o=e("is-typed-array");function a(e){return e.call.bind(e)}var l="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,u=a(Object.prototype.toString),p=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(l)var f=a(BigInt.prototype.valueOf);if(c)var g=a(Symbol.prototype.valueOf);function y(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function m(e){return"[object Map]"===u(e)}function b(e){return"[object Set]"===u(e)}function A(e){return"[object WeakMap]"===u(e)}function E(e){return"[object WeakSet]"===u(e)}function T(e){return"[object ArrayBuffer]"===u(e)}function x(e){return"undefined"!=typeof ArrayBuffer&&(T.working?T(e):e instanceof ArrayBuffer)}function w(e){return"[object DataView]"===u(e)}function S(e){return"undefined"!=typeof DataView&&(w.working?w(e):e instanceof DataView)}function k(e){return"[object SharedArrayBuffer]"===u(e)}function C(e){return"undefined"!=typeof SharedArrayBuffer&&(k.working?k(e):e instanceof SharedArrayBuffer)}function O(e){return y(e,p)}function M(e){return y(e,h)}function B(e){return y(e,d)}function R(e){return l&&y(e,f)}function v(e){return c&&y(e,g)}r.isArgumentsObject=n,r.isGeneratorFunction=s,r.isTypedArray=o,r.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},r.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):o(e)||S(e)},r.isUint8Array=function(e){return"Uint8Array"===i(e)},r.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===i(e)},r.isUint16Array=function(e){return"Uint16Array"===i(e)},r.isUint32Array=function(e){return"Uint32Array"===i(e)},r.isInt8Array=function(e){return"Int8Array"===i(e)},r.isInt16Array=function(e){return"Int16Array"===i(e)},r.isInt32Array=function(e){return"Int32Array"===i(e)},r.isFloat32Array=function(e){return"Float32Array"===i(e)},r.isFloat64Array=function(e){return"Float64Array"===i(e)},r.isBigInt64Array=function(e){return"BigInt64Array"===i(e)},r.isBigUint64Array=function(e){return"BigUint64Array"===i(e)},m.working="undefined"!=typeof Map&&m(new Map),r.isMap=function(e){return"undefined"!=typeof Map&&(m.working?m(e):e instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),r.isSet=function(e){return"undefined"!=typeof Set&&(b.working?b(e):e instanceof Set)},A.working="undefined"!=typeof WeakMap&&A(new WeakMap),r.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(A.working?A(e):e instanceof WeakMap)},E.working="undefined"!=typeof WeakSet&&E(new WeakSet),r.isWeakSet=function(e){return E(e)},T.working="undefined"!=typeof ArrayBuffer&&T(new ArrayBuffer),r.isArrayBuffer=x,w.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&w(new DataView(new ArrayBuffer(1),0,1)),r.isDataView=S,k.working="undefined"!=typeof SharedArrayBuffer&&k(new SharedArrayBuffer),r.isSharedArrayBuffer=C,r.isAsyncFunction=function(e){return"[object AsyncFunction]"===u(e)},r.isMapIterator=function(e){return"[object Map Iterator]"===u(e)},r.isSetIterator=function(e){return"[object Set Iterator]"===u(e)},r.isGeneratorObject=function(e){return"[object Generator]"===u(e)},r.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===u(e)},r.isNumberObject=O,r.isStringObject=M,r.isBooleanObject=B,r.isBigIntObject=R,r.isSymbolObject=v,r.isBoxedPrimitive=function(e){return O(e)||M(e)||B(e)||R(e)||v(e)},r.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(x(e)||C(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(r,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},{"is-arguments":17,"is-generator-function":19,"is-typed-array":20,"which-typed-array":25}],24:[function(e,t,r){(function(t){(function(){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},s=/%[sdj%]/g;r.format=function(e){if(!b(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(l(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(s,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),a=n[r];r<i;a=n[++r])y(a)||!T(a)?o+=" "+a:o+=" "+l(a);return o},r.deprecate=function(e,n){if(void 0!==t&&!0===t.noDeprecation)return e;if(void 0===t)return function(){return r.deprecate(e,n).apply(this,arguments)};var s=!1;return function(){if(!s){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),s=!0}return e.apply(this,arguments)}};var i={},o=/^$/;if(t.env.NODE_DEBUG){var a=t.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+a+"$","i")}function l(e,t){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(t)?n.showHidden=t:t&&r._extend(n,t),A(n.showHidden)&&(n.showHidden=!1),A(n.depth)&&(n.depth=2),A(n.colors)&&(n.colors=!1),A(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),p(n,e,n.depth)}function c(e,t){var r=l.styles[t];return r?"["+l.colors[r][0]+"m"+e+"["+l.colors[r][1]+"m":e}function u(e,t){return e}function p(e,t,n){if(e.customInspect&&t&&S(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var s=t.inspect(n,e);return b(s)||(s=p(e,s,n)),s}var i=function(e,t){if(A(t))return e.stylize("undefined","undefined");if(b(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(y(t))return e.stylize("null","null")}(e,t);if(i)return i;var o=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),w(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(t);if(0===o.length){if(S(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(E(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(x(t))return e.stylize(Date.prototype.toString.call(t),"date");if(w(t))return h(t)}var c,u="",T=!1,k=["{","}"];(f(t)&&(T=!0,k=["[","]"]),S(t))&&(u=" [Function"+(t.name?": "+t.name:"")+"]");return E(t)&&(u=" "+RegExp.prototype.toString.call(t)),x(t)&&(u=" "+Date.prototype.toUTCString.call(t)),w(t)&&(u=" "+h(t)),0!==o.length||T&&0!=t.length?n<0?E(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=T?function(e,t,r,n,s){for(var i=[],o=0,a=t.length;o<a;++o)B(t,String(o))?i.push(d(e,t,r,n,String(o),!0)):i.push("");return s.forEach((function(s){s.match(/^\d+$/)||i.push(d(e,t,r,n,s,!0))})),i}(e,t,n,a,o):o.map((function(r){return d(e,t,n,a,r,T)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,u,k)):k[0]+u+k[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,s,i){var o,a,l;if((l=Object.getOwnPropertyDescriptor(t,s)||{value:t[s]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),B(n,s)||(o="["+s+"]"),a||(e.seen.indexOf(l.value)<0?(a=y(r)?p(e,l.value,null):p(e,l.value,r-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),A(o)){if(i&&s.match(/^\d+$/))return a;(o=JSON.stringify(""+s)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function f(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function y(e){return null===e}function m(e){return"number"==typeof e}function b(e){return"string"==typeof e}function A(e){return void 0===e}function E(e){return T(e)&&"[object RegExp]"===k(e)}function T(e){return"object"==typeof e&&null!==e}function x(e){return T(e)&&"[object Date]"===k(e)}function w(e){return T(e)&&("[object Error]"===k(e)||e instanceof Error)}function S(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(e=e.toUpperCase(),!i[e])if(o.test(e)){var n=t.pid;i[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else i[e]=function(){};return i[e]},r.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.types=e("./support/types"),r.isArray=f,r.isBoolean=g,r.isNull=y,r.isNullOrUndefined=function(e){return null==e},r.isNumber=m,r.isString=b,r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=A,r.isRegExp=E,r.types.isRegExp=E,r.isObject=T,r.isDate=x,r.types.isDate=x,r.isError=w,r.types.isNativeError=w,r.isFunction=S,r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e("./support/isBuffer");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),O[e.getMonth()],t].join(" ")}function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){console.log("%s - %s",M(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!T(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function v(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}r.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(R&&e[R]){var t;if("function"!=typeof(t=e[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),s=[],i=0;i<arguments.length;i++)s.push(arguments[i]);s.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,s)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),R&&Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},r.promisify.custom=R,r.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var s=r.pop();if("function"!=typeof s)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return s.apply(i,arguments)};e.apply(this,r).then((function(e){t.nextTick(o.bind(null,null,e))}),(function(e){t.nextTick(v.bind(null,e,o))}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,n(e)),r}}).call(this)}).call(this,e("_process"))},{"./support/isBuffer":22,"./support/types":23,_process:21,inherits:16}],25:[function(e,t,r){(function(r){(function(){"use strict";var n=e("foreach"),s=e("available-typed-arrays"),i=e("call-bind/callBound"),o=i("Object.prototype.toString"),a=e("has-symbols")()&&"symbol"==typeof Symbol.toStringTag,l=s(),c=i("String.prototype.slice"),u={},p=e("es-abstract/helpers/getOwnPropertyDescriptor"),h=Object.getPrototypeOf;a&&p&&h&&n(l,(function(e){if("function"==typeof r[e]){var t=new r[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=h(t),s=p(n,Symbol.toStringTag);if(!s){var i=h(n);s=p(i,Symbol.toStringTag)}u[e]=s.get}}));var d=e("is-typed-array");t.exports=function(e){return!!d(e)&&(a?function(e){var t=!1;return n(u,(function(r,n){if(!t)try{var s=r.call(e);s===n&&(t=s)}catch(e){}})),t}(e):c(o(e),8,-1))}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":2,"call-bind/callBound":5,"es-abstract/helpers/getOwnPropertyDescriptor":7,foreach:8,"has-symbols":12,"is-typed-array":20}],26:[function(e,t,r){(function(r){(function(){t.exports=function(t){"use strict";const n=this,s=e("../apg-lib/node-exports.js"),i=e("../apg-conv-api/node-exports.js").converter,o=e("./scanner.js"),a=new(e("./parser.js")),{attributes:l,showAttributes:c,showAttributeErrors:u,showRuleDependencies:p}=e("./attributes.js"),h=e("./show-rules.js");let d,f=!1,g=!1,y=!1,m=!1,b=0;if(this.sabnf,this.chars,this.lines,this.rules,this.udts,this.errors=[],r.isBuffer(t))this.chars=i.decode("BINARY",t);else if(Array.isArray(t))this.chars=t.slice();else{if("string"!=typeof t)throw new TypeError("api.js: input source is not a string, byte Buffer or character array");this.chars=i.decode("STRING",t)}this.sabnf=i.encode("STRING",this.chars),this.scan=function(e,t){this.lines=o(this.chars,this.errors,e,t),f=!0},this.parse=function(e,t){if(!f)throw new Error("api.js: grammar not scanned");a.syntax(this.chars,this.lines,this.errors,e,t),g=!0},this.translate=function(){if(!g)throw new Error("api.js: grammar not scanned and parsed");let e=a.semantic(this.chars,this.lines,this.errors);0===this.errors.length&&(this.rules=e.rules,this.udts=e.udts,d=e.lineMap,y=!0)},this.attributes=function(){if(!y)throw new Error("api.js: grammar not scanned, parsed and translated");return b=l(this.rules,this.udts,d,this.errors),m=!0,b},this.generate=function(e){if(this.lines=o(this.chars,this.errors,e),this.errors.length)return;if(a.syntax(this.chars,this.lines,this.errors,e),this.errors.length)return;let t=a.semantic(this.chars,this.lines,this.errors);this.errors.length||(this.rules=t.rules,this.udts=t.udts,d=t.lineMap,b=l(this.rules,this.udts,d,this.errors),m=!0)},this.displayRules=function(e="index"){if(!y)throw new Error("api.js: grammar not scanned, parsed and translated");return h(this.rules,this.udts,e)},this.displayRuleDependencies=function(e="index"){if(!m)throw new Error("api.js: no attributes - must be preceeded by call to attributes()");return p(e)},this.displayAttributes=function(e="index"){if(!m)throw new Error("api.js: no attributes - must be preceeded by call to attributes()");return b&&u(e),c(e)},this.displayAttributeErrors=function(){if(!m)throw new Error("api.js: no attributes - must be preceeded by call to attributes()");return u()},this.toSource=function(e){if(!m)throw new Error("api.js: can't generate parser source - must be preceeded by call to attributes()");if(b)throw new Error("api.js: can't generate parser source - attributes have "+b+" errors");return a.generateSource(this.chars,this.lines,this.rules,this.udts,e)},this.toObject=function(){if(!m)throw new Error("api.js: can't generate parser object - must be preceeded by call to attributes()");if(b)throw new Error("api.js: can't generate parser object - attributes have "+b+" errors");return a.generateObject(this.sabnf,this.rules,this.udts)},this.errorsToAscii=function(){return x(this.errors,this.lines,this.chars)},this.errorsToHtml=function(e){return T(this.errors,this.lines,this.chars,e)},this.linesToAscii=function(){return A(this.lines)},this.linesToHtml=function(){return E(this.lines)};var A=function(e){var t="";return t+="Annotated Input Grammar",e.forEach((function(e,r){t+="\n",t+="line no: "+e.lineNo,t+=" : char index: "+e.beginChar,t+=" : length: "+e.length,t+=" : abnf: "+S(n.chars,e.beginChar,e.length)})),t+="\n"};let E=function(e){var t="";t+='<table class="'+s.style.CLASS_GRAMMAR+'">\n';return t+="<caption>Annotated Input Grammar</caption>\n",t+="<tr>",t+="<th>line<br>no.</th><th>first<br>char</th><th><br>length</th><th><br>text</th>",t+="</tr>\n",e.forEach((function(e,r){t+="<tr>",t+="<td>"+e.lineNo,t+="</td><td>"+e.beginChar,t+="</td><td>"+e.length,t+="</td><td>"+w(n.chars,e.beginChar,e.length),t+="</td>",t+="</tr>\n"})),t+="</table>\n"},T=function(e,t,r,n){var i=s.style,o="",a='<span class="'+i.CLASS_NOMATCH+'">&raquo;</span>';return o+='<p><table class="'+i.CLASS_GRAMMAR+'">\n',n&&"string"==typeof n&&(o+="<caption>"+n+"</caption>\n"),o+="<tr><th>line<br>no.</th><th>line<br>offset</th><th>error<br>offset</th><th><br>text</th></tr>\n",e.forEach((function(e){var n,i,l,c,u,p="",h="";0===t.length?(u=a,i=0):(l=(n=t[e.line]).beginChar,e.char>l&&(p=w(r,l,e.char-l)),(l=e.char)<(c=n.beginChar+n.length)&&(h=w(r,l,c-l)),u=p+a+h,i=e.char-n.beginChar,o+="<tr>",o+="<td>"+e.line+"</td><td>"+n.beginChar+"</td><td>"+i+"</td><td>"+u+"</td>",o+="</tr>\n",o+="<tr>",o+='<td colspan="3"></td><td>&uarr;:&nbsp;'+s.utils.stringToAsciiHtml(e.msg)+"</td>",o+="</tr>\n")})),o+="</table></p>\n"},x=function(e,t,r){var n,s,i,o;return n="",e.forEach((function(e){s=t[e.line],n+=s.lineNo+": ",n+=s.beginChar+": ",n+=e.char-s.beginChar+": ",i=s.beginChar,o=e.char-s.beginChar,n+=S(r,i,o),n+=" >> ",i=e.char,o=s.beginChar+s.length-e.char,n+=S(r,i,o),n+="\n",n+=s.lineNo+": ",n+=s.beginChar+": ",n+=e.char-s.beginChar+": ",n+="error: ",n+=e.msg,n+="\n"})),n},w=function(e,t,r){for(var n,i='<span class="'+s.style.CLASS_CTRLCHAR+'">',o="</span>",a='<span class="'+s.style.CLASS_NOMATCH+'">',l="</span>",c="";Array.isArray(e)&&0!==e.length&&("number"!=typeof t&&(t=0),!(t>=e.length));){n="number"!=typeof r||t+r>=e.length?e.length:t+r;for(var u=0,p=t;p<n;p+=1){var h=e[p];if(h>=32&&h<=126)switch(1===u?(c+=o,u=0):2===u&&(c+=l,u=0),h){case 32:c+="&nbsp;";break;case 60:c+="&lt;";break;case 62:c+="&gt;";break;case 38:c+="&amp;";break;case 34:c+="&quot;";break;case 39:c+="&#039;";break;case 92:c+="&#092;";break;default:c+=String.fromCharCode(h)}else 9===h||10===h||13===h?(0===u?(c+=i,u=1):2===u&&(c+=l+i,u=1),9===h&&(c+="TAB"),10===h&&(c+="LF"),13===h&&(c+="CR")):(0===u?(c+=a,u=2):1===u&&(c+=o+a,u=2),c+="\\x"+s.utils.charToHex(h))}2===u&&(c+=l),1===u&&(c+=o);break}return c},S=function(e,t,r){for(var n="",s=t;s<t+r;s+=1){var i=e[s];if(i>=32&&i<=126)n+=String.fromCharCode(i);else switch(i){case 9:n+="\\t";break;case 10:n+="\\n";break;case 13:n+="\\r";break;default:n+="\\unknown"}}return n}}}).call(this)}).call(this,{isBuffer:e("../../../../.nvm/versions/node/v15.11.0/lib/node_modules/browserify/node_modules/is-buffer/index.js")})},{"../../../../.nvm/versions/node/v15.11.0/lib/node_modules/browserify/node_modules/is-buffer/index.js":18,"../apg-conv-api/node-exports.js":40,"../apg-lib/node-exports.js":46,"./attributes.js":27,"./parser.js":28,"./scanner.js":34,"./show-rules.js":36}],27:[function(e,t,r){t.exports=function(){"use strict";let t=e("../apg-lib/node-exports.js").ids,{ruleAttributes:r,showAttributes:n,showAttributeErrors:s}=e("./rule-attributes.js"),{ruleDependencies:i,showRuleDependencies:o}=e("./rule-dependencies.js");class a{constructor(e,t){this.rules=e,this.udts=t,this.ruleCount=e.length,this.udtCount=t.length,this.startRule=0,this.dependenciesComplete=!1,this.attributesComplete=!1,this.isMutuallyRecursive=!1,this.ruleIndexes=this.indexArray(this.ruleCount),this.ruleAlphaIndexes=this.indexArray(this.ruleCount),this.ruleTypeIndexes=this.indexArray(this.ruleCount),this.udtIndexes=this.indexArray(this.udtCount),this.udtAlphaIndexes=this.indexArray(this.udtCount),this.attrsErrorCount=0,this.attrs=[],this.attrsErrors=[],this.attrsWorking=[],this.ruleDeps=[];for(let t=0;t<this.ruleCount;t++)this.attrs.push(this.attrGen(this.rules[t])),this.attrsWorking.push(this.attrGen(this.rules[t])),this.ruleDeps.push(this.rdGen(e[t],this.ruleCount,this.udtCount));this.compRulesAlpha=this.compRulesAlpha.bind(this),this.compUdtsAlpha=this.compUdtsAlpha.bind(this),this.compRulesType=this.compRulesType.bind(this),this.compRulesGroup=this.compRulesGroup.bind(this)}attrGen(e){return{left:!1,nested:!1,right:!1,empty:!1,finite:!1,cyclic:!1,leaf:!1,isOpen:!1,isComplete:!1,rule:e}}attrInit(e){e.left=!1,e.nested=!1,e.right=!1,e.empty=!1,e.finite=!1,e.cyclic=!1,e.leaf=!1,e.isOpen=!1,e.isComplete=!1}attrCopy(e,t){e.left=t.left,e.nested=t.nested,e.right=t.right,e.empty=t.empty,e.finite=t.finite,e.cyclic=t.cyclic,e.leaf=t.leaf,e.isOpen=t.isOpen,e.isComplete=t.isComplete,e.rule=t.rule}rdGen(e,r,n){return ret={rule:e,recursiveType:t.ATTR_N,groupNumber:-1,refersTo:this.falseArray(r),refersToUdt:this.falseArray(n),referencedBy:this.falseArray(r)},ret}typeToString(e){switch(e){case t.ATTR_N:return" N";case t.ATTR_R:return" R";case t.ATTR_MR:return"MR";default:return"UNKNOWN"}}falseArray(e){let t=[];if(e>0)for(let r=0;r<e;r++)t.push(!1);return t}falsifyArray(e){for(let t=0;t<e.length;t++)e[t]=!1}indexArray(e){let t=[];if(e>0)for(let r=0;r<e;r++)t.push(r);return t}compRulesAlpha(e,t){return this.rules[e].lower<this.rules[t].lower?-1:this.rules[e].lower>this.rules[t].lower?1:0}compUdtsAlpha(e,t){return this.udts[e].lower<this.udts[t].lower?-1:this.udts[e].lower>this.udts[t].lower?1:0}compRulesType(e,t){return this.ruleDeps[e].recursiveType<this.ruleDeps[t].recursiveType?-1:this.ruleDeps[e].recursiveType>this.ruleDeps[t].recursiveType?1:0}compRulesGroup(e,r){if(this.ruleDeps[e].recursiveType===t.ATTR_MR&&this.ruleDeps[r].recursiveType===t.ATTR_MR){if(this.ruleDeps[e].groupNumber<this.ruleDeps[r].groupNumber)return-1;if(this.ruleDeps[e].groupNumber>this.ruleDeps[r].groupNumber)return 1}return 0}}return{attributes:function(e=[],t=[],n=[],s=[]){let o=new a(e,t);return i(o),r(o),o.attrsErrorCount&&s.push({line:0,char:0,msg:`${o.attrsErrorCount} attribute errors`}),o.attrsErrorCount},showAttributes:n,showAttributeErrors:s,showRuleDependencies:o}}()},{"../apg-lib/node-exports.js":46,"./rule-attributes.js":29,"./rule-dependencies.js":30}],28:[function(e,t,r){t.exports=function(){"use strict";let t=e("../apg-lib/node-exports.js"),r=t.ids,n=new(e("./syntax-callbacks.js")),s=new(e("./semantic-callbacks.js")),i=new(e("./sabnf-grammar.js")),o=new t.parser;o.ast=new t.ast,o.callbacks=n.callbacks,o.ast.callbacks=s.callbacks;let a=function(e,t,r){if(t<0||t>=r)return-1;for(let r=0;r<e.length;r+=1)if(t>=e[r].beginChar&&t<e[r].beginChar+e[r].length)return r;return-1},l=function(e,t){let r=-1;if(t<e.length)for(let n=t;n<e.length;n+=1)if(null!==e[n]){r=e[n];break}return r};this.syntax=function(e,t,r,n,s){if(s){if("traceObject"!==s.traceObject)throw new TypError("parser.js: trace argument is not a trace object");o.trace=s}let l={};l.errors=r,l.strict=!!n,l.lines=t,l.findLine=a,l.charsLength=e.length,l.ruleCount=0,o.parse(i,"file",e,l).success||r.push({line:0,char:0,msg:"syntax analysis of input grammar failed"})},this.semantic=function(e,t,n){let s={};return s.errors=n,s.lines=t,s.findLine=a,s.charsLength=e.length,o.ast.translate(s),n.length?null:(function(e){e.forEach((function(e,t){let n=[],s=[],i=0;e.opcodes.forEach((function(e,t){e.type===r.ALT&&1===e.children.length||e.type===r.CAT&&1===e.children.length||e.type===r.REP&&1===e.min&&1===e.max?s.push(null):(s.push(i),n.push(e),i+=1)})),s.push(i),n.forEach((function(e,t){if(e.type===r.ALT||e.type===r.CAT)for(let t=0;t<e.children.length;t+=1)e.children[t]=l(s,e.children[t])})),e.opcodes=n}))}(s.rules),{rules:s.rules,udts:s.udts,lineMap:s.rulesLineMap})},this.generateSource=function(e,t,n,s,i){let o,a,l,c="",u=0,p=1/0,h=0,d=[],f=[],g=0,y=0,m=0,b=0,A=0,E=0,T=0,x=0,w=0,S=0,k=0,C=0,O=0,M=0,B=0;n.forEach((function(e){d.push(e.lower),u+=e.opcodes.length,e.opcodes.forEach((function(e,t){switch(e.type){case r.ALT:g+=1;break;case r.CAT:y+=1;break;case r.RNM:m+=1;break;case r.UDT:b+=1;break;case r.REP:A+=1;break;case r.AND:E+=1;break;case r.NOT:T+=1;break;case r.BKA:C+=1;break;case r.BKN:O+=1;break;case r.BKR:k+=1;break;case r.ABG:M+=1;break;case r.AEN:B+=1;break;case r.TLS:for(x+=1,o=0;o<e.string.length;o+=1)e.string[o]<p&&(p=e.string[o]),e.string[o]>h&&(h=e.string[o]);break;case r.TBS:for(w+=1,o=0;o<e.string.length;o+=1)e.string[o]<p&&(p=e.string[o]),e.string[o]>h&&(h=e.string[o]);break;case r.TRG:S+=1,e.min<p&&(p=e.min),e.max>h&&(h=e.max)}}))})),d.sort(),s.length>0&&(s.forEach((function(e){f.push(e.lower)})),f.sort());let R,v="module.exports";return i&&"string"==typeof i&&(v="let "+i),c+="// copyright: Copyright (c) 2021 Lowell D. Thomas, all rights reserved<br>\n",c+="//   license: BSD-2-Clause (https://opensource.org/licenses/BSD-2-Clause)<br>\n",c+="//\n",c+="// Generated by apg-js, Version 4.0.0 [apg-js](https://github.com/ldthomas/apg-js)\n",c+=v+" = function(){\n",c+='"use strict";\n',c+="  //```\n",c+="  // SUMMARY\n",c+="  //      rules = "+n.length+"\n",c+="  //       udts = "+s.length+"\n",c+="  //    opcodes = "+u+"\n",c+="  //        ---   ABNF original opcodes\n",c+="  //        ALT = "+g+"\n",c+="  //        CAT = "+y+"\n",c+="  //        REP = "+A+"\n",c+="  //        RNM = "+m+"\n",c+="  //        TLS = "+x+"\n",c+="  //        TBS = "+w+"\n",c+="  //        TRG = "+S+"\n",c+="  //        ---   SABNF superset opcodes\n",c+="  //        UDT = "+b+"\n",c+="  //        AND = "+E+"\n",c+="  //        NOT = "+T+"\n",c+="  //        BKA = "+C+"\n",c+="  //        BKN = "+O+"\n",c+="  //        BKR = "+k+"\n",c+="  //        ABG = "+M+"\n",c+="  //        AEN = "+B+"\n",c+="  // characters = [",c+=x+w+S===0?" none defined ]":p+" - "+h+"]",b>0&&(c+=" + user defined"),c+="\n",c+="  //```\n",c+="  /* OBJECT IDENTIFIER (for internal parser use) */\n",c+="  this.grammarObject = 'grammarObject';\n",c+="\n",c+="  /* RULES */\n",c+="  this.rules = [];\n",n.forEach((function(e,t){let r="  this.rules[";r+=t,r+="] = {name: '",r+=e.name,r+="', lower: '",r+=e.lower,r+="', index: ",r+=e.index,r+=", isBkr: ",r+=e.isBkr,r+="};\n",c+=r})),c+="\n",c+="  /* UDTS */\n",c+="  this.udts = [];\n",s.length>0&&s.forEach((function(e,t){let r="  this.udts[";r+=t,r+="] = {name: '",r+=e.name,r+="', lower: '",r+=e.lower,r+="', index: ",r+=e.index,r+=", empty: ",r+=e.empty,r+=", isBkr: ",r+=e.isBkr,r+="};\n",c+=r})),c+="\n",c+="  /* OPCODES */\n",n.forEach((function(e,t){t>0&&(c+="\n"),c+="  /* "+e.name+" */\n",c+="  this.rules["+t+"].opcodes = [];\n",e.opcodes.forEach((function(e,i){switch(e.type){case r.ALT:c+="  this.rules["+t+"].opcodes["+i+"] = {type: "+e.type+", children: ["+e.children.toString()+"]};// ALT\n";break;case r.CAT:c+="  this.rules["+t+"].opcodes["+i+"] = {type: "+e.type+", children: ["+e.children.toString()+"]};// CAT\n";break;case r.RNM:c+="  this.rules["+t+"].opcodes["+i+"] = {type: "+e.type+", index: "+e.index+"};// RNM("+n[e.index].name+")\n";break;case r.BKR:e.index>=n.length?(a=s[e.index-n.length].name,l=s[e.index-n.length].lower):(a=n[e.index].name,l=n[e.index].lower);let o="%i";e.bkrCase===r.BKR_MODE_CS&&(o="%s"),e.bkrMode===r.BKR_MODE_UM?o+="%u":o+="%p",a=o+a,c+="  this.rules["+t+"].opcodes["+i+"] = {type: "+e.type+", index: "+e.index+", lower: '"+l+"', bkrCase: "+e.bkrCase+", bkrMode: "+e.bkrMode+"};// BKR(\\"+a+")\n";break;case r.UDT:c+="  this.rules["+t+"].opcodes["+i+"] = {type: "+e.type+", empty: "+e.empty+", index: "+e.index+"};// UDT("+s[e.index].name+")\n";break;case r.REP:c+="  this.rules["+t+"].opcodes["+i+"] = {type: "+e.type+", min: "+e.min+", max: "+e.max+"};// REP\n";break;case r.AND:c+="  this.rules["+t+"].opcodes["+i+"] = {type: "+e.type+"};// AND\n";break;case r.NOT:c+="  this.rules["+t+"].opcodes["+i+"] = {type: "+e.type+"};// NOT\n";break;case r.ABG:c+="  this.rules["+t+"].opcodes["+i+"] = {type: "+e.type+"};// ABG(%^)\n";break;case r.AEN:c+="  this.rules["+t+"].opcodes["+i+"] = {type: "+e.type+"};// AEN(%$)\n";break;case r.BKA:c+="  this.rules["+t+"].opcodes["+i+"] = {type: "+e.type+"};// BKA\n";break;case r.BKN:c+="  this.rules["+t+"].opcodes["+i+"] = {type: "+e.type+"};// BKN\n";break;case r.TLS:c+="  this.rules["+t+"].opcodes["+i+"] = {type: "+e.type+", string: ["+e.string.toString()+"]};// TLS\n";break;case r.TBS:c+="  this.rules["+t+"].opcodes["+i+"] = {type: "+e.type+", string: ["+e.string.toString()+"]};// TBS\n";break;case r.TRG:c+="  this.rules["+t+"].opcodes["+i+"] = {type: "+e.type+", min: "+e.min+", max: "+e.max+"};// TRG\n"}}))})),c+="\n",c+="  // The `toString()` function will display the original grammar file(s) that produced these opcodes.\n",c+="  this.toString = function(){\n",c+='    let str = "";\n',t.forEach((function(t,r){let n=t.beginChar+t.length;R="",c+='    str += "';for(let r=t.beginChar;r<n;r+=1){switch(e[r]){case 9:R=" ";break;case 10:R="\\n";break;case 13:R="\\r";break;case 34:R='\\"';break;case 92:R="\\\\";break;default:R=String.fromCharCode(e[r])}c+=R}c+='";\n'})),c+="    return str;\n",c+="  }\n",c+="}\n",c},this.generateObject=function(e,t,r){let n={},s=[],i=[],o=e.slice(0);return n.grammarObject="grammarObject",t.forEach((function(e){s.push(e.lower)})),s.sort(),r.length>0&&(r.forEach((function(e){i.push(e.lower)})),i.sort()),n.callbacks=[],s.forEach((function(e){n.callbacks[e]=!1})),r.length>0&&i.forEach((function(e){n.callbacks[e]=!1})),n.rules=t,n.udts=r,n.toString=function(){return o},n}}},{"../apg-lib/node-exports.js":46,"./sabnf-grammar.js":31,"./semantic-callbacks.js":35,"./syntax-callbacks.js":37}],29:[function(e,t,r){t.exports=function(){"use strict";let t=e("../apg-lib/node-exports.js").ids,r=null;function n(e){return!(e.left||e.nested||e.right||e.cyclic)&&e.empty}function s(e){return!!(e.left||e.nested||e.right||e.cyclic)}function i(e,t,r,i){let a=0,l=t[r],c=l.children.length,u=[];for(a=0;a<c;a++)u.push(e.attrGen());for(a=0;a<c;a++)o(e,t,l.children[a],u[a]);i.left=function(e,t){for(let r=0;r<t;r++){if(e[r].left)return!0;if(!e[r].empty)return!1}return!1}(u,c),i.right=function(e,t){for(let r=t-1;r>=0;r--){if(e[r].right)return!0;if(!e[r].empty)return!1}return!1}(u,c),i.nested=function(e,t){let r=0,i=0,o=0;for(r=0;r<t;r++)if(e[r].nested)return!0;for(r=0;r<t;r++)if(e[r].right&&!e[r].leaf)for(i=r+1;i<t;i++)if(!n(e[i]))return!0;for(r=t-1;r>=0;r--)if(e[r].left&&!e[r].leaf)for(i=r-1;i>=0;i--)if(!n(e[i]))return!0;for(r=0;r<t;r++)if(!e[r].empty&&!s(e[r]))for(i=r+1;i<t;i++)if(s(e[i]))for(o=i+1;o<t;o++)if(!e[o].empty&&!s(e[o]))return!0;return!1}(u,c),i.empty=function(e,t){for(let r=0;r<t;r++)if(!e[r].empty)return!1;return!0}(u,c),i.finite=function(e,t){for(let r=0;r<t;r++)if(!e[r].finite)return!1;return!0}(u,c),i.cyclic=function(e,t){for(let r=0;r<t;r++)if(!e[r].cyclic)return!1;return!0}(u,c)}function o(e,r,n,s){e.attrInit(s);let l=r[n];switch(l.type){case t.ALT:!function(e,t,r,n){let s=0,i=t[r],a=i.children.length,l=[];for(s=0;s<a;s++)l.push(e.attrGen());for(s=0;s<a;s++)o(e,t,i.children[s],l[s]);for(n.left=!1,n.right=!1,n.nested=!1,n.empty=!1,n.finite=!1,n.cyclic=!1,s=0;s<a;s++)l[s].left&&(n.left=!0),l[s].nested&&(n.nested=!0),l[s].right&&(n.right=!0),l[s].empty&&(n.empty=!0),l[s].finite&&(n.finite=!0),l[s].cyclic&&(n.cyclic=!0)}(e,r,n,s);break;case t.CAT:i(e,r,n,s);break;case t.REP:o(e,r,n+1,s),0===l.min&&(s.empty=!0,s.finite=!0);break;case t.RNM:a(e,r[n].index,s);break;case t.BKR:!function(e,t,r,n){let s=t[r];s.index>=e.ruleCount?(n.empty=e.udts[s.index-e.ruleCount].empty,n.finite=!0):(a(e,s.index,n),n.left=!1,n.nested=!1,n.right=!1,n.cyclic=!1)}(e,r,n,s);break;case t.AND:case t.NOT:case t.BKA:case t.BKN:o(e,r,n+1,s),s.empty=!0;break;case t.TLS:s.empty=!r[n].string.length,s.finite=!0,s.cyclic=!1;break;case t.TBS:case t.TRG:s.empty=!1,s.finite=!0,s.cyclic=!1;break;case t.UDT:s.empty=l.empty,s.finite=!0,s.cyclic=!1;break;case t.ABG:case t.AEN:s.empty=!0,s.finite=!0,s.cyclic=!1;break;default:throw new Error("unknown opcode type: "+l)}}function a(e,t,r){let n=e.attrsWorking[t];n.isComplete?e.attrCopy(r,n):n.isOpen?t===e.startRule?t===e.startRule&&(r.left=!0,r.right=!0,r.cyclic=!0,r.leaf=!0):r.finite=!0:(n.isOpen=!0,o(e,n.rule.opcodes,0,r),n.left=r.left,n.right=r.right,n.nested=r.nested,n.empty=r.empty,n.finite=r.finite,n.cyclic=r.cyclic,n.leaf=!1,n.isOpen=!1,n.isComplete=!0)}let l=function(e){return e?"t":"f"},c=function(e){return e?"e":"f"},u=function(e,n,s,i){let o=e+":"+n+":";return o+=c(s.left)+" ",o+=l(s.nested)+" ",o+=l(s.right)+" ",o+=c(s.cyclic)+" ",o+=(s.finite?"t":"e")+" ",o+=l(s.empty)+":",o+=r.typeToString(i.recursiveType)+":",o+=i.recursiveType===t.ATTR_MR?i.groupNumber:"-",o+=":"+s.rule.name+"\n",o},p=function(){let e="LEGEND - t=true, f=false, e=error\n";return e+="sequence:rule index:left nested right cyclic finite empty:type:group number:rule name\n","LEGEND - t=true, f=false, e=error\nsequence:rule index:left nested right cyclic finite empty:type:group number:rule name\n"},h=function(e){let t=0,n=0,s=null,i=null,o="",a=r.ruleIndexes,l=r.udtIndexes;for(97===e?(a=r.ruleAlphaIndexes,l=r.udtAlphaIndexes):116===e&&(a=r.ruleTypeIndexes,l=r.udtAlphaIndexes),t=0;t<r.ruleCount;t++)n=a[t],s=r.attrs[n],i=r.ruleDeps[n],o+=u(t,n,s,i);return o};return{ruleAttributes:function(e){r=e;let t=0,n=0,s=r.attrGen();for(t=0;t<r.ruleCount;t++){for(n=0;n<r.ruleCount;n++)r.attrInit(r.attrsWorking[n]);r.startRule=t,a(r,t,s),r.attrCopy(r.attrs[t],r.attrsWorking[t])}r.attributesComplete=!0;let i=null;for(t=0;t<r.ruleCount;t++)if(i=r.attrs[t],i.left||!i.finite||i.cyclic){let e=r.attrGen(i.rule);r.attrCopy(e,i),r.attrsErrors.push(e),r.attrsErrorCount++}},showAttributes:function(e="index"){if(!r.attributesComplete)throw new Error("rule-attributes.js:showAttributes: attributes not available");let t="",n="RULE ATTRIBUTES\n";return 97===e.charCodeAt(0)?(t+="alphabetical by rule name\n",t+=n,t+=p(),t+=h(97)):116===e.charCodeAt(0)?(t+="ordered by rule type\n",t+=n,t+=p(),t+=h(116)):(t+="ordered by rule index\n",t+=n,t+=p(),t+=h()),t},showAttributeErrors:function(){let e=null,t=null,n="";if(n+="RULE ATTRIBUTES WITH ERRORS\n",n+=p(),r.attrsErrorCount)for(let s=0;s<r.attrsErrorCount;s++)e=r.attrsErrors[s],t=r.ruleDeps[e.rule.index],n+=u(s,e.rule.index,e,t);else n+="<none>\n";return n}}}()},{"../apg-lib/node-exports.js":46}],30:[function(e,t,r){t.exports=function(){e("util");let t=e("../apg-lib/node-exports.js").ids,r=null,n=function(e,r,s,i){let o=0,a=0,l=r[s];i[s]=!0;let c=l.rule.opcodes;for(o=0;o<c.length;o++){let s=c[o];if(s.type===t.RNM)for(l.refersTo[s.index]=!0,i[s.index]||n(e,r,s.index,i),a=0;a<e;a++)r[s.index].refersTo[a]&&(l.refersTo[a]=!0);else s.type===t.UDT?l.refersToUdt[s.index]=!0:s.type===t.BKR&&(s.index<e?(l.refersTo[s.index]=!0,i[s.index]||n(e,r,s.index,i)):l.refersToUdt[e-s.index]=!0)}},s=function(e=null){let t=0,n=0,s=0,i=0;const o=r.ruleCount-1,a=r.udtCount-1;let l="",c="";const u="=> ";let p=!1,h=null,d=r.ruleIndexes,f=r.udtIndexes;for(97===e?(d=r.ruleAlphaIndexes,f=r.udtAlphaIndexes):116===e&&(d=r.ruleTypeIndexes,f=r.udtAlphaIndexes),t=0;t<r.ruleCount;t++){for(h=r.ruleDeps[d[t]],c=d[t]+":"+r.typeToString(h.recursiveType)+":",r.isMutuallyRecursive&&(c+=h.groupNumber>-1?h.groupNumber:"-",c+=":"),c+=" ",l+=c+r.rules[d[t]].name+"\n",p=!0,s=0,i=l.length,l+=c,n=0;n<r.ruleCount;n++)h.refersTo[d[n]]&&(p?(l+=u,p=!1,l+=r.ruleDeps[d[n]].rule.name):l+=", "+r.ruleDeps[d[n]].rule.name,s++),l.length-i>100&&n!==o&&(l+="\n"+c+u,i=l.length);if(r.udtCount)for(n=0;n<r.udtCount;n++)h.refersToUdt[f[n]]&&(p?(l+=u,p=!1,l+=r.udts[f[n]].name):l+=", "+r.udts[f[n]].name,s++),l.length-i>100&&n!==a&&(l+="\n"+c+u,i=l.length);for(0===s&&(l+="=> <none>\n"),!1===p&&(l+="\n"),p=!0,s=0,i=l.length,l+=c,n=0;n<r.ruleCount;n++)h.referencedBy[d[n]]&&(p?(l+="<= ",p=!1,l+=r.ruleDeps[d[n]].rule.name):l+=", "+r.ruleDeps[d[n]].rule.name,s++),l.length-i>100&&n!==o&&(l+="\n"+c+u,i=l.length);0===s&&(l+="<= <none>\n"),!1===p&&(l+="\n"),l+="\n"}return l};return{ruleDependencies:function(e){r=e;let s=0,i=0,o=0,a=null,l=null,c=!1;r.dependenciesComplete=!1;let u=r.falseArray(r.ruleCount);for(s=0;s<r.ruleCount;s++)r.falsifyArray(u),n(r.ruleCount,r.ruleDeps,s,u);for(s=0;s<r.ruleCount;s++)for(i=0;i<r.ruleCount;i++)s!=i&&r.ruleDeps[i].refersTo[s]&&(r.ruleDeps[s].referencedBy[i]=!0);for(s=0;s<r.ruleCount;s++)r.ruleDeps[s].recursiveType=t.ATTR_N,r.ruleDeps[s].refersTo[s]&&(r.ruleDeps[s].recursiveType=t.ATTR_R);for(o=-1,s=0;s<r.ruleCount;s++)if(a=r.ruleDeps[s],a.recursiveType===t.ATTR_R)for(c=!0,i=0;i<r.ruleCount;i++)s!==i&&(l=r.ruleDeps[i],l.recursiveType===t.ATTR_R&&a.refersTo[i]&&l.refersTo[s]&&(c&&(o++,a.recursiveType=t.ATTR_MR,a.groupNumber=o,c=!1),l.recursiveType=t.ATTR_MR,l.groupNumber=o));r.isMutuallyRecursive=o>-1,r.ruleAlphaIndexes.sort(r.compRulesAlpha),r.ruleTypeIndexes.sort(r.compRulesAlpha),r.ruleTypeIndexes.sort(r.compRulesType),r.isMutuallyRecursive&&r.ruleTypeIndexes.sort(r.compRulesGroup),r.udtCount&&r.udtAlphaIndexes.sort(r.compUdtsAlpha),r.dependenciesComplete=!0},showRuleDependencies:function(e="index"){thisFuncName="showRuleDependencies";let t="RULE DEPENDENCIES(index:type:[group number:])\n";return t+="=> refers to rule names\n",t+="<= referenced by rule names\n",r.dependenciesComplete?(97===e.charCodeAt(0)?(t+="alphabetical by rule name\n",t+=s(97)):116===e.charCodeAt(0)?(t+="ordered by rule type\n",t+=s(116)):(t+="ordered by rule index\n",t+=s(null)),t):t}}}()},{"../apg-lib/node-exports.js":46,util:24}],31:[function(e,t,r){t.exports=function(){"use strict";this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"File",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"BlankLine",lower:"blankline",index:1,isBkr:!1},this.rules[2]={name:"Rule",lower:"rule",index:2,isBkr:!1},this.rules[3]={name:"RuleLookup",lower:"rulelookup",index:3,isBkr:!1},this.rules[4]={name:"RuleNameTest",lower:"rulenametest",index:4,isBkr:!1},this.rules[5]={name:"RuleName",lower:"rulename",index:5,isBkr:!1},this.rules[6]={name:"RuleNameError",lower:"rulenameerror",index:6,isBkr:!1},this.rules[7]={name:"DefinedAsTest",lower:"definedastest",index:7,isBkr:!1},this.rules[8]={name:"DefinedAsError",lower:"definedaserror",index:8,isBkr:!1},this.rules[9]={name:"DefinedAs",lower:"definedas",index:9,isBkr:!1},this.rules[10]={name:"Defined",lower:"defined",index:10,isBkr:!1},this.rules[11]={name:"IncAlt",lower:"incalt",index:11,isBkr:!1},this.rules[12]={name:"RuleError",lower:"ruleerror",index:12,isBkr:!1},this.rules[13]={name:"LineEndError",lower:"lineenderror",index:13,isBkr:!1},this.rules[14]={name:"Alternation",lower:"alternation",index:14,isBkr:!1},this.rules[15]={name:"Concatenation",lower:"concatenation",index:15,isBkr:!1},this.rules[16]={name:"Repetition",lower:"repetition",index:16,isBkr:!1},this.rules[17]={name:"Modifier",lower:"modifier",index:17,isBkr:!1},this.rules[18]={name:"Predicate",lower:"predicate",index:18,isBkr:!1},this.rules[19]={name:"BasicElement",lower:"basicelement",index:19,isBkr:!1},this.rules[20]={name:"BasicElementErr",lower:"basicelementerr",index:20,isBkr:!1},this.rules[21]={name:"Group",lower:"group",index:21,isBkr:!1},this.rules[22]={name:"GroupError",lower:"grouperror",index:22,isBkr:!1},this.rules[23]={name:"GroupOpen",lower:"groupopen",index:23,isBkr:!1},this.rules[24]={name:"GroupClose",lower:"groupclose",index:24,isBkr:!1},this.rules[25]={name:"Option",lower:"option",index:25,isBkr:!1},this.rules[26]={name:"OptionError",lower:"optionerror",index:26,isBkr:!1},this.rules[27]={name:"OptionOpen",lower:"optionopen",index:27,isBkr:!1},this.rules[28]={name:"OptionClose",lower:"optionclose",index:28,isBkr:!1},this.rules[29]={name:"RnmOp",lower:"rnmop",index:29,isBkr:!1},this.rules[30]={name:"BkrOp",lower:"bkrop",index:30,isBkr:!1},this.rules[31]={name:"bkrModifier",lower:"bkrmodifier",index:31,isBkr:!1},this.rules[32]={name:"cs",lower:"cs",index:32,isBkr:!1},this.rules[33]={name:"ci",lower:"ci",index:33,isBkr:!1},this.rules[34]={name:"um",lower:"um",index:34,isBkr:!1},this.rules[35]={name:"pm",lower:"pm",index:35,isBkr:!1},this.rules[36]={name:"bkr-name",lower:"bkr-name",index:36,isBkr:!1},this.rules[37]={name:"rname",lower:"rname",index:37,isBkr:!1},this.rules[38]={name:"uname",lower:"uname",index:38,isBkr:!1},this.rules[39]={name:"ename",lower:"ename",index:39,isBkr:!1},this.rules[40]={name:"UdtOp",lower:"udtop",index:40,isBkr:!1},this.rules[41]={name:"udt-non-empty",lower:"udt-non-empty",index:41,isBkr:!1},this.rules[42]={name:"udt-empty",lower:"udt-empty",index:42,isBkr:!1},this.rules[43]={name:"RepOp",lower:"repop",index:43,isBkr:!1},this.rules[44]={name:"AltOp",lower:"altop",index:44,isBkr:!1},this.rules[45]={name:"CatOp",lower:"catop",index:45,isBkr:!1},this.rules[46]={name:"StarOp",lower:"starop",index:46,isBkr:!1},this.rules[47]={name:"AndOp",lower:"andop",index:47,isBkr:!1},this.rules[48]={name:"NotOp",lower:"notop",index:48,isBkr:!1},this.rules[49]={name:"BkaOp",lower:"bkaop",index:49,isBkr:!1},this.rules[50]={name:"BknOp",lower:"bknop",index:50,isBkr:!1},this.rules[51]={name:"AbgOp",lower:"abgop",index:51,isBkr:!1},this.rules[52]={name:"AenOp",lower:"aenop",index:52,isBkr:!1},this.rules[53]={name:"TrgOp",lower:"trgop",index:53,isBkr:!1},this.rules[54]={name:"TbsOp",lower:"tbsop",index:54,isBkr:!1},this.rules[55]={name:"TlsOp",lower:"tlsop",index:55,isBkr:!1},this.rules[56]={name:"TlsCase",lower:"tlscase",index:56,isBkr:!1},this.rules[57]={name:"TlsOpen",lower:"tlsopen",index:57,isBkr:!1},this.rules[58]={name:"TlsClose",lower:"tlsclose",index:58,isBkr:!1},this.rules[59]={name:"TlsString",lower:"tlsstring",index:59,isBkr:!1},this.rules[60]={name:"StringTab",lower:"stringtab",index:60,isBkr:!1},this.rules[61]={name:"ClsOp",lower:"clsop",index:61,isBkr:!1},this.rules[62]={name:"ClsOpen",lower:"clsopen",index:62,isBkr:!1},this.rules[63]={name:"ClsClose",lower:"clsclose",index:63,isBkr:!1},this.rules[64]={name:"ClsString",lower:"clsstring",index:64,isBkr:!1},this.rules[65]={name:"ProsVal",lower:"prosval",index:65,isBkr:!1},this.rules[66]={name:"ProsValOpen",lower:"prosvalopen",index:66,isBkr:!1},this.rules[67]={name:"ProsValString",lower:"prosvalstring",index:67,isBkr:!1},this.rules[68]={name:"ProsValClose",lower:"prosvalclose",index:68,isBkr:!1},this.rules[69]={name:"rep-min",lower:"rep-min",index:69,isBkr:!1},this.rules[70]={name:"rep-min-max",lower:"rep-min-max",index:70,isBkr:!1},this.rules[71]={name:"rep-max",lower:"rep-max",index:71,isBkr:!1},this.rules[72]={name:"rep-num",lower:"rep-num",index:72,isBkr:!1},this.rules[73]={name:"dString",lower:"dstring",index:73,isBkr:!1},this.rules[74]={name:"xString",lower:"xstring",index:74,isBkr:!1},this.rules[75]={name:"bString",lower:"bstring",index:75,isBkr:!1},this.rules[76]={name:"Dec",lower:"dec",index:76,isBkr:!1},this.rules[77]={name:"Hex",lower:"hex",index:77,isBkr:!1},this.rules[78]={name:"Bin",lower:"bin",index:78,isBkr:!1},this.rules[79]={name:"dmin",lower:"dmin",index:79,isBkr:!1},this.rules[80]={name:"dmax",lower:"dmax",index:80,isBkr:!1},this.rules[81]={name:"bmin",lower:"bmin",index:81,isBkr:!1},this.rules[82]={name:"bmax",lower:"bmax",index:82,isBkr:!1},this.rules[83]={name:"xmin",lower:"xmin",index:83,isBkr:!1},this.rules[84]={name:"xmax",lower:"xmax",index:84,isBkr:!1},this.rules[85]={name:"dnum",lower:"dnum",index:85,isBkr:!1},this.rules[86]={name:"bnum",lower:"bnum",index:86,isBkr:!1},this.rules[87]={name:"xnum",lower:"xnum",index:87,isBkr:!1},this.rules[88]={name:"alphanum",lower:"alphanum",index:88,isBkr:!1},this.rules[89]={name:"owsp",lower:"owsp",index:89,isBkr:!1},this.rules[90]={name:"wsp",lower:"wsp",index:90,isBkr:!1},this.rules[91]={name:"space",lower:"space",index:91,isBkr:!1},this.rules[92]={name:"comment",lower:"comment",index:92,isBkr:!1},this.rules[93]={name:"LineEnd",lower:"lineend",index:93,isBkr:!1},this.rules[94]={name:"LineContinue",lower:"linecontinue",index:94,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:3,min:0,max:1/0},this.rules[0].opcodes[1]={type:1,children:[2,3,4]},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:4,index:2},this.rules[0].opcodes[4]={type:4,index:12},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,5,7]},this.rules[1].opcodes[1]={type:3,min:0,max:1/0},this.rules[1].opcodes[2]={type:1,children:[3,4]},this.rules[1].opcodes[3]={type:6,string:[32]},this.rules[1].opcodes[4]={type:6,string:[9]},this.rules[1].opcodes[5]={type:3,min:0,max:1},this.rules[1].opcodes[6]={type:4,index:92},this.rules[1].opcodes[7]={type:4,index:93},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[2].opcodes[1]={type:4,index:3},this.rules[2].opcodes[2]={type:4,index:89},this.rules[2].opcodes[3]={type:4,index:14},this.rules[2].opcodes[4]={type:1,children:[5,8]},this.rules[2].opcodes[5]={type:2,children:[6,7]},this.rules[2].opcodes[6]={type:4,index:89},this.rules[2].opcodes[7]={type:4,index:93},this.rules[2].opcodes[8]={type:2,children:[9,10]},this.rules[2].opcodes[9]={type:4,index:13},this.rules[2].opcodes[10]={type:4,index:93},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:2,children:[1,2,3]},this.rules[3].opcodes[1]={type:4,index:4},this.rules[3].opcodes[2]={type:4,index:89},this.rules[3].opcodes[3]={type:4,index:7},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:4,index:5},this.rules[4].opcodes[2]={type:4,index:6},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:4,index:88},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:3,min:1,max:1/0},this.rules[6].opcodes[1]={type:1,children:[2,3]},this.rules[6].opcodes[2]={type:5,min:33,max:60},this.rules[6].opcodes[3]={type:5,min:62,max:126},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:1,children:[1,2]},this.rules[7].opcodes[1]={type:4,index:9},this.rules[7].opcodes[2]={type:4,index:8},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:3,min:1,max:2},this.rules[8].opcodes[1]={type:5,min:33,max:126},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:1,children:[1,2]},this.rules[9].opcodes[1]={type:4,index:11},this.rules[9].opcodes[2]={type:4,index:10},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:6,string:[61]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:6,string:[61,47]},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:2,children:[1,6]},this.rules[12].opcodes[1]={type:3,min:1,max:1/0},this.rules[12].opcodes[2]={type:1,children:[3,4,5]},this.rules[12].opcodes[3]={type:5,min:32,max:126},this.rules[12].opcodes[4]={type:6,string:[9]},this.rules[12].opcodes[5]={type:4,index:94},this.rules[12].opcodes[6]={type:4,index:93},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:3,min:1,max:1/0},this.rules[13].opcodes[1]={type:1,children:[2,3,4]},this.rules[13].opcodes[2]={type:5,min:32,max:126},this.rules[13].opcodes[3]={type:6,string:[9]},this.rules[13].opcodes[4]={type:4,index:94},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:2,children:[1,2]},this.rules[14].opcodes[1]={type:4,index:15},this.rules[14].opcodes[2]={type:3,min:0,max:1/0},this.rules[14].opcodes[3]={type:2,children:[4,5,6]},this.rules[14].opcodes[4]={type:4,index:89},this.rules[14].opcodes[5]={type:4,index:44},this.rules[14].opcodes[6]={type:4,index:15},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:2,children:[1,2]},this.rules[15].opcodes[1]={type:4,index:16},this.rules[15].opcodes[2]={type:3,min:0,max:1/0},this.rules[15].opcodes[3]={type:2,children:[4,5]},this.rules[15].opcodes[4]={type:4,index:45},this.rules[15].opcodes[5]={type:4,index:16},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:2,children:[1,3]},this.rules[16].opcodes[1]={type:3,min:0,max:1},this.rules[16].opcodes[2]={type:4,index:17},this.rules[16].opcodes[3]={type:1,children:[4,5,6,7]},this.rules[16].opcodes[4]={type:4,index:21},this.rules[16].opcodes[5]={type:4,index:25},this.rules[16].opcodes[6]={type:4,index:19},this.rules[16].opcodes[7]={type:4,index:20},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:1,children:[1,5]},this.rules[17].opcodes[1]={type:2,children:[2,3]},this.rules[17].opcodes[2]={type:4,index:18},this.rules[17].opcodes[3]={type:3,min:0,max:1},this.rules[17].opcodes[4]={type:4,index:43},this.rules[17].opcodes[5]={type:4,index:43},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[18].opcodes[1]={type:4,index:49},this.rules[18].opcodes[2]={type:4,index:50},this.rules[18].opcodes[3]={type:4,index:47},this.rules[18].opcodes[4]={type:4,index:48},this.rules[19].opcodes=[],this.rules[19].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10]},this.rules[19].opcodes[1]={type:4,index:40},this.rules[19].opcodes[2]={type:4,index:29},this.rules[19].opcodes[3]={type:4,index:53},this.rules[19].opcodes[4]={type:4,index:54},this.rules[19].opcodes[5]={type:4,index:55},this.rules[19].opcodes[6]={type:4,index:61},this.rules[19].opcodes[7]={type:4,index:30},this.rules[19].opcodes[8]={type:4,index:51},this.rules[19].opcodes[9]={type:4,index:52},this.rules[19].opcodes[10]={type:4,index:65},this.rules[20].opcodes=[],this.rules[20].opcodes[0]={type:3,min:1,max:1/0},this.rules[20].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[20].opcodes[2]={type:5,min:33,max:40},this.rules[20].opcodes[3]={type:5,min:42,max:46},this.rules[20].opcodes[4]={type:5,min:48,max:92},this.rules[20].opcodes[5]={type:5,min:94,max:126},this.rules[21].opcodes=[],this.rules[21].opcodes[0]={type:2,children:[1,2,3]},this.rules[21].opcodes[1]={type:4,index:23},this.rules[21].opcodes[2]={type:4,index:14},this.rules[21].opcodes[3]={type:1,children:[4,5]},this.rules[21].opcodes[4]={type:4,index:24},this.rules[21].opcodes[5]={type:4,index:22},this.rules[22].opcodes=[],this.rules[22].opcodes[0]={type:3,min:1,max:1/0},this.rules[22].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[22].opcodes[2]={type:5,min:33,max:40},this.rules[22].opcodes[3]={type:5,min:42,max:46},this.rules[22].opcodes[4]={type:5,min:48,max:92},this.rules[22].opcodes[5]={type:5,min:94,max:126},this.rules[23].opcodes=[],this.rules[23].opcodes[0]={type:2,children:[1,2]},this.rules[23].opcodes[1]={type:6,string:[40]},this.rules[23].opcodes[2]={type:4,index:89},this.rules[24].opcodes=[],this.rules[24].opcodes[0]={type:2,children:[1,2]},this.rules[24].opcodes[1]={type:4,index:89},this.rules[24].opcodes[2]={type:6,string:[41]},this.rules[25].opcodes=[],this.rules[25].opcodes[0]={type:2,children:[1,2,3]},this.rules[25].opcodes[1]={type:4,index:27},this.rules[25].opcodes[2]={type:4,index:14},this.rules[25].opcodes[3]={type:1,children:[4,5]},this.rules[25].opcodes[4]={type:4,index:28},this.rules[25].opcodes[5]={type:4,index:26},this.rules[26].opcodes=[],this.rules[26].opcodes[0]={type:3,min:1,max:1/0},this.rules[26].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[26].opcodes[2]={type:5,min:33,max:40},this.rules[26].opcodes[3]={type:5,min:42,max:46},this.rules[26].opcodes[4]={type:5,min:48,max:92},this.rules[26].opcodes[5]={type:5,min:94,max:126},this.rules[27].opcodes=[],this.rules[27].opcodes[0]={type:2,children:[1,2]},this.rules[27].opcodes[1]={type:6,string:[91]},this.rules[27].opcodes[2]={type:4,index:89},this.rules[28].opcodes=[],this.rules[28].opcodes[0]={type:2,children:[1,2]},this.rules[28].opcodes[1]={type:4,index:89},this.rules[28].opcodes[2]={type:6,string:[93]},this.rules[29].opcodes=[],this.rules[29].opcodes[0]={type:4,index:88},this.rules[30].opcodes=[],this.rules[30].opcodes[0]={type:2,children:[1,2,4]},this.rules[30].opcodes[1]={type:6,string:[92]},this.rules[30].opcodes[2]={type:3,min:0,max:1},this.rules[30].opcodes[3]={type:4,index:31},this.rules[30].opcodes[4]={type:4,index:36},this.rules[31].opcodes=[],this.rules[31].opcodes[0]={type:1,children:[1,7,13,19]},this.rules[31].opcodes[1]={type:2,children:[2,3]},this.rules[31].opcodes[2]={type:4,index:32},this.rules[31].opcodes[3]={type:3,min:0,max:1},this.rules[31].opcodes[4]={type:1,children:[5,6]},this.rules[31].opcodes[5]={type:4,index:34},this.rules[31].opcodes[6]={type:4,index:35},this.rules[31].opcodes[7]={type:2,children:[8,9]},this.rules[31].opcodes[8]={type:4,index:33},this.rules[31].opcodes[9]={type:3,min:0,max:1},this.rules[31].opcodes[10]={type:1,children:[11,12]},this.rules[31].opcodes[11]={type:4,index:34},this.rules[31].opcodes[12]={type:4,index:35},this.rules[31].opcodes[13]={type:2,children:[14,15]},this.rules[31].opcodes[14]={type:4,index:34},this.rules[31].opcodes[15]={type:3,min:0,max:1},this.rules[31].opcodes[16]={type:1,children:[17,18]},this.rules[31].opcodes[17]={type:4,index:32},this.rules[31].opcodes[18]={type:4,index:33},this.rules[31].opcodes[19]={type:2,children:[20,21]},this.rules[31].opcodes[20]={type:4,index:35},this.rules[31].opcodes[21]={type:3,min:0,max:1},this.rules[31].opcodes[22]={type:1,children:[23,24]},this.rules[31].opcodes[23]={type:4,index:32},this.rules[31].opcodes[24]={type:4,index:33},this.rules[32].opcodes=[],this.rules[32].opcodes[0]={type:6,string:[37,115]},this.rules[33].opcodes=[],this.rules[33].opcodes[0]={type:6,string:[37,105]},this.rules[34].opcodes=[],this.rules[34].opcodes[0]={type:6,string:[37,117]},this.rules[35].opcodes=[],this.rules[35].opcodes[0]={type:6,string:[37,112]},this.rules[36].opcodes=[],this.rules[36].opcodes[0]={type:1,children:[1,2,3]},this.rules[36].opcodes[1]={type:4,index:38},this.rules[36].opcodes[2]={type:4,index:39},this.rules[36].opcodes[3]={type:4,index:37},this.rules[37].opcodes=[],this.rules[37].opcodes[0]={type:4,index:88},this.rules[38].opcodes=[],this.rules[38].opcodes[0]={type:2,children:[1,2]},this.rules[38].opcodes[1]={type:6,string:[117,95]},this.rules[38].opcodes[2]={type:4,index:88},this.rules[39].opcodes=[],this.rules[39].opcodes[0]={type:2,children:[1,2]},this.rules[39].opcodes[1]={type:6,string:[101,95]},this.rules[39].opcodes[2]={type:4,index:88},this.rules[40].opcodes=[],this.rules[40].opcodes[0]={type:1,children:[1,2]},this.rules[40].opcodes[1]={type:4,index:42},this.rules[40].opcodes[2]={type:4,index:41},this.rules[41].opcodes=[],this.rules[41].opcodes[0]={type:2,children:[1,2]},this.rules[41].opcodes[1]={type:6,string:[117,95]},this.rules[41].opcodes[2]={type:4,index:88},this.rules[42].opcodes=[],this.rules[42].opcodes[0]={type:2,children:[1,2]},this.rules[42].opcodes[1]={type:6,string:[101,95]},this.rules[42].opcodes[2]={type:4,index:88},this.rules[43].opcodes=[],this.rules[43].opcodes[0]={type:1,children:[1,5,8,11,12]},this.rules[43].opcodes[1]={type:2,children:[2,3,4]},this.rules[43].opcodes[2]={type:4,index:69},this.rules[43].opcodes[3]={type:4,index:46},this.rules[43].opcodes[4]={type:4,index:71},this.rules[43].opcodes[5]={type:2,children:[6,7]},this.rules[43].opcodes[6]={type:4,index:69},this.rules[43].opcodes[7]={type:4,index:46},this.rules[43].opcodes[8]={type:2,children:[9,10]},this.rules[43].opcodes[9]={type:4,index:46},this.rules[43].opcodes[10]={type:4,index:71},this.rules[43].opcodes[11]={type:4,index:46},this.rules[43].opcodes[12]={type:4,index:70},this.rules[44].opcodes=[],this.rules[44].opcodes[0]={type:2,children:[1,2]},this.rules[44].opcodes[1]={type:6,string:[47]},this.rules[44].opcodes[2]={type:4,index:89},this.rules[45].opcodes=[],this.rules[45].opcodes[0]={type:4,index:90},this.rules[46].opcodes=[],this.rules[46].opcodes[0]={type:6,string:[42]},this.rules[47].opcodes=[],this.rules[47].opcodes[0]={type:6,string:[38]},this.rules[48].opcodes=[],this.rules[48].opcodes[0]={type:6,string:[33]},this.rules[49].opcodes=[],this.rules[49].opcodes[0]={type:6,string:[38,38]},this.rules[50].opcodes=[],this.rules[50].opcodes[0]={type:6,string:[33,33]},this.rules[51].opcodes=[],this.rules[51].opcodes[0]={type:6,string:[37,94]},this.rules[52].opcodes=[],this.rules[52].opcodes[0]={type:6,string:[37,36]},this.rules[53].opcodes=[],this.rules[53].opcodes[0]={type:2,children:[1,2]},this.rules[53].opcodes[1]={type:6,string:[37]},this.rules[53].opcodes[2]={type:1,children:[3,8,13]},this.rules[53].opcodes[3]={type:2,children:[4,5,6,7]},this.rules[53].opcodes[4]={type:4,index:76},this.rules[53].opcodes[5]={type:4,index:79},this.rules[53].opcodes[6]={type:6,string:[45]},this.rules[53].opcodes[7]={type:4,index:80},this.rules[53].opcodes[8]={type:2,children:[9,10,11,12]},this.rules[53].opcodes[9]={type:4,index:77},this.rules[53].opcodes[10]={type:4,index:83},this.rules[53].opcodes[11]={type:6,string:[45]},this.rules[53].opcodes[12]={type:4,index:84},this.rules[53].opcodes[13]={type:2,children:[14,15,16,17]},this.rules[53].opcodes[14]={type:4,index:78},this.rules[53].opcodes[15]={type:4,index:81},this.rules[53].opcodes[16]={type:6,string:[45]},this.rules[53].opcodes[17]={type:4,index:82},this.rules[54].opcodes=[],this.rules[54].opcodes[0]={type:2,children:[1,2]},this.rules[54].opcodes[1]={type:6,string:[37]},this.rules[54].opcodes[2]={type:1,children:[3,10,17]},this.rules[54].opcodes[3]={type:2,children:[4,5,6]},this.rules[54].opcodes[4]={type:4,index:76},this.rules[54].opcodes[5]={type:4,index:73},this.rules[54].opcodes[6]={type:3,min:0,max:1/0},this.rules[54].opcodes[7]={type:2,children:[8,9]},this.rules[54].opcodes[8]={type:6,string:[46]},this.rules[54].opcodes[9]={type:4,index:73},this.rules[54].opcodes[10]={type:2,children:[11,12,13]},this.rules[54].opcodes[11]={type:4,index:77},this.rules[54].opcodes[12]={type:4,index:74},this.rules[54].opcodes[13]={type:3,min:0,max:1/0},this.rules[54].opcodes[14]={type:2,children:[15,16]},this.rules[54].opcodes[15]={type:6,string:[46]},this.rules[54].opcodes[16]={type:4,index:74},this.rules[54].opcodes[17]={type:2,children:[18,19,20]},this.rules[54].opcodes[18]={type:4,index:78},this.rules[54].opcodes[19]={type:4,index:75},this.rules[54].opcodes[20]={type:3,min:0,max:1/0},this.rules[54].opcodes[21]={type:2,children:[22,23]},this.rules[54].opcodes[22]={type:6,string:[46]},this.rules[54].opcodes[23]={type:4,index:75},this.rules[55].opcodes=[],this.rules[55].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[55].opcodes[1]={type:4,index:56},this.rules[55].opcodes[2]={type:4,index:57},this.rules[55].opcodes[3]={type:4,index:59},this.rules[55].opcodes[4]={type:4,index:58},this.rules[56].opcodes=[],this.rules[56].opcodes[0]={type:3,min:0,max:1},this.rules[56].opcodes[1]={type:1,children:[2,3]},this.rules[56].opcodes[2]={type:7,string:[37,105]},this.rules[56].opcodes[3]={type:7,string:[37,115]},this.rules[57].opcodes=[],this.rules[57].opcodes[0]={type:6,string:[34]},this.rules[58].opcodes=[],this.rules[58].opcodes[0]={type:6,string:[34]},this.rules[59].opcodes=[],this.rules[59].opcodes[0]={type:3,min:0,max:1/0},this.rules[59].opcodes[1]={type:1,children:[2,3,4]},this.rules[59].opcodes[2]={type:5,min:32,max:33},this.rules[59].opcodes[3]={type:5,min:35,max:126},this.rules[59].opcodes[4]={type:4,index:60},this.rules[60].opcodes=[],this.rules[60].opcodes[0]={type:6,string:[9]},this.rules[61].opcodes=[],this.rules[61].opcodes[0]={type:2,children:[1,2,3]},this.rules[61].opcodes[1]={type:4,index:62},this.rules[61].opcodes[2]={type:4,index:64},this.rules[61].opcodes[3]={type:4,index:63},this.rules[62].opcodes=[],this.rules[62].opcodes[0]={type:6,string:[39]},this.rules[63].opcodes=[],this.rules[63].opcodes[0]={type:6,string:[39]},this.rules[64].opcodes=[],this.rules[64].opcodes[0]={type:3,min:0,max:1/0},this.rules[64].opcodes[1]={type:1,children:[2,3,4]},this.rules[64].opcodes[2]={type:5,min:32,max:38},this.rules[64].opcodes[3]={type:5,min:40,max:126},this.rules[64].opcodes[4]={type:4,index:60},this.rules[65].opcodes=[],this.rules[65].opcodes[0]={type:2,children:[1,2,3]},this.rules[65].opcodes[1]={type:4,index:66},this.rules[65].opcodes[2]={type:4,index:67},this.rules[65].opcodes[3]={type:4,index:68},this.rules[66].opcodes=[],this.rules[66].opcodes[0]={type:6,string:[60]},this.rules[67].opcodes=[],this.rules[67].opcodes[0]={type:3,min:0,max:1/0},this.rules[67].opcodes[1]={type:1,children:[2,3,4]},this.rules[67].opcodes[2]={type:5,min:32,max:61},this.rules[67].opcodes[3]={type:5,min:63,max:126},this.rules[67].opcodes[4]={type:4,index:60},this.rules[68].opcodes=[],this.rules[68].opcodes[0]={type:6,string:[62]},this.rules[69].opcodes=[],this.rules[69].opcodes[0]={type:4,index:72},this.rules[70].opcodes=[],this.rules[70].opcodes[0]={type:4,index:72},this.rules[71].opcodes=[],this.rules[71].opcodes[0]={type:4,index:72},this.rules[72].opcodes=[],this.rules[72].opcodes[0]={type:3,min:1,max:1/0},this.rules[72].opcodes[1]={type:5,min:48,max:57},this.rules[73].opcodes=[],this.rules[73].opcodes[0]={type:4,index:85},this.rules[74].opcodes=[],this.rules[74].opcodes[0]={type:4,index:87},this.rules[75].opcodes=[],this.rules[75].opcodes[0]={type:4,index:86},this.rules[76].opcodes=[],this.rules[76].opcodes[0]={type:1,children:[1,2]},this.rules[76].opcodes[1]={type:6,string:[68]},this.rules[76].opcodes[2]={type:6,string:[100]},this.rules[77].opcodes=[],this.rules[77].opcodes[0]={type:1,children:[1,2]},this.rules[77].opcodes[1]={type:6,string:[88]},this.rules[77].opcodes[2]={type:6,string:[120]},this.rules[78].opcodes=[],this.rules[78].opcodes[0]={type:1,children:[1,2]},this.rules[78].opcodes[1]={type:6,string:[66]},this.rules[78].opcodes[2]={type:6,string:[98]},this.rules[79].opcodes=[],this.rules[79].opcodes[0]={type:4,index:85},this.rules[80].opcodes=[],this.rules[80].opcodes[0]={type:4,index:85},this.rules[81].opcodes=[],this.rules[81].opcodes[0]={type:4,index:86},this.rules[82].opcodes=[],this.rules[82].opcodes[0]={type:4,index:86},this.rules[83].opcodes=[],this.rules[83].opcodes[0]={type:4,index:87},this.rules[84].opcodes=[],this.rules[84].opcodes[0]={type:4,index:87},this.rules[85].opcodes=[],this.rules[85].opcodes[0]={type:3,min:1,max:1/0},this.rules[85].opcodes[1]={type:5,min:48,max:57},this.rules[86].opcodes=[],this.rules[86].opcodes[0]={type:3,min:1,max:1/0},this.rules[86].opcodes[1]={type:5,min:48,max:49},this.rules[87].opcodes=[],this.rules[87].opcodes[0]={type:3,min:1,max:1/0},this.rules[87].opcodes[1]={type:1,children:[2,3,4]},this.rules[87].opcodes[2]={type:5,min:48,max:57},this.rules[87].opcodes[3]={type:5,min:65,max:70},this.rules[87].opcodes[4]={type:5,min:97,max:102},this.rules[88].opcodes=[],this.rules[88].opcodes[0]={type:2,children:[1,4]},this.rules[88].opcodes[1]={type:1,children:[2,3]},this.rules[88].opcodes[2]={type:5,min:97,max:122},this.rules[88].opcodes[3]={type:5,min:65,max:90},this.rules[88].opcodes[4]={type:3,min:0,max:1/0},this.rules[88].opcodes[5]={type:1,children:[6,7,8,9]},this.rules[88].opcodes[6]={type:5,min:97,max:122},this.rules[88].opcodes[7]={type:5,min:65,max:90},this.rules[88].opcodes[8]={type:5,min:48,max:57},this.rules[88].opcodes[9]={type:6,string:[45]},this.rules[89].opcodes=[],this.rules[89].opcodes[0]={type:3,min:0,max:1/0},this.rules[89].opcodes[1]={type:4,index:91},this.rules[90].opcodes=[],this.rules[90].opcodes[0]={type:3,min:1,max:1/0},this.rules[90].opcodes[1]={type:4,index:91},this.rules[91].opcodes=[],this.rules[91].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[91].opcodes[1]={type:6,string:[32]},this.rules[91].opcodes[2]={type:6,string:[9]},this.rules[91].opcodes[3]={type:4,index:92},this.rules[91].opcodes[4]={type:4,index:94},this.rules[92].opcodes=[],this.rules[92].opcodes[0]={type:2,children:[1,2]},this.rules[92].opcodes[1]={type:6,string:[59]},this.rules[92].opcodes[2]={type:3,min:0,max:1/0},this.rules[92].opcodes[3]={type:1,children:[4,5]},this.rules[92].opcodes[4]={type:5,min:32,max:126},this.rules[92].opcodes[5]={type:6,string:[9]},this.rules[93].opcodes=[],this.rules[93].opcodes[0]={type:1,children:[1,2,3]},this.rules[93].opcodes[1]={type:6,string:[13,10]},this.rules[93].opcodes[2]={type:6,string:[10]},this.rules[93].opcodes[3]={type:6,string:[13]},this.rules[94].opcodes=[],this.rules[94].opcodes[0]={type:2,children:[1,5]},this.rules[94].opcodes[1]={type:1,children:[2,3,4]},this.rules[94].opcodes[2]={type:6,string:[13,10]},this.rules[94].opcodes[3]={type:6,string:[10]},this.rules[94].opcodes[4]={type:6,string:[13]},this.rules[94].opcodes[5]={type:1,children:[6,7]},this.rules[94].opcodes[6]={type:6,string:[32]},this.rules[94].opcodes[7]={type:6,string:[9]},this.toString=function(){let e="";return e+=";\n",e+="; ABNF for JavaScript APG 2.0 SABNF\n",e+="; RFC 5234 with some restrictions and additions.\n",e+="; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation\n",e+=';  - accepts %s"string" as a case-sensitive string\n',e+=';  - accepts %i"string" as a case-insensitive string\n',e+=';  - accepts "string" as a case-insensitive string\n',e+=";\n",e+="; Some restrictions:\n",e+=";   1. Rules must begin at first character of each line.\n",e+=";      Indentations on first rule and rules thereafter are not allowed.\n",e+=";   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.\n",e+=";   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.\n",e+=";      However, a working parser cannot be generated from them.\n",e+=";\n",e+="; Super set (SABNF) additions:\n",e+=";   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.\n",e+=";      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found\n",e+=";      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found\n",e+=";      e.g. &%d13 or &rule or !(A / B)\n",e+=";   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.\n",e+=";      'name' is alpha followed by alpha/num/hyphen just like a rule name.\n",e+=";      u_name may be used as an element but no rule definition is given.\n",e+=";      e.g. rule = A / u_myUdt\n",e+=';           A = "a"\n',e+=";      would be a valid grammar.\n",e+=";   3. Case-sensitive, single-quoted strings are accepted.\n",e+=";      e.g. 'abc' would be equivalent to %d97.98.99\n",e+=';      (kept for backward compatibility, but superseded by %s"abc")  \n',e+="; New 12/26/2015\n",e+=";   4. Look-behind operators are accepted as element prefixes.\n",e+=";      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found\n",e+=";      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found\n",e+=";      e.g. &&%d13 or &&rule or !!(A / B)\n",e+=";   5. Back reference operators, i.e. \\rulename, are accepted.\n",e+=";      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts\n",e+=";      to match is a phrase previously matched by the rule 'rulename'.\n",e+=";      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.\n",e+=";      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.\n",e+=";      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.\n",e+=";      Back reference modifiers can be used to specify case and mode.\n",e+=";      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA\n",e+=";      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.\n",e+=";      Modifiers %u and %p determine universal mode and parent frame mode, respectively.\n",e+=";      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. \n",e+=";   7. String begin anchor, ABG(%^) matches the beginning of the input string location.\n",e+=";      Returns EMPTY or NOMATCH. Never consumes any characters.\n",e+=";   8. String end anchor, AEN(%$) matches the end of the input string location.\n",e+=";      Returns EMPTY or NOMATCH. Never consumes any characters.\n",e+=";\n",e+="File            = *(BlankLine / Rule / RuleError)\n",e+="BlankLine       = *(%d32/%d9) [comment] LineEnd\n",e+="Rule            = RuleLookup owsp Alternation ((owsp LineEnd)\n",e+="                / (LineEndError LineEnd))\n",e+="RuleLookup      = RuleNameTest owsp DefinedAsTest\n",e+="RuleNameTest    = RuleName/RuleNameError\n",e+="RuleName        = alphanum\n",e+="RuleNameError   = 1*(%d33-60/%d62-126)\n",e+="DefinedAsTest   = DefinedAs / DefinedAsError\n",e+="DefinedAsError  = 1*2%d33-126\n",e+="DefinedAs       = IncAlt / Defined\n",e+="Defined         = %d61\n",e+="IncAlt          = %d61.47\n",e+="RuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd\n",e+="LineEndError    = 1*(%d32-126 / %d9  / LineContinue)\n",e+="Alternation     = Concatenation *(owsp AltOp Concatenation)\n",e+="Concatenation   = Repetition *(CatOp Repetition)\n",e+="Repetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)\n",e+="Modifier        = (Predicate [RepOp])\n",e+="                / RepOp\n",e+="Predicate       = BkaOp\n",e+="                / BknOp\n",e+="                / AndOp\n",e+="                / NotOp\n",e+="BasicElement    = UdtOp\n",e+="                / RnmOp\n",e+="                / TrgOp\n",e+="                / TbsOp\n",e+="                / TlsOp\n",e+="                / ClsOp\n",e+="                / BkrOp\n",e+="                / AbgOp\n",e+="                / AenOp\n",e+="                / ProsVal\n",e+="BasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)\n",e+="Group           = GroupOpen  Alternation (GroupClose / GroupError)\n",e+="GroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\n",e+="GroupOpen       = %d40 owsp\n",e+="GroupClose      = owsp %d41\n",e+="Option          = OptionOpen Alternation (OptionClose / OptionError)\n",e+="OptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\n",e+="OptionOpen      = %d91 owsp\n",e+="OptionClose     = owsp %d93\n",e+="RnmOp           = alphanum\n",e+="BkrOp           = %d92 [bkrModifier] bkr-name\n",e+="bkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])\n",e+="cs              = '%s'\n",e+="ci              = '%i'\n",e+="um              = '%u'\n",e+="pm              = '%p'\n",e+="bkr-name        = uname / ename / rname\n",e+="rname           = alphanum\n",e+="uname           = %d117.95 alphanum\n",e+="ename           = %d101.95 alphanum\n",e+="UdtOp           = udt-empty\n",e+="                / udt-non-empty\n",e+="udt-non-empty   = %d117.95 alphanum\n",e+="udt-empty       = %d101.95 alphanum\n",e+="RepOp           = (rep-min StarOp rep-max)\n",e+="                / (rep-min StarOp)\n",e+="                / (StarOp rep-max)\n",e+="                / StarOp\n",e+="                / rep-min-max\n",e+="AltOp           = %d47 owsp\n",e+="CatOp           = wsp\n",e+="StarOp          = %d42\n",e+="AndOp           = %d38\n",e+="NotOp           = %d33\n",e+="BkaOp           = %d38.38\n",e+="BknOp           = %d33.33\n",e+="AbgOp           = %d37.94\n",e+="AenOp           = %d37.36\n",e+="TrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))\n",e+="TbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))\n",e+="TlsOp           = TlsCase TlsOpen TlsString TlsClose\n",e+='TlsCase         = ["%i" / "%s"]\n',e+="TlsOpen         = %d34\n",e+="TlsClose        = %d34\n",e+="TlsString       = *(%d32-33/%d35-126/StringTab)\n",e+="StringTab       = %d9\n",e+="ClsOp           = ClsOpen ClsString ClsClose\n",e+="ClsOpen         = %d39\n",e+="ClsClose        = %d39\n",e+="ClsString       = *(%d32-38/%d40-126/StringTab)\n",e+="ProsVal         = ProsValOpen ProsValString ProsValClose\n",e+="ProsValOpen     = %d60\n",e+="ProsValString   = *(%d32-61/%d63-126/StringTab)\n",e+="ProsValClose    = %d62\n",e+="rep-min         = rep-num\n",e+="rep-min-max     = rep-num\n",e+="rep-max         = rep-num\n",e+="rep-num         = 1*(%d48-57)\n",e+="dString         = dnum\n",e+="xString         = xnum\n",e+="bString         = bnum\n",e+="Dec             = (%d68/%d100)\n",e+="Hex             = (%d88/%d120)\n",e+="Bin             = (%d66/%d98)\n",e+="dmin            = dnum\n",e+="dmax            = dnum\n",e+="bmin            = bnum\n",e+="bmax            = bnum\n",e+="xmin            = xnum\n",e+="xmax            = xnum\n",e+="dnum            = 1*(%d48-57)\n",e+="bnum            = 1*%d48-49\n",e+="xnum            = 1*(%d48-57 / %d65-70 / %d97-102)\n",e+=";\n",e+="; Basics\n",e+="alphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)\n",e+="owsp            = *space\n",e+="wsp             = 1*space\n",e+="space           = %d32\n",e+="                / %d9\n",e+="                / comment\n",e+="                / LineContinue\n",e+="comment         = %d59 *(%d32-126 / %d9)\n",e+="LineEnd         = %d13.10\n",e+="                / %d10\n",e+="                / %d13\n",e+="LineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)\n",";\n; ABNF for JavaScript APG 2.0 SABNF\n; RFC 5234 with some restrictions and additions.\n; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation\n;  - accepts %s\"string\" as a case-sensitive string\n;  - accepts %i\"string\" as a case-insensitive string\n;  - accepts \"string\" as a case-insensitive string\n;\n; Some restrictions:\n;   1. Rules must begin at first character of each line.\n;      Indentations on first rule and rules thereafter are not allowed.\n;   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.\n;   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.\n;      However, a working parser cannot be generated from them.\n;\n; Super set (SABNF) additions:\n;   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.\n;      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found\n;      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found\n;      e.g. &%d13 or &rule or !(A / B)\n;   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.\n;      'name' is alpha followed by alpha/num/hyphen just like a rule name.\n;      u_name may be used as an element but no rule definition is given.\n;      e.g. rule = A / u_myUdt\n;           A = \"a\"\n;      would be a valid grammar.\n;   3. Case-sensitive, single-quoted strings are accepted.\n;      e.g. 'abc' would be equivalent to %d97.98.99\n;      (kept for backward compatibility, but superseded by %s\"abc\")  \n; New 12/26/2015\n;   4. Look-behind operators are accepted as element prefixes.\n;      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found\n;      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found\n;      e.g. &&%d13 or &&rule or !!(A / B)\n;   5. Back reference operators, i.e. \\rulename, are accepted.\n;      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts\n;      to match is a phrase previously matched by the rule 'rulename'.\n;      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.\n;      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.\n;      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.\n;      Back reference modifiers can be used to specify case and mode.\n;      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA\n;      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.\n;      Modifiers %u and %p determine universal mode and parent frame mode, respectively.\n;      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. \n;   7. String begin anchor, ABG(%^) matches the beginning of the input string location.\n;      Returns EMPTY or NOMATCH. Never consumes any characters.\n;   8. String end anchor, AEN(%$) matches the end of the input string location.\n;      Returns EMPTY or NOMATCH. Never consumes any characters.\n;\nFile            = *(BlankLine / Rule / RuleError)\nBlankLine       = *(%d32/%d9) [comment] LineEnd\nRule            = RuleLookup owsp Alternation ((owsp LineEnd)\n                / (LineEndError LineEnd))\nRuleLookup      = RuleNameTest owsp DefinedAsTest\nRuleNameTest    = RuleName/RuleNameError\nRuleName        = alphanum\nRuleNameError   = 1*(%d33-60/%d62-126)\nDefinedAsTest   = DefinedAs / DefinedAsError\nDefinedAsError  = 1*2%d33-126\nDefinedAs       = IncAlt / Defined\nDefined         = %d61\nIncAlt          = %d61.47\nRuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd\nLineEndError    = 1*(%d32-126 / %d9  / LineContinue)\nAlternation     = Concatenation *(owsp AltOp Concatenation)\nConcatenation   = Repetition *(CatOp Repetition)\nRepetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)\nModifier        = (Predicate [RepOp])\n                / RepOp\nPredicate       = BkaOp\n                / BknOp\n                / AndOp\n                / NotOp\nBasicElement    = UdtOp\n                / RnmOp\n                / TrgOp\n                / TbsOp\n                / TlsOp\n                / ClsOp\n                / BkrOp\n                / AbgOp\n                / AenOp\n                / ProsVal\nBasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)\nGroup           = GroupOpen  Alternation (GroupClose / GroupError)\nGroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\nGroupOpen       = %d40 owsp\nGroupClose      = owsp %d41\nOption          = OptionOpen Alternation (OptionClose / OptionError)\nOptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\nOptionOpen      = %d91 owsp\nOptionClose     = owsp %d93\nRnmOp           = alphanum\nBkrOp           = %d92 [bkrModifier] bkr-name\nbkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])\ncs              = '%s'\nci              = '%i'\num              = '%u'\npm              = '%p'\nbkr-name        = uname / ename / rname\nrname           = alphanum\nuname           = %d117.95 alphanum\nename           = %d101.95 alphanum\nUdtOp           = udt-empty\n                / udt-non-empty\nudt-non-empty   = %d117.95 alphanum\nudt-empty       = %d101.95 alphanum\nRepOp           = (rep-min StarOp rep-max)\n                / (rep-min StarOp)\n                / (StarOp rep-max)\n                / StarOp\n                / rep-min-max\nAltOp           = %d47 owsp\nCatOp           = wsp\nStarOp          = %d42\nAndOp           = %d38\nNotOp           = %d33\nBkaOp           = %d38.38\nBknOp           = %d33.33\nAbgOp           = %d37.94\nAenOp           = %d37.36\nTrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))\nTbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))\nTlsOp           = TlsCase TlsOpen TlsString TlsClose\nTlsCase         = [\"%i\" / \"%s\"]\nTlsOpen         = %d34\nTlsClose        = %d34\nTlsString       = *(%d32-33/%d35-126/StringTab)\nStringTab       = %d9\nClsOp           = ClsOpen ClsString ClsClose\nClsOpen         = %d39\nClsClose        = %d39\nClsString       = *(%d32-38/%d40-126/StringTab)\nProsVal         = ProsValOpen ProsValString ProsValClose\nProsValOpen     = %d60\nProsValString   = *(%d32-61/%d63-126/StringTab)\nProsValClose    = %d62\nrep-min         = rep-num\nrep-min-max     = rep-num\nrep-max         = rep-num\nrep-num         = 1*(%d48-57)\ndString         = dnum\nxString         = xnum\nbString         = bnum\nDec             = (%d68/%d100)\nHex             = (%d88/%d120)\nBin             = (%d66/%d98)\ndmin            = dnum\ndmax            = dnum\nbmin            = bnum\nbmax            = bnum\nxmin            = xnum\nxmax            = xnum\ndnum            = 1*(%d48-57)\nbnum            = 1*%d48-49\nxnum            = 1*(%d48-57 / %d65-70 / %d97-102)\n;\n; Basics\nalphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)\nowsp            = *space\nwsp             = 1*space\nspace           = %d32\n                / %d9\n                / comment\n                / LineContinue\ncomment         = %d59 *(%d32-126 / %d9)\nLineEnd         = %d13.10\n                / %d10\n                / %d13\nLineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)\n"}}},{}],32:[function(e,t,r){"use strict";let n=e("../apg-lib/node-exports.js"),s=n.ids;let i=[];i.line=function(e,t,r,n,i){return e==s.SEM_PRE?(i.endLength=0,i.textLength=0,i.invalidCount=0):i.lines.push({lineNo:i.lines.length,beginChar:r,length:n,textLength:i.textLength,endType:i.endType,invalidChars:i.invalidCount}),s.SEM_OK},i["line-text"]=function(e,t,r,n,i){return e==s.SEM_PRE&&(i.textLength=n),s.SEM_OK},i["last-line"]=function(e,t,r,n,i){return e==s.SEM_PRE?(i.endLength=0,i.textLength=0,i.invalidCount=0):i.strict?(i.lines.push({lineNo:i.lines.length,beginChar:r,length:n,textLength:n,endType:"none",invalidChars:i.invalidCount}),i.errors.push({line:i.lineNo,char:r+n,msg:"no line end on last line - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})):(t.push(10),i.lines.push({lineNo:i.lines.length,beginChar:r,length:n+1,textLength:n,endType:"LF",invalidChars:i.invalidCount})),s.SEM_OK},i.invalid=function(e,t,r,i,o){return e==s.SEM_PRE&&o.errors.push({line:o.lineNo,char:r,msg:"invalid character found '\\x"+n.utils.charToHex(t[r])+"'"}),s.SEM_OK},i.end=function(e,t,r,n,i){return e==s.SEM_POST&&(i.lineNo+=1),s.SEM_OK},i.lf=function(e,t,r,n,i){return e==s.SEM_PRE&&(i.endType="LF",i.strict&&i.errors.push({line:i.lineNo,char:r,msg:"line end character LF(\\n, \\x0A) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),s.SEM_OK},i.cr=function(e,t,r,n,i){return e==s.SEM_PRE&&(i.endType="CR",i.strict&&i.errors.push({line:i.lineNo,char:r,msg:"line end character CR(\\r, \\x0D) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),s.SEM_OK},i.crlf=function(e,t,r,n,i){return e==s.SEM_PRE&&(i.endType="CRLF"),s.SEM_OK},r.callbacks=i},{"../apg-lib/node-exports.js":46}],33:[function(e,t,r){t.exports=function(){"use strict";this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"file",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"line",lower:"line",index:1,isBkr:!1},this.rules[2]={name:"line-text",lower:"line-text",index:2,isBkr:!1},this.rules[3]={name:"last-line",lower:"last-line",index:3,isBkr:!1},this.rules[4]={name:"valid",lower:"valid",index:4,isBkr:!1},this.rules[5]={name:"invalid",lower:"invalid",index:5,isBkr:!1},this.rules[6]={name:"end",lower:"end",index:6,isBkr:!1},this.rules[7]={name:"CRLF",lower:"crlf",index:7,isBkr:!1},this.rules[8]={name:"LF",lower:"lf",index:8,isBkr:!1},this.rules[9]={name:"CR",lower:"cr",index:9,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:2,children:[1,3]},this.rules[0].opcodes[1]={type:3,min:0,max:1/0},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:3,min:0,max:1},this.rules[0].opcodes[4]={type:4,index:3},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,2]},this.rules[1].opcodes[1]={type:4,index:2},this.rules[1].opcodes[2]={type:4,index:6},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:3,min:0,max:1/0},this.rules[2].opcodes[1]={type:1,children:[2,3]},this.rules[2].opcodes[2]={type:4,index:4},this.rules[2].opcodes[3]={type:4,index:5},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:3,min:1,max:1/0},this.rules[3].opcodes[1]={type:1,children:[2,3]},this.rules[3].opcodes[2]={type:4,index:4},this.rules[3].opcodes[3]={type:4,index:5},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:5,min:32,max:126},this.rules[4].opcodes[2]={type:6,string:[9]},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[5].opcodes[1]={type:5,min:0,max:8},this.rules[5].opcodes[2]={type:5,min:11,max:12},this.rules[5].opcodes[3]={type:5,min:14,max:31},this.rules[5].opcodes[4]={type:5,min:127,max:4294967295},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:1,children:[1,2,3]},this.rules[6].opcodes[1]={type:4,index:7},this.rules[6].opcodes[2]={type:4,index:8},this.rules[6].opcodes[3]={type:4,index:9},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:6,string:[13,10]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:6,string:[10]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:6,string:[13]},this.toString=function(){let e="";return e+="file = *line [last-line]\n",e+="line = line-text end\n",e+="line-text = *(valid/invalid)\n",e+="last-line = 1*(valid/invalid)\n",e+="valid = %d32-126 / %d9\n",e+="invalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffffffff\n",e+="end = CRLF / LF / CR\n",e+="CRLF = %d13.10\n",e+="LF = %d10\n",e+="CR = %d13\n","file = *line [last-line]\nline = line-text end\nline-text = *(valid/invalid)\nlast-line = 1*(valid/invalid)\nvalid = %d32-126 / %d9\ninvalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffffffff\nend = CRLF / LF / CR\nCRLF = %d13.10\nLF = %d10\nCR = %d13\n"}}},{}],34:[function(e,t,r){t.exports=function(t,r,n,s){"use strict";let i=e("../apg-lib/node-exports.js"),o=new(e("./scanner-grammar.js")),a=e("./scanner-callbacks").callbacks,l=[],c=new i.parser;if(c.ast=new i.ast,c.ast.callbacks=a,s){if("traceObject"!==s.traceObject)throw new TypError("scanner.js: trace argument is not a trace object");c.trace=s}if(!0!==c.parse(o,"file",t).success)return void r.push({line:0,char:0,msg:"syntax analysis error analyzing input SABNF grammar"});let u={lines:l,lineNo:0,errors:r,strict:!!n};return c.ast.translate(u),l}},{"../apg-lib/node-exports.js":46,"./scanner-callbacks":32,"./scanner-grammar.js":33}],35:[function(e,t,r){t.exports=function(t){"use strict";let r=e("../apg-lib/node-exports.js"),n=r.ids,s=function(){this.names=[],this.add=function(e){let t=-1;return-1===this.get(e)&&(t={name:e,lower:e.toLowerCase(),index:this.names.length},this.names.push(t)),t},this.get=function(e){let t=-1,r=e.toLowerCase();for(let e=0;e<this.names.length;e+=1)if(this.names[e].lower===r){t=this.names[e];break}return t}},i=function(e,t,r){let n=0;for(let s=t;s<t+r;s+=1)n=10*n+e[s]-48;return n},o=function(e,t,r){let n=0;for(let s=t;s<t+r;s+=1)n=2*n+e[s]-48;return n},a=function(e,t,r){let n=0;for(let s=t;s<t+r;s+=1){let t=e[s];if(t>=48&&t<=57)t-=48;else if(t>=65&&t<=70)t-=55;else{if(!(t>=97&&t<=102))throw"hexnum out of range";t-=87}n=16*n+t}return n};this.callbacks=[],this.callbacks.abgop=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&i.opcodes.push({type:n.ABG}),o},this.callbacks.aenop=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&i.opcodes.push({type:n.AEN}),o},this.callbacks.alternation=function(e,t,r,s,i){let o=n.SEM_OK;if(e==n.SEM_PRE)for(;;){if(null===i.definedas){o=n.SEM_SKIP;break}if(null===i.topStack){if("="===i.definedas){i.topStack={alt:{type:n.ALT,children:[]},cat:null},i.altStack.push(i.topStack),i.opcodes.push(i.topStack.alt);break}i.topStack={alt:i.opcodes[0],cat:null},i.altStack.push(i.topStack);break}i.topStack={alt:{type:n.ALT,children:[]},cat:null},i.altStack.push(i.topStack),i.opcodes.push(i.topStack.alt);break}else e==n.SEM_POST&&(i.altStack.pop(),i.altStack.length>0?i.topStack=i.altStack[i.altStack.length-1]:i.topStack=null);return o},this.callbacks.andop=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&i.opcodes.push({type:n.AND}),o},this.callbacks.bmax=function(e,t,r,s,i){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.max=o(t,r,s)),a},this.callbacks.bmin=function(e,t,r,s,i){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.min=o(t,r,s)),a},this.callbacks.bkaop=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&i.opcodes.push({type:n.BKA}),o},this.callbacks.bknop=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&i.opcodes.push({type:n.BKN}),o},this.callbacks.bkrop=function(e,t,s,i,o){let a=n.SEM_OK;return e==n.SEM_PRE?(o.ci=!0,o.cs=!1,o.um=!0,o.pm=!1):e==n.SEM_POST&&o.opcodes.push({type:n.BKR,bkrCase:!0===o.cs?n.BKR_MODE_CS:n.BKR_MODE_CI,bkrMode:!0===o.pm?n.BKR_MODE_PM:n.BKR_MODE_UM,index:{phraseIndex:o.bkrname.phraseIndex,name:r.utils.charsToString(t,o.bkrname.phraseIndex,o.bkrname.phraseLength)}}),a},this.callbacks["bkr-name"]=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.bkrname={phraseIndex:r,phraseLength:s}),o},this.callbacks.bstring=function(e,t,r,s,i){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&i.tbsstr.push(o(t,r,s)),a},this.callbacks.clsop=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(s<=2?i.opcodes.push({type:n.TLS,string:[]}):i.opcodes.push({type:n.TBS,string:t.slice(r+1,r+s-1)})),o},this.callbacks.ci=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.ci=!0),o},this.callbacks.cs=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.cs=!0),o},this.callbacks.um=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.um=!0),o},this.callbacks.pm=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.pm=!0),o},this.callbacks.concatenation=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE?(i.topStack.alt.children.push(i.opcodes.length),i.topStack.cat={type:n.CAT,children:[]},i.opcodes.push(i.topStack.cat)):e==n.SEM_POST&&(i.topStack.cat=null),o},this.callbacks.defined=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.definedas="="),o},this.callbacks.dmax=function(e,t,r,s,o){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.max=i(t,r,s)),a},this.callbacks.dmin=function(e,t,r,s,o){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.min=i(t,r,s)),a},this.callbacks.dstring=function(e,t,r,s,o){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&o.tbsstr.push(i(t,r,s)),a},this.callbacks.file=function(e,t,r,i,o){let a=n.SEM_OK;if(e==n.SEM_PRE)o.ruleNames=new s,o.udtNames=new s,o.rules=[],o.udts=[],o.rulesLineMap=[],o.opcodes=[],o.altStack=[],o.topStack=null,o.topRule=null;else if(e==n.SEM_POST){let e;o.rules.forEach((function(t,r){t.isBkr=!1,t.opcodes.forEach((function(t,r){t.type===n.RNM&&(e=o.ruleNames.get(t.index.name),-1===e?(o.errors.push({line:o.findLine(o.lines,t.index.phraseIndex,o.charsLength),char:t.index.phraseIndex,msg:"Rule name '"+t.index.name+"' used but not defined."}),t.index=-1):t.index=e.index)}))})),o.udts.forEach((function(e){e.isBkr=!1})),o.rules.forEach((function(t,r){t.opcodes.forEach((function(r,s){r.type===n.BKR&&(t.hasBkr=!0,e=o.ruleNames.get(r.index.name),-1!==e?(o.rules[e.index].isBkr=!0,r.index=e.index):(e=o.udtNames.get(r.index.name),-1!==e?(o.udts[e.index].isBkr=!0,r.index=o.rules.length+e.index):(o.errors.push({line:o.findLine(o.lines,r.index.phraseIndex,o.charsLength),char:r.index.phraseIndex,msg:"Back reference name '"+r.index.name+"' refers to undefined rule or unamed UDT."}),r.index=-1)))}))}))}return a},this.callbacks.incalt=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.definedas="=/"),o},this.callbacks.notop=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&i.opcodes.push({type:n.NOT}),o},this.callbacks.optionopen=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&i.opcodes.push({type:n.REP,min:0,max:1,char:r}),o},this.callbacks["rep-max"]=function(e,t,r,s,o){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.max=i(t,r,s)),a},this.callbacks["rep-min"]=function(e,t,r,s,o){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.min=i(t,r,s)),a},this.callbacks["rep-min-max"]=function(e,t,r,s,o){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(o.max=i(t,r,s),o.min=o.max),a},this.callbacks.repetition=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE?i.topStack.cat.children.push(i.opcodes.length):n.SEM_POST,o},this.callbacks.repop=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE?(i.min=0,i.max=1/0,i.topRep={type:n.REP,min:0,max:1/0},i.opcodes.push(i.topRep)):e==n.SEM_POST&&(i.min>i.max&&i.errors.push({line:i.findLine(i.lines,r,i.charsLength),char:r,msg:"repetition min cannot be greater than max: min: "+i.min+": max: "+i.max}),i.topRep.min=i.min,i.topRep.max=i.max),o},this.callbacks.rnmop=function(e,t,s,i,o){let a=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&o.opcodes.push({type:n.RNM,index:{phraseIndex:s,name:r.utils.charsToString(t,s,i)}}),a},this.callbacks.rule=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE?(i.altStack.length=0,i.topStack=null,i.rulesLineMap.push({line:i.findLine(i.lines,r,i.charsLength),char:r})):n.SEM_POST,o},this.callbacks.rulelookup=function(e,t,r,s,i){let o=n.SEM_OK;if(e==n.SEM_PRE)i.ruleName="",i.definedas="";else if(e==n.SEM_POST){let e;"="===i.definedas?(e=i.ruleNames.add(i.ruleName),-1===e?(i.definedas=null,i.errors.push({line:i.findLine(i.lines,r,i.charsLength),char:r,msg:"Rule name '"+i.ruleName+"' previously defined."})):(i.topRule={name:e.name,lower:e.lower,opcodes:[],index:e.index},i.rules.push(i.topRule),i.opcodes=i.topRule.opcodes)):(e=i.ruleNames.get(i.ruleName),-1===e?(i.definedas=null,i.errors.push({line:i.findLine(i.lines,r,i.charsLength),char:r,msg:"Rule name '"+i.ruleName+"' for incremental alternate not previously defined."})):(i.topRule=i.rules[e.index],i.opcodes=i.topRule.opcodes))}return o},this.callbacks.rulename=function(e,t,s,i,o){let a=n.SEM_OK;return e==n.SEM_PRE?o.ruleName=r.utils.charsToString(t,s,i):n.SEM_POST,a},this.callbacks.tbsop=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE?i.tbsstr=[]:e==n.SEM_POST&&i.opcodes.push({type:n.TBS,string:i.tbsstr}),o},this.callbacks.tlscase=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&s>0&&(83===t[r+1]||115===t[r+1])&&(i.tlscase=!1),o},this.callbacks.tlsstring=function(e,t,r,s,i){let o=n.SEM_OK;if(e==n.SEM_PRE);else if(e==n.SEM_POST)if(i.tlscase){let e=t.slice(r,r+s);for(let t=0;t<e.length;t+=1)e[t]>=65&&e[t]<=90&&(e[t]+=32);i.opcodes.push({type:n.TLS,string:e})}else i.opcodes.push({type:n.TBS,string:t.slice(r,r+s)});return o},this.callbacks.tlsop=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE?i.tlscase=!0:n.SEM_POST,o},this.callbacks.trgop=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE?(i.min=0,i.max=0):e==n.SEM_POST&&(i.min>i.max&&i.errors.push({line:i.findLine(i.lines,r,i.charsLength),char:r,msg:"TRG, (%dmin-max), min cannot be greater than max: min: "+i.min+": max: "+i.max}),i.opcodes.push({type:n.TRG,min:i.min,max:i.max})),o},this.callbacks["udt-empty"]=function(e,t,s,i,o){let a=n.SEM_OK;if(e==n.SEM_PRE);else if(e==n.SEM_POST){let e=r.utils.charsToString(t,s,i),a=o.udtNames.add(e);if(-1===a){if(a=o.udtNames.get(e),-1===a)throw new Error("semUdtEmpty: name look up error")}else o.udts.push({name:a.name,lower:a.lower,index:a.index,empty:!0});o.opcodes.push({type:n.UDT,empty:!0,index:a.index})}return a},this.callbacks["udt-non-empty"]=function(e,t,s,i,o){let a=n.SEM_OK;if(e==n.SEM_PRE);else if(e==n.SEM_POST){let e=r.utils.charsToString(t,s,i),a=o.udtNames.add(e);if(-1===a){if(a=o.udtNames.get(e),-1===a)throw new Error("semUdtNonEmpty: name look up error")}else o.udts.push({name:a.name,lower:a.lower,index:a.index,empty:!1});o.opcodes.push({type:n.UDT,empty:!1,index:a.index,syntax:null,semantic:null})}return a},this.callbacks.xmax=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.max=a(t,r,s)),o},this.callbacks.xmin=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&(i.min=a(t,r,s)),o},this.callbacks.xstring=function(e,t,r,s,i){let o=n.SEM_OK;return e==n.SEM_PRE||e==n.SEM_POST&&i.tbsstr.push(a(t,r,s)),o}}},{"../apg-lib/node-exports.js":46}],36:[function(e,t,r){t.exports=function(e=[],t=[],r="index"){if(thisFuncName="showRules",!Array.isArray(e)||!e.length)throw new Error("show-rules.js:"+thisFuncName+": rules arg must be array with length > 0");if(!Array.isArray(t))throw new Error("show-rules.js:"+thisFuncName+": udts arg must be array");let n=[],s=[],i=[],o=[];rules=e,udts=t,ruleCount=e.length,udtCount=t.length;let a,l="RULE/UDT NAMES";for(a=0;a<ruleCount;a++)n.push(a);if(s=n.slice(0),s.sort((function(e,t){return rules[e].lower<rules[t].lower?-1:rules[e].lower>rules[t].lower?1:0})),udtCount){for(a=0;a<udtCount;a++)i.push(a);o=i.slice(0),o.sort((function(e,t){return udts[e].lower<udts[t].lower?-1:udts[e].lower>udts[t].lower?1:0}))}if(97===r.charCodeAt(0)){for(l+=" - alphabetical by rule/UDT name\n",a=0;a<ruleCount;a++)l+=a+": "+s[a]+": "+rules[s[a]].name+"\n";if(udtCount)for(a=0;a<udtCount;a++)l+=a+": "+o[a]+": "+udts[o[a]].name+"\n"}else{for(l+=" - ordered by rule/UDT index\n",a=0;a<ruleCount;a++)l+=a+": "+rules[a].name+"\n";if(udtCount)for(a=0;a<udtCount;a++)l+=a+": "+udts[a].name+"\n"}return l}},{}],37:[function(e,t,r){t.exports=function(){"use strict";let t,r="syntax-callbacks.js: ",n=e("../apg-lib/node-exports.js"),s=n.ids;this.callbacks=[],this.callbacks.andop=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"AND operator(&) found - strict ABNF specified."})}},this.callbacks.basicelementerr=function(e,r,n,i){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:!1===t.basicError&&i.errors.push({line:i.findLine(i.lines,n,i.charsLength),char:n,msg:"Unrecognized SABNF element."})}},this.callbacks.clsclose=function(e,r,n,i){switch(e.state){case s.ACTIVE:case s.EMPTY:break;case s.NOMATCH:i.errors.push({line:i.findLine(i.lines,t.clsOpen),char:t.clsOpen,msg:"Case-sensitive literal string('...') opened but not closed."}),t.clsOpen=null,t.basicError=!0;break;case s.MATCH:i.strict&&i.errors.push({line:i.findLine(i.lines,t.clsOpen),char:t.clsOpen,msg:"Case-sensitive string operator('...') found - strict ABNF specified."}),t.clsOpen=null}},this.callbacks.clsopen=function(e,r,n,i){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:t.clsOpen=n}},this.callbacks.clsstring=function(e,t,r,n){switch(e.state){case s.ACTIVE:n.stringTabChar=!1;break;case s.EMPTY:case s.NOMATCH:break;case s.MATCH:!1!==n.stringTabChar&&n.errors.push({line:n.findLine(n.lines,n.stringTabChar),char:n.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string."})}},this.callbacks.definedaserror=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Expected '=' or '=/'. Not found."})}},this.callbacks.file=function(e,t,n,i){switch(e.state){case s.ACTIVE:i.altStack=[],i.repCount=0;break;case s.EMPTY:i.errors.push({line:0,char:0,msg:"grammar file is empty"});break;case s.MATCH:0===i.ruleCount&&i.errors.push({line:0,char:0,msg:"no rules defined"});break;case s.NOMATCH:throw new Error(r+"synFile: grammar file NOMATCH: design error: should never happen.")}},this.callbacks.groupclose=function(e,r,n,i){switch(e.state){case s.ACTIVE:case s.EMPTY:break;case s.NOMATCH:i.errors.push({line:i.findLine(i.lines,t.groupOpen),char:t.groupOpen,msg:'Group "(...)" opened but not closed.'}),t=i.altStack.pop(),t.groupError=!0;break;case s.MATCH:t=i.altStack.pop()}},this.callbacks.groupopen=function(e,r,n,i){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:t={groupOpen:n,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},i.altStack.push(t)}},this.callbacks.lineenderror=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Unrecognized grammar element or characters."})}},this.callbacks.lineend=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:if(1===e.phraseLength&&n.strict){let e=13===t[r]?"CR":"LF";n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Line end '"+e+"' found - strict ABNF specified, only CRLF allowed."})}}},this.callbacks.notop=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"NOT operator(!) found - strict ABNF specified."})}},this.callbacks.optionclose=function(e,r,n,i){switch(e.state){case s.ACTIVE:case s.EMPTY:break;case s.NOMATCH:i.errors.push({line:i.findLine(i.lines,t.optionOpen),char:t.optionOpen,msg:'Option "[...]" opened but not closed.'}),t=i.altStack.pop(),t.optionError=!0;break;case s.MATCH:t=i.altStack.pop()}},this.callbacks.optionopen=function(e,r,n,i){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:t={groupOpen:null,groupError:!1,optionOpen:n,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},i.altStack.push(t)}},this.callbacks.prosvalclose=function(e,r,n,i){switch(e.state){case s.ACTIVE:case s.EMPTY:break;case s.NOMATCH:i.errors.push({line:i.findLine(i.lines,t.prosValOpen),char:t.prosValOpen,msg:"Prose value operator(<...>) opened but not closed."}),t.basicError=!0,t.prosValOpen=null;break;case s.MATCH:i.errors.push({line:i.findLine(i.lines,t.prosValOpen),char:t.prosValOpen,msg:"Prose value operator(<...>) found. The ABNF syntax is valid, but a parser cannot be generated from this grammar."}),t.prosValOpen=null}},this.callbacks.prosvalopen=function(e,r,n,i){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:t.prosValOpen=n}},this.callbacks.prosvalstring=function(e,t,r,n){switch(e.state){case s.ACTIVE:n.stringTabChar=!1;break;case s.EMPTY:case s.NOMATCH:break;case s.MATCH:!1!==n.stringTabChar&&n.errors.push({line:n.findLine(n.lines,n.stringTabChar),char:n.stringTabChar,msg:"Tab character (\\t, x09) not allowed in prose value string."})}},this.callbacks.repetition=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:break;case s.NOMATCH:case s.MATCH:n.repCount+=1}},this.callbacks.rule=function(e,n,i,o){switch(e.state){case s.ACTIVE:o.altStack.length=0,t={groupOpen:null,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},o.altStack.push(t);break;case s.EMPTY:throw new Error(r+"synRule: EMPTY: rule cannot be empty");case s.NOMATCH:break;case s.MATCH:o.ruleCount+=1}},this.callbacks.ruleerror=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Unrecognized SABNF line. Invalid rule, comment or blank line."})}},this.callbacks.rulenameerror=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Rule names must be alphanum and begin with alphabetic character."})}},this.callbacks.stringtab=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.stringTabChar=r}},this.callbacks.tlsclose=function(e,r,n,i){switch(e.state){case s.ACTIVE:case s.EMPTY:break;case s.NOMATCH:i.errors.push({line:i.findLine(i.lines,t.tlsOpen),char:t.tlsOpen,msg:'Case-insensitive literal string("...") opened but not closed.'}),t.basicError=!0,t.tlsOpen=null;break;case s.MATCH:t.tlsOpen=null}},this.callbacks.tlsopen=function(e,r,n,i){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:t.tlsOpen=n}},this.callbacks.tlsstring=function(e,t,r,n){switch(e.state){case s.ACTIVE:n.stringTabChar=!1;break;case s.EMPTY:case s.NOMATCH:break;case s.MATCH:!1!==n.stringTabChar&&n.errors.push({line:n.findLine(n.lines,n.stringTabChar),char:n.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string (see 'quoted-string' definition, RFC 7405.)"})}},this.callbacks.udtop=function(e,t,r,i){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:if(i.strict){let s=n.utils.charsToString(t,r,e.phraseLength);i.errors.push({line:i.findLine(i.lines,r,i.charsLength),char:r,msg:"UDT operator found("+s+") - strict ABNF specified."})}}},this.callbacks.bkaop=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Positive look-behind operator(&&) found - strict ABNF specified."})}},this.callbacks.bknop=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Negative look-behind operator(!!) found - strict ABNF specified."})}},this.callbacks.bkrop=function(e,t,r,i){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:if(i.strict){let s=n.utils.charsToString(t,r,e.phraseLength);i.errors.push({line:i.findLine(i.lines,r,i.charsLength),char:r,msg:"Back reference operator("+s+") found - strict ABNF specified."})}}},this.callbacks.abgop=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"Beginning of string anchor(%^) found - strict ABNF specified."})}},this.callbacks.aenop=function(e,t,r,n){switch(e.state){case s.ACTIVE:case s.EMPTY:case s.NOMATCH:break;case s.MATCH:n.strict&&n.errors.push({line:n.findLine(n.lines,r,n.charsLength),char:r,msg:"End of string anchor(%$) found - strict ABNF specified."})}}}},{"../apg-lib/node-exports.js":46}],38:[function(e,t,r){globalThis.apgApi=e("./api.js"),globalThis.apgLib=e("../apg-lib/node-exports.js"),globalThis.apgConvApi=e("../apg-conv-api/node-exports.js")},{"../apg-conv-api/node-exports.js":40,"../apg-lib/node-exports.js":46,"./api.js":26}],39:[function(e,t,r){(function(t){(function(){let n=this,s=e("./transformers.js"),i="UTF8",o="UTF16",a="UTF16BE",l="UTF16LE",c="UTF32",u="UTF32BE",p="UTF32LE",h="UINT7",d="ASCII",f="BINARY",g="UINT8",y="UINT16",m="UINT16LE",b="UINT16BE",A="UINT32",E="UINT32LE",T="UINT32BE",x="ESCAPED",w="STRING",S=function(e,r){if("string"!=typeof e||""===e)throw new TypeError('type: "'+e+'" not recognized');let n=function(e){let t={type:"",base64:!1},r=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(e);return r&&(r[2]&&(t.type=r[2].toUpperCase()),r[1]&&(t.base64=!0)),t}(e.toUpperCase());if(n.base64){if(n.type===w)throw new TypeError('type: "'+e+' "BASE64:" prefix not allowed with type '+w);if(t.isBuffer(r))n.data=s.base64.decode(r);else{if("string"!=typeof r)throw new TypeError('type: "'+e+" unrecognized data type: typeof(data): "+typeof r);{let e=t.from(r,"ascii");n.data=s.base64.decode(e)}}}else n.data=r;switch(n.type){case i:!function(e){e.type=i;let t=e.data;e.bom=0,t.length>=3&&239===t[0]&&187===t[1]&&191===t[2]&&(e.bom=3)}(n);break;case o:case a:case l:!function(e){let t=e.data;switch(e.bom=0,e.type){case o:e.type=a,t.length>=2&&(254===t[0]&&255===t[1]?e.bom=2:255===t[0]&&254===t[1]&&(e.type=l,e.bom=2));break;case a:if(e.type=a,t.length>=2)if(254===t[0]&&255===t[1])e.bom=2;else if(255===t[0]&&254===t[1])throw new TypeError('src type: "UTF16BE" specified but BOM is for "UTF16LE"');break;case l:if(e.type=l,t.length>=0){if(254===t[0]&&255===t[1])throw new TypeError('src type: "UTF16LE" specified but BOM is for "UTF16BE"');255===t[0]&&254===t[1]&&(e.bom=2)}break;default:throw new TypeError('UTF16 BOM: src type "'+e.type+'" unrecognized')}}(n);break;case c:case u:case p:!function(e){let t=e.data;switch(e.bom=0,e.type){case c:e.type=u,t.length>=4&&(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3]&&(e.bom=4),255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]&&(e.type=p,e.bom=4));break;case u:if(e.type=u,t.length>=4&&(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3]&&(e.bom=4),255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]))throw new TypeError('src type: UTF32BE specified but BOM is for UTF32LE"');break;case p:if(e.type=p,t.length>=4){if(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3])throw new TypeError('src type: "UTF32LE" specified but BOM is for "UTF32BE"');255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]&&(e.bom=4)}break;default:throw new TypeError('UTF32 BOM: src type "'+e.type+'" unrecognized')}}(n);break;case y:n.type=b;break;case A:n.type=T;break;case d:n.type=h;break;case f:n.type=g;break;case h:case g:case m:case b:case E:case T:case w:case x:break;default:throw new TypeError('type: "'+e+'" not recognized')}if(n.type===w){if("string"!=typeof n.data)throw new TypeError('type: "'+e+'" but data is not a string')}else if(!t.isBuffer(n.data))throw new TypeError('type: "'+e+'" but data is not a Buffer');return n},k=function(e,t){switch(e){case i:return s.utf8.encode(t);case a:return s.utf16be.encode(t);case l:return s.utf16le.encode(t);case u:return s.utf32be.encode(t);case p:return s.utf32le.encode(t);case h:return s.uint7.encode(t);case g:return s.uint8.encode(t);case b:return s.uint16be.encode(t);case m:return s.uint16le.encode(t);case T:return s.uint32be.encode(t);case E:return s.uint32le.encode(t);case w:return s.string.encode(t);case x:return s.escaped.encode(t);default:throw new TypeError('encode type "'+e+'" not recognized')}};r.decode=function(e,t){return function(e){switch(e.type){case i:return s.utf8.decode(e.data,e.bom);case l:return s.utf16le.decode(e.data,e.bom);case a:return s.utf16be.decode(e.data,e.bom);case u:return s.utf32be.decode(e.data,e.bom);case p:return s.utf32le.decode(e.data,e.bom);case h:return s.uint7.decode(e.data);case g:return s.uint8.decode(e.data);case b:return s.uint16be.decode(e.data);case m:return s.uint16le.decode(e.data);case T:return s.uint32be.decode(e.data);case E:return s.uint32le.decode(e.data);case w:return s.string.decode(e.data);case x:return s.escaped.decode(e.data);default:throw new TypeError('decode type "'+e.type+'" not recognized')}}(S(e,t))},r.encode=function(e,t){let r,n,S=function(e,t){if(!Array.isArray(t))throw new TypeError('dst chars: not array: "'+typeof t);if("string"!=typeof e)throw new TypeError('dst type: not string: "'+typeof e);switch(ret=function(e){let t,r,n={crlf:!1,lf:!1,base64:!1,type:""};for(;;){if(r=e,t=e.slice(0,5),"CRLF:"===t){n.crlf=!0,r=e.slice(5);break}if(t=e.slice(0,3),"LF:"===t){n.lf=!0,r=e.slice(3);break}break}return t=r.split(":"),1===t.length?n.type=t[0]:2===t.length&&"BASE64"===t[1]&&(n.base64=!0,n.type=t[0]),n}(e.toUpperCase()),ret.type){case i:case a:case l:case u:case p:case h:case g:case m:case b:case E:case T:case x:break;case w:if(ret.base64)throw new TypeError('":BASE64" suffix not allowed with type STRING');break;case d:ret.type=h;break;case f:ret.type=g;break;case o:ret.type=a;break;case c:ret.type=u;break;case y:ret.type=b;break;case A:ret.type=T;break;default:throw new TypeError('dst type unrecognized: "'+e+'" : must have form [crlf:|lf:]type[:base64]')}return ret}(e,t);return S.crlf?(r=s.lineEnds.crlf(t),n=k(S.type,r)):S.lf?(r=s.lineEnds.lf(t),n=k(S.type,r)):n=k(S.type,t),S.base64&&(n=s.base64.encode(n)),n},r.convert=function(e,t,r){return n.encode(r,n.decode(e,t))}}).call(this)}).call(this,e("buffer").Buffer)},{"./transformers.js":41,buffer:4}],40:[function(e,t,r){t.exports={converter:e("./converter.js"),transformers:e("./transformers.js")}},{"./converter.js":39,"./transformers.js":41}],41:[function(e,t,r){(function(e){(function(){let t=this,n=4294967292,s=4294967293,i=4294967294,o=4294967295,a=[0,1,3,7,15,31,63,127,255,511,1023],l=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),u=[];c.forEach((function(e){u.push(e.charCodeAt(0))})),r.utf8={encode:function(t){let r=[];return t.forEach((function(e){if(e>=0&&e<=127)r.push(e);else if(e<=2047)r.push(192+(e>>6&a[5])),r.push(128+(e&a[6]));else if(e<55296||e>57343&&e<=65535)r.push(224+(e>>12&a[4])),r.push(128+(e>>6&a[6])),r.push(128+(e&a[6]));else{if(!(e>=65536&&e<=1114111))throw new RangeError("utf8.encode: character out of range: char: "+e);{let t=e>>16&a[5];r.push(240+(t>>2)),r.push(128+((t&a[2])<<4)+(e>>12&a[4])),r.push(128+(e>>6&a[6])),r.push(128+(e&a[6]))}}})),e.from(r)},decode:function(e,t){function r(e,t){if(128!=(192&t))return s;let r=((e&a[5])<<6)+(t&a[6]);return r<128?n:r}function l(e,t,r){if(128!=(192&r)||128!=(192&t))return s;let o=((e&a[4])<<12)+((t&a[6])<<6)+(r&a[6]);return o<2048?n:o>=55296&&o<=57343?i:o}function c(e,t,r,o){if(128!=(192&o)||128!=(192&r)||128!=(192&t))return s;let l=(((e&a[3])<<2)+(t>>4&a[2])<<16)+((t&a[4])<<12)+((r&a[6])<<6)+(o&a[6]);return l<65536?n:l>1114111?i:l}let u,p,h,d,f,g,y=e.length,m=t?3:0,b=[];for(;m<y;){for(p=e[m],u=o;;){if(p>=0&&p<=127){u=p,g=1;break}if(h=m+1,h<y&&p>=194&&p<=223){u=r(p,e[h]),g=2;break}if(d=m+2,d<y&&p>=224&&p<=239){u=l(p,e[h],e[d]),g=3;break}if(f=m+3,f<y&&p>=240&&p<=244){u=c(p,e[h],e[d],e[f]),g=4;break}break}if(u>1114111){let e="byte["+m+"]";if(u===o)throw new RangeError("utf8.decode: ill-formed UTF8 byte sequence found at: "+e);if(u===s)throw new RangeError("utf8.decode: illegal trailing byte found at: "+e);if(u===i)throw new RangeError("utf8.decode: code point out of range found at: "+e);if(u===n)throw new RangeError("utf8.decode: non-shortest form found at: "+e);throw new RangeError("utf8.decode: unrecognized error found at: "+e)}b.push(u),m+=g}return b}},r.utf16be={encode:function(t){let r,n,s,i=[];for(let e=0;e<t.length;e+=1)if(r=t[e],r>=0&&r<=55295||r>=57344&&r<=65535)i.push(r>>8&a[8]),i.push(r&a[8]);else{if(!(r>=65536&&r<=1114111))throw new RangeError("utf16be.encode: UTF16BE value out of range: char["+e+"]: "+r);s=r-65536,n=55296+(s>>10),s=56320+(s&a[10]),i.push(n>>8&a[8]),i.push(n&a[8]),i.push(s>>8&a[8]),i.push(s&a[8])}return e.from(i)},decode:function(e,t){if(e.length%2>0)throw new RangeError("utf16be.decode: data length must be even multiple of 2: length: "+e.length);let r,n,s,i,o,a,l=[],c=e.length,u=t?2:0,p=0;for(;u<c;){for(;;){if(s=u+1,s<c){if(o=(e[u]<<8)+e[s],o<55296||o>57343){r=o,n=2;break}if(i=u+3,i<c&&(a=(e[u+2]<<8)+e[i],o<=56319&&a>=56320&&a<=57343)){r=65536+(o-55296<<10)+(a-56320),n=4;break}}throw new RangeError("utf16be.decode: ill-formed UTF16BE byte sequence found: byte["+u+"]")}l[p++]=r,u+=n}return l}},r.utf16le={encode:function(t){let r,n,s,i=[];for(let e=0;e<t.length;e+=1)if(r=t[e],r>=0&&r<=55295||r>=57344&&r<=65535)i.push(r&a[8]),i.push(r>>8&a[8]);else{if(!(r>=65536&&r<=1114111))throw new RangeError("utf16le.encode: UTF16LE value out of range: char["+e+"]: "+r);s=r-65536,n=55296+(s>>10),s=56320+(s&a[10]),i.push(n&a[8]),i.push(n>>8&a[8]),i.push(s&a[8]),i.push(s>>8&a[8])}return e.from(i)},decode:function(e,t){if(e.length%2>0)throw new RangeError("utf16le.decode: data length must be even multiple of 2: length: "+e.length);let r,n,s,i,o,a,l=[],c=e.length,u=t?2:0,p=0;for(;u<c;){for(;;){if(s=u+1,s<c){if(o=(e[s]<<8)+e[u],o<55296||o>57343){r=o,n=2;break}if(i=u+3,i<c&&(a=(e[i]<<8)+e[u+2],o<=56319&&a>=56320&&a<=57343)){r=65536+(o-55296<<10)+(a-56320),n=4;break}}throw new RangeError("utf16le.decode: ill-formed UTF16LE byte sequence found: byte["+u+"]")}l[p++]=r,u+=n}return l}},r.utf32be={encode:function(t){let r=e.alloc(4*t.length),n=0;return t.forEach((function(e){if(e>=55296&&e<=57343||e>1114111)throw new RangeError("utf32be.encode: UTF32BE character code out of range: char["+n/4+"]: "+e);r[n++]=e>>24&a[8],r[n++]=e>>16&a[8],r[n++]=e>>8&a[8],r[n++]=e&a[8]})),r},decode:function(e,t){if(e.length%4>0)throw new RangeError("utf32be.decode: UTF32BE byte length must be even multiple of 4: length: "+e.length);let r=[],n=t?4:0;for(;n<e.length;n+=4){let t=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];if(t>=55296&&t<=57343||t>1114111)throw new RangeError("utf32be.decode: UTF32BE character code out of range: char["+n/4+"]: "+t);r.push(t)}return r}},r.utf32le={encode:function(t){let r=e.alloc(4*t.length),n=0;return t.forEach((function(e){if(e>=55296&&e<=57343||e>1114111)throw new RangeError("utf32le.encode: UTF32LE character code out of range: char["+n/4+"]: "+e);r[n++]=e&a[8],r[n++]=e>>8&a[8],r[n++]=e>>16&a[8],r[n++]=e>>24&a[8]})),r},decode:function(e,t){if(e.length%4>0)throw new RangeError("utf32be.decode: UTF32LE byte length must be even multiple of 4: length: "+e.length);let r=[],n=t?4:0;for(;n<e.length;n+=4){let t=(e[n+3]<<24)+(e[n+2]<<16)+(e[n+1]<<8)+e[n];if(t>=55296&&t<=57343||t>1114111)throw new RangeError("utf32le.encode: UTF32LE character code out of range: char["+n/4+"]: "+t);r.push(t)}return r}},r.uint7={encode:function(t){let r=e.alloc(t.length);for(let e=0;e<t.length;e+=1){if(t[e]>127)throw new RangeError("uint7.encode: UINT7 character code out of range: char["+e+"]: "+t[e]);r[e]=t[e]}return r},decode:function(e){let t=[];for(let r=0;r<e.length;r+=1){if(e[r]>127)throw new RangeError("uint7.decode: UINT7 character code out of range: byte["+r+"]: "+e[r]);t[r]=e[r]}return t}},r.uint8={encode:function(t){let r=e.alloc(t.length);for(let e=0;e<t.length;e+=1){if(t[e]>255)throw new RangeError("uint8.encode: UINT8 character code out of range: char["+e+"]: "+t[e]);r[e]=t[e]}return r},decode:function(e){let t=[];for(let r=0;r<e.length;r+=1)t[r]=e[r];return t}},r.uint16be={encode:function(t){let r=e.alloc(2*t.length),n=0;return t.forEach((function(e){if(e>65535)throw new RangeError("uint16be.encode: UINT16BE character code out of range: char["+n/2+"]: "+e);r[n++]=e>>8&a[8],r[n++]=e&a[8]})),r},decode:function(e){if(e.length%2>0)throw new RangeError("uint16be.decode: UINT16BE byte length must be even multiple of 2: length: "+e.length);let t=[];for(let r=0;r<e.length;r+=2)t.push((e[r]<<8)+e[r+1]);return t}},r.uint16le={encode:function(t){let r=e.alloc(2*t.length),n=0;return t.forEach((function(e){if(e>65535)throw new RangeError("uint16le.encode: UINT16LE character code out of range: char["+n/2+"]: "+e);r[n++]=e&a[8],r[n++]=e>>8&a[8]})),r},decode:function(e){if(e.length%2>0)throw new RangeError("uint16le.decode: UINT16LE byte length must be even multiple of 2: length: "+e.length);let t=[];for(let r=0;r<e.length;r+=2)t.push((e[r+1]<<8)+e[r]);return t}},r.uint32be={encode:function(t){let r=e.alloc(4*t.length),n=0;return t.forEach((function(e){r[n++]=e>>24&a[8],r[n++]=e>>16&a[8],r[n++]=e>>8&a[8],r[n++]=e&a[8]})),r},decode:function(e){if(e.length%4>0)throw new RangeError("uint32be.decode: UINT32BE byte length must be even multiple of 4: length: "+e.length);let t=[];for(let r=0;r<e.length;r+=4)t.push((e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3]);return t}},r.uint32le={encode:function(t){let r=e.alloc(4*t.length),n=0;return t.forEach((function(e){r[n++]=e&a[8],r[n++]=e>>8&a[8],r[n++]=e>>16&a[8],r[n++]=e>>24&a[8]})),r},decode:function(e){if(e.length%4>0)throw new RangeError("uint32le.decode: UINT32LE byte length must be even multiple of 4: length: "+e.length);let t=[];for(let r=0;r<e.length;r+=4)t.push((e[r+3]<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]);return t}},r.string={encode:function(e){return t.utf16le.encode(e).toString("utf16le")},decode:function(r){return t.utf16le.decode(e.from(r,"utf16le"),0)}},r.escaped={encode:function(t){let r=[];for(let n=0;n<t.length;n+=1){let s=t[n];if(96===s)r.push(s),r.push(s);else if(10===s)r.push(s);else if(s>=32&&s<=126)r.push(s);else{let t="";if(s>=0&&s<=31)t+="`x"+l[s];else if(s>=127&&s<=255)t+="`x"+l[s];else if(s>=256&&s<=65535)t+="`u"+l[s>>8&a[8]]+l[s&a[8]];else{if(!(s>=65536&&s<=4294967295))throw new Error("escape.encode(char): char > 0xffffffff not allowed");{t+="`u{";let e=s>>24&a[8];e>0&&(t+=l[e]),t+=l[s>>16&a[8]]+l[s>>8&a[8]]+l[s&a[8]]+"}"}}e.from(t).forEach((function(e){r.push(e)}))}}return e.from(r)},decode:function(e){function t(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function r(e,r,n){let s={char:null,nexti:e+2,error:!0};if(e+1<r&&t(n[e])&&t(n[e+1])){let t=String.fromCodePoint(n[e],n[e+1]);s.char=parseInt(t,16),isNaN(s.char)||(s.error=!1)}return s}function n(e,r,n){let s={char:null,nexti:e+4,error:!0};if(e+3<r&&t(n[e])&&t(n[e+1])&&t(n[e+2])&&t(n[e+3])){let t=String.fromCodePoint(n[e],n[e+1],n[e+2],n[e+3]);s.char=parseInt(t,16),isNaN(s.char)||(s.error=!1)}return s}function s(e,r,n){let s={char:null,nexti:e+4,error:!0},i="";for(;e<r&&t(n[e]);)i+=String.fromCodePoint(n[e]),e+=1;return s.char=parseInt(i,16),125!==n[e]||isNaN(s.char)||(s.error=!1),s.nexti=e+1,s}let i,o,a,l=[],c=e.length,u=0;for(;u<c;){for(;;){if(a=!0,96!==e[u]){l.push(e[u]),u+=1,a=!1;break}if(i=u+1,i>=c)break;if(96===e[i]){l.push(96),u+=2,a=!1;break}if(120===e[i]){if(o=r(i+1,c,e),o.error)break;l.push(o.char),u=o.nexti,a=!1;break}if(117===e[i]){if(123===e[i+1]){if(o=s(i+2,c,e),o.error)break;l.push(o.char),u=o.nexti,a=!1;break}if(o=n(i+1,c,e),o.error)break;l.push(o.char),u=o.nexti,a=!1;break}break}if(a)throw new Error("escaped.decode: ill-formed escape sequence at buf["+u+"]")}return l}};let p=10;r.lineEnds={crlf:function(e){let t=[],r=0;for(;r<e.length;)switch(e[r]){case 13:r+1<e.length&&e[r+1]===p?r+=2:r+=1,t.push(13),t.push(p);break;case p:t.push(13),t.push(p),r+=1;break;default:t.push(e[r]),r+=1}return t.length>0&&t[t.length-1]!==p&&(t.push(13),t.push(p)),t},lf:function(e){let t=[],r=0;for(;r<e.length;)switch(e[r]){case 13:r+1<e.length&&e[r+1]===p?r+=2:r+=1,t.push(p);break;case p:t.push(p),r+=1;break;default:t.push(e[r]),r+=1}return t.length>0&&t[t.length-1]!==p&&t.push(p),t}},r.base64={encode:function(t){if(0===t.length)return e.alloc(0);let r,n,s,i=t.length%3;i=i>0?3-i:0;let o=(t.length+i)/3,l=e.alloc(4*o);i>0&&(o-=1),r=0,n=0;for(let e=0;e<o;e+=1)s=t[r++]<<16,s+=t[r++]<<8,s+=t[r++],l[n++]=u[s>>18&a[6]],l[n++]=u[s>>12&a[6]],l[n++]=u[s>>6&a[6]],l[n++]=u[s&a[6]];return 0===i?l:1===i?(s=t[r++]<<16,s+=t[r]<<8,l[n++]=u[s>>18&a[6]],l[n++]=u[s>>12&a[6]],l[n++]=u[s>>6&a[6]],l[n]=u[64],l):2===i?(s=t[r]<<16,l[n++]=u[s>>18&a[6]],l[n++]=u[s>>12&a[6]],l[n++]=u[64],l[n]=u[64],l):void 0},decode:function(t){if(0===t.length)return e.alloc(0);let r,n,s,i=function(t){let r=[],n=0;for(let e=0;e<t.length;e+=1){let s=t[e];for(;32!==s&&9!==s&&10!==s&&13!==s;){if(s>=65&&s<=90){r.push(s-65);break}if(s>=97&&s<=122){r.push(s-71);break}if(s>=48&&s<=57){r.push(s+4);break}if(43===s){r.push(62);break}if(47===s){r.push(63);break}if(61===s){r.push(64),n+=1;break}throw new RangeError("base64.decode: invalid character buf["+e+"]: "+s)}}if(r.length%4>0)throw new RangeError("base64.decode: string length not integral multiple of 4: "+r.length);switch(n){case 0:break;case 1:if(64!==r[r.length-1])throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(64!==r[r.length-1]||64!==r[r.length-2])throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError("base64.decode: more than two tail characters found: "+n)}return{tail:n,buf:e.from(r)}}(t),o=i.tail,l=i.buf,c=l.length/4,u=e.alloc(3*c-o);o>0&&(c-=1),n=0,r=0;for(let e=0;e<c;e+=1)s=l[r++]<<18,s+=l[r++]<<12,s+=l[r++]<<6,s+=l[r++],u[n++]=s>>16&a[8],u[n++]=s>>8&a[8],u[n++]=s&a[8];return 1===o&&(s=l[r++]<<18,s+=l[r++]<<12,s+=l[r]<<6,u[n++]=s>>16&a[8],u[n]=s>>8&a[8]),2===o&&(s=l[r++]<<18,s+=l[r++]<<12,u[n]=s>>16&a[8]),u},toString:function(e){if(e.length%4>0)throw new RangeError("base64.toString: input buffer length not multiple of 4: "+e.length);let t="",r=0;function n(e,n,s,i){switch(r){case 76:t+="\r\n"+e+n+s+i,r=4;break;case 75:t+=e+"\r\n"+n+s+i,r=3;break;case 74:t+=e+n+"\r\n"+s+i,r=2;break;case 73:t+=e+n+s+"\r\n"+i,r=1;break;default:t+=e+n+s+i,r+=4}}for(let t=0;t<e.length;t+=4){for(let r=t;r<t+4;r+=1)if(!((s=e[r])>=65&&s<=90||s>=97&&s<=122||s>=48&&s<=57||43===s||47===s||61===s))throw new RangeError("base64.toString: buf["+r+"]: "+e[r]+" : not valid base64 character code");n(String.fromCharCode(e[t]),String.fromCharCode(e[t+1]),String.fromCharCode(e[t+2]),String.fromCharCode(e[t+3]))}var s;return t}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:4}],42:[function(e,t,r){t.exports=function(){"use strict";let t=e("./identifiers.js"),r=e("./utilities.js"),n=this,s=null,i=null,o=null,a=0,l=[],c=[],u=[],p=[];function h(e){let t="";for(let r=0;r<e;r+=1)t+=" ";return t}this.callbacks=[],this.astObject="astObject",this.init=function(e,t,r){u.length=0,p.length=0,l.length=0,a=0,s=e,i=t,o=r;let h,d=[];for(h=0;h<s.length;h+=1)d.push(s[h].lower);for(h=0;h<i.length;h+=1)d.push(i[h].lower);for(a=s.length+i.length,h=0;h<a;h+=1)l[h]=!1,c[h]=null;for(let e in n.callbacks){let t=e.toLowerCase();if(h=d.indexOf(t),h<0)throw new Error("ast.js: init: node '"+e+"' not a rule or udt name");"function"==typeof n.callbacks[e]&&(l[h]=!0,c[h]=n.callbacks[e]),!0===n.callbacks[e]&&(l[h]=!0)}},this.ruleDefined=function(e){return!1!==l[e]},this.udtDefined=function(e){return!1!==l[s.length+e]},this.down=function(e,r){let n=p.length;return u.push(n),p.push({name:r,thisIndex:n,thatIndex:null,state:t.SEM_PRE,callbackIndex:e,phraseIndex:null,phraseLength:null,stack:u.length}),n},this.up=function(e,r,n,s){let i=p.length,o=u.pop();return p.push({name:r,thisIndex:i,thatIndex:o,state:t.SEM_POST,callbackIndex:e,phraseIndex:n,phraseLength:s,stack:u.length}),p[o].thatIndex=i,p[o].phraseIndex=n,p[o].phraseLength=s,i},this.translate=function(e){let r,n,s;for(let i=0;i<p.length;i+=1)s=p[i],n=c[s.callbackIndex],s.state===t.SEM_PRE?null!==n&&(r=n(t.SEM_PRE,o,s.phraseIndex,s.phraseLength,e),r===t.SEM_SKIP&&(i=s.thatIndex)):null!==n&&n(t.SEM_POST,o,s.phraseIndex,s.phraseLength,e)},this.setLength=function(e){p.length=e,u.length=e>0?p[e-1].stack:0},this.getLength=function(){return p.length},this.toXml=function(e){let n=r.charsToDec,s="decimal integer character codes";"string"==typeof e&&e.length>=3&&("asc"===(e=e.slice(0,3).toLowerCase())?(n=r.charsToAscii,s="ASCII for printing characters, hex for non-printing"):"hex"===e?(n=r.charsToHex,s="hexidecimal integer character codes"):"uni"===e&&(n=r.charsToUnicode,s="Unicode UTF-32 integer character codes"));let i="",a=0;return i+='<?xml version="1.0" encoding="utf-8"?>\n',i+='<root nodes="'+p.length/2+'" characters="'+o.length+'">\n',i+="\x3c!-- input string, "+s+" --\x3e\n",i+=h(a+2),i+=n(o),i+="\n",p.forEach((function(e,r){e.state===t.SEM_PRE?(a+=1,i+=h(a),i+='<node name="'+e.name+'" index="'+e.phraseIndex+'" length="'+e.phraseLength+'">\n',i+=h(a+2),i+=n(o,e.phraseIndex,e.phraseLength),i+="\n"):(i+=h(a),i+='</node>\x3c!-- name="'+e.name+'" --\x3e\n',a-=1)})),i+="</root>\n",i},this.phrases=function(){let e,r,n={};for(e=0;e<p.length;e+=1)r=p[e],r.state===t.SEM_PRE&&(Array.isArray(n[r.name])||(n[r.name]=[]),n[r.name].push({index:r.phraseIndex,length:r.phraseLength}));return n}}},{"./identifiers.js":45,"./utilities.js":51}],43:[function(e,t,r){t.exports=function(){let e=-1,t=0;this.init=function(r){if("number"!=typeof r||r<=0)throw new Error("circular-buffer.js: init: circular buffer size must an integer > 0");t=Math.ceil(r),e=-1},this.increment=function(){return e+=1,(e+t)%t},this.maxSize=function(){return t},this.items=function(){return e+1},this.getListIndex=function(r){return-1===e||r<0||r>e||e-r>=t?-1:(r+t)%t},this.forEach=function(r){if(-1!==e)if(e<t)for(let t=0;t<=e;t+=1)r(t,t);else for(let n=e-t+1;n<=e;n+=1){r((n+t)%t,n)}}}},{}],44:[function(e,t,r){t.exports=function(){return"/* This file automatically generated by jsonToless() and LESS. */\n.apg-mono {\n  font-family: monospace;\n}\n.apg-active {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-match {\n  font-weight: bold;\n  color: #264BFF;\n}\n.apg-empty {\n  font-weight: bold;\n  color: #0fbd0f;\n}\n.apg-nomatch {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-lh-match {\n  font-weight: bold;\n  color: #1A97BA;\n}\n.apg-lb-match {\n  font-weight: bold;\n  color: #5F1687;\n}\n.apg-remainder {\n  font-weight: bold;\n  color: #999999;\n}\n.apg-ctrl-char {\n  font-weight: bolder;\n  font-style: italic;\n  font-size: 0.6em;\n}\n.apg-line-end {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-error {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-phrase {\n  color: #000000;\n  background-color: #8caae6;\n}\n.apg-empty-phrase {\n  color: #0fbd0f;\n}\ntable.apg-state {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th,\ntable.apg-state td {\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th:nth-last-child(2),\ntable.apg-state td:nth-last-child(2) {\n  text-align: right;\n}\ntable.apg-state caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-stats {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats th,\ntable.apg-stats td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace th,\ntable.apg-trace td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace th:last-child,\ntable.apg-trace th:nth-last-child(2),\ntable.apg-trace td:last-child,\ntable.apg-trace td:nth-last-child(2) {\n  text-align: left;\n}\ntable.apg-grammar {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-grammar th,\ntable.apg-grammar td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar th:last-child,\ntable.apg-grammar td:last-child {\n  text-align: left;\n}\ntable.apg-rules {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-rules th,\ntable.apg-rules td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules a {\n  color: #003399 !important;\n}\ntable.apg-rules a:hover {\n  color: #8caae6 !important;\n}\ntable.apg-attrs {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-attrs th,\ntable.apg-attrs td {\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs th:nth-child(1),\ntable.apg-attrs th:nth-child(2),\ntable.apg-attrs th:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs td:nth-child(1),\ntable.apg-attrs td:nth-child(2),\ntable.apg-attrs td:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs a {\n  color: #003399 !important;\n}\ntable.apg-attrs a:hover {\n  color: #8caae6 !important;\n}\n"}},{}],45:[function(e,t,r){"use strict";t.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}},{}],46:[function(e,t,r){t.exports={ast:e("./ast.js"),circular:e("./circular-buffer.js"),ids:e("./identifiers.js"),parser:e("./parser.js"),stats:e("./stats.js"),trace:e("./trace.js"),utils:e("./utilities.js"),emitcss:e("./emitcss.js"),style:e("./style.js")}},{"./ast.js":42,"./circular-buffer.js":43,"./emitcss.js":44,"./identifiers.js":45,"./parser.js":47,"./stats.js":48,"./style.js":49,"./trace.js":50,"./utilities.js":51}],47:[function(e,t,r){t.exports=function(){"use strict";let t=this,r=e("./identifiers.js"),n=e("./utilities.js");this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let s,i,o,a,l=0,c=null,u=null,p=0,h=0,d=0,f=null,g=null,y=null,m=null,b=null,A=0,E=1/0,T=1/0,x=function(e,t,n){let s,i="parser.js: evaluateRule(): ";if(e>=y.length)throw new Error(i+"rule index: "+e+" out of range");if(t>=o)throw new Error(i+"phrase index: "+t+" out of range");s=c.length,c.push({type:r.RNM,index:e}),H(s,t,n),c.pop()},w=function(e,t,n){let s,i="parser.js: evaluateUdt(): ";if(e>=m.length)throw new Error(i+"udt index: "+e+" out of range");if(t>=o)throw new Error(i+"phrase index: "+t+" out of range");s=c.length,c.push({type:r.UDT,empty:m[e].empty,index:e}),H(s,t,n),c.pop()},S=function(){l=0,p=0,h=0,d=0,A=0,a=[{lookAround:r.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],y=null,m=null,u=null,s=0,i=0,o=0,f=null,g=null,b=null,c=null},k=function(){let e=[];this.push=function(){e.push(function(){let t=e[e.length-1],r={};for(let e in t)r[e]=t[e];return r}())},this.pop=function(t){if(t||(t=e.length-1),t<1||t>e.length)throw new Error("parser.js: backRef.pop(): bad length: "+t);return e.length=t,e[e.length-1]},this.length=function(){return e.length},this.savePhrase=function(t,r,n){e[e.length-1][t]={phraseIndex:r,phraseLength:n}},this.getPhrase=function(t){return e[e.length-1][t]},function(){let t={};y.forEach((function(e){e.isBkr&&(t[e.lower]=null)})),m.length>0&&m.forEach((function(e){e.isBkr&&(t[e.lower]=null)})),e.push(t)}()},C=function(){let e=this;this.state=r.ACTIVE,this.phraseLength=0,this.lookAround=a[a.length-1],this.uFrame=new k,this.pFrame=new k,this.evaluateRule=x,this.evaluateUdt=w,this.refresh=function(){e.state=r.ACTIVE,e.phraseLength=0,e.lookAround=a[a.length-1]}},O=function(){return a[a.length-1]},M=function(){return a.length>1},B=function(e,t,r){let a="parser.js: initializeInputChars(): ";if(void 0===e)throw new Error(a+"input string is undefined");if(null===e)throw new Error(a+"input string is null");if("string"==typeof e)e=n.stringToChars(e);else if(!Array.isArray(e))throw new Error(a+"input string is not a string or array");if(e.length>0&&"number"!=typeof e[0])throw new Error(a+"input string not an array of integers");if("number"!=typeof t)t=0;else if((t=Math.floor(t))<0||t>e.length)throw new Error(a+"input beginning index out of range: "+t);if("number"!=typeof r)r=e.length-t;else if((r=Math.floor(r))<0||r>e.length-t)throw new Error(a+"input length out of range: "+r);u=e,s=t,i=r,o=s+i};this.setMaxTreeDepth=function(e){if("number"!=typeof e)throw new Error("parser: max tree depth must be integer > 0: "+e);if(E=Math.floor(e),E<=0)throw new Error("parser: max tree depth must be integer > 0: "+e)},this.setMaxNodeHits=function(e){if("number"!=typeof e)throw new Error("parser: max node hits must be integer > 0: "+e);if(T=Math.floor(e),T<=0)throw new Error("parser: max node hits must be integer > 0: "+e)},this.parse=function(e,t,r,n){return S(),B(r,0,r.length),R(e,t,n)},this.parseSubstring=function(e,t,r,n,s,i){return S(),B(r,n,s),R(e,t,i)};let R=function(e,n,a){let l,p,E;switch(l="parser.js: parse(): ",function(e){let t="parser.js: initializeGrammar(): ";if(!e)throw new Error(t+"grammar object undefined");if("grammarObject"!==e.grammarObject)throw new Error(t+"bad grammar object");y=e.rules,m=e.udts}(e),n=function(e){let t="parser.js: initializeStartRule(): ",r=null;if("number"==typeof e){if(e>=y.length)throw new Error(t+"start rule index too large: max: "+y.length+": index: "+e);r=e}else{if("string"!=typeof e)throw new Error(t+"type of start rule '"+typeof e+"' not recognized");{let n=e.toLowerCase();for(let e=0;e<y.length;e+=1)if(n===y[e].lower){r=y[e].index;break}if(null===r)throw new Error(t+"start rule name '"+e+"' not recognized")}}return r}(n),function(){let e,r="parser.js: initializeCallbacks(): ";for(f=[],g=[],e=0;e<y.length;e+=1)f[e]=null;for(e=0;e<m.length;e+=1)g[e]=null;let n,s=[];for(e=0;e<y.length;e+=1)s.push(y[e].lower);for(e=0;e<m.length;e+=1)s.push(m[e].lower);for(let i in t.callbacks){if(e=s.indexOf(i.toLowerCase()),e<0)throw new Error(r+"syntax callback '"+i+"' not a rule or udt name");if(n=t.callbacks[i],n||(n=null),"function"!=typeof n&&null!==n)throw new Error(r+"syntax callback["+i+"] must be function reference or 'false' (false/null/undefined/etc.)");e<y.length?f[e]=n:g[e-y.length]=n}for(e=0;e<m.length;e+=1)if(null===g[e])throw new Error(r+"all UDT callbacks must be defined. UDT callback["+m[e].lower+"] not a function reference")}(),function(){for(;;){if(void 0===t.trace){t.trace=null;break}if(null===t.trace)break;if("traceObject"!==t.trace.traceObject)throw new Error("parser.js: initializeTrace(): trace object not recognized");break}null!==t.trace&&t.trace.init(y,m,u)}(),function(){for(;;){if(void 0===t.stats){t.stats=null;break}if(null===t.stats)break;if("statsObject"!==t.stats.statsObject)throw new Error("parser.js: initializeStats(): stats object not recognized");break}null!==t.stats&&t.stats.init(y,m)}(),function(){for(;;){if(void 0===t.ast){t.ast=null;break}if(null===t.ast)break;if("astObject"!==t.ast.astObject)throw new Error("parser.js: initializeAst(): ast object not recognized");break}null!==t.ast&&t.ast.init(y,m,u)}(),p=new C,null!=a&&(b=a),c=[{type:r.RNM,index:n}],H(0,s,p),c=null,p.state){case r.ACTIVE:throw new Error("parser.js: parse(): final state should never be 'ACTIVE'");case r.NOMATCH:E=!1;break;case r.EMPTY:case r.MATCH:E=p.phraseLength===i}return{success:E,state:p.state,length:i,matched:p.phraseLength,maxMatched:A,maxTreeDepth:h,nodeHits:d,inputLength:u.length,subBegin:s,subEnd:o,subLength:i}},v=function(e,t,n){let s=c[e];for(let e=0;e<s.children.length&&(H(s.children[e],t,n),n.state===r.NOMATCH);e+=1);},L=function(e,t,n,s){if(t.phraseLength>n){let r="parser.js: opRNM("+e.name+"): callback function error: ";throw r+="sysData.phraseLength: "+t.phraseLength,r+=" must be <= remaining chars: "+n,new Error(r)}switch(t.state){case r.ACTIVE:if(!0!==s)throw new Error("parser.js: opRNM("+e.name+"): callback function return error. ACTIVE state not allowed.");break;case r.EMPTY:t.phraseLength=0;break;case r.MATCH:0===t.phraseLength&&(t.state=r.EMPTY);break;case r.NOMATCH:t.phraseLength=0;break;default:throw new Error("parser.js: opRNM("+e.name+"): callback function return error. Unrecognized return state: "+t.state)}},N=function(e,n,s){let i,a,l,p,h,d,g,m,A,E;i=c[e],a=y[i.index],l=f[i.index];let T=!M();if(T&&(h=t.ast&&t.ast.ruleDefined(i.index),h&&(p=t.ast.getLength(),d=t.ast.down(i.index,y[i.index].name)),m=s.uFrame.length(),A=s.pFrame.length(),s.uFrame.push(),s.pFrame.push(),E=s.pFrame,s.pFrame=new k),null===l)g=c,c=a.opcodes,H(0,n,s),c=g;else{let e=o-n;l(s,u,n,b),L(a,s,e,!0),s.state===r.ACTIVE&&(g=c,c=a.opcodes,H(0,n,s),c=g,l(s,u,n,b),L(a,s,e,!1))}T&&(h&&(s.state===r.NOMATCH?t.ast.setLength(p):t.ast.up(i.index,y[i.index].name,n,s.phraseLength)),s.pFrame=E,s.state===r.NOMATCH?(s.uFrame.pop(m),s.pFrame.pop(A)):y[i.index].isBkr&&(s.pFrame.savePhrase(y[i.index].lower,n,s.phraseLength),s.uFrame.savePhrase(y[i.index].lower,n,s.phraseLength)))},P=function(e,n,s){let i,a,l,p,h,d,f,A,E;p=c[e];let T=!M();T&&(d=t.ast&&t.ast.udtDefined(p.index),d&&(l=y.length+p.index,a=t.ast.getLength(),i=t.ast.down(l,m[p.index].name)),f=s.uFrame.length(),A=s.pFrame.length(),s.uFrame.push(),s.pFrame.push(),E=s.pFrame,s.pFrame=new k);let x=o-n;g[p.index](s,u,n,b),function(e,t,n){if(t.phraseLength>n){let r="parser.js: opUDT("+e.name+"): callback function error: ";throw r+="sysData.phraseLength: "+t.phraseLength,r+=" must be <= remaining chars: "+n,new Error(r)}switch(t.state){case r.ACTIVE:throw new Error("parser.js: opUDT("+e.name+"): callback function return error. ACTIVE state not allowed.");case r.EMPTY:if(!1===e.empty)throw new Error("parser.js: opUDT("+e.name+"): callback function return error. May not return EMPTY.");t.phraseLength=0;break;case r.MATCH:if(0===t.phraseLength){if(!1===e.empty)throw new Error("parser.js: opUDT("+e.name+"): callback function return error. May not return EMPTY.");t.state=r.EMPTY}break;case r.NOMATCH:t.phraseLength=0;break;default:throw new Error("parser.js: opUDT("+e.name+"): callback function return error. Unrecognized return state: "+t.state)}}(m[p.index],s,x),T&&(d&&(s.state===r.NOMATCH?t.ast.setLength(a):t.ast.up(l,m[p.index].name,n,s.phraseLength)),s.pFrame=E,s.state===r.NOMATCH?(s.uFrame.pop(f),s.pFrame.pop(A)):m[p.index].isBkr&&(s.pFrame.savePhrase(h[p.index].lower,n,s.phraseLength),s.uFrame.savePhrase(h[p.index].lower,n,s.phraseLength)))},_=function(e,t,n){a.push({lookAround:r.LOOKAROUND_AHEAD,anchor:t,charsEnd:o,charsLength:i}),o=u.length,i=u.length-s,H(e+1,t,n);let l=a.pop();switch(o=l.charsEnd,i=l.charsLength,n.phraseLength=0,n.state){case r.EMPTY:case r.MATCH:n.state=r.EMPTY;break;case r.NOMATCH:n.state=r.NOMATCH;break;default:throw new Error("opAND: invalid state "+n.state)}},D=function(e,t,n){a.push({lookAround:r.LOOKAROUND_AHEAD,anchor:t,charsEnd:o,charsLength:i}),o=u.length,i=u.length-s,H(e+1,t,n);let l=a.pop();switch(o=l.charsEnd,i=l.charsLength,n.phraseLength=0,n.state){case r.EMPTY:case r.MATCH:n.state=r.NOMATCH;break;case r.NOMATCH:n.state=r.EMPTY;break;default:throw new Error("opNOT: invalid state "+n.state)}},I=function(e,t,n){n.state=r.NOMATCH,n.phraseLength=0,n.state=0===t?r.EMPTY:r.NOMATCH},j=function(e,t,n){n.state=r.NOMATCH,n.phraseLength=0,n.state=t===u.length?r.EMPTY:r.NOMATCH},U=function(e,t,n){let s;switch(s=c[e],a.push({lookAround:r.LOOKAROUND_BEHIND,anchor:t}),H(e+1,t,n),a.pop(),n.phraseLength=0,n.state){case r.EMPTY:case r.MATCH:n.state=r.EMPTY;break;case r.NOMATCH:n.state=r.NOMATCH;break;default:throw new Error("opBKA: invalid state "+n.state)}},F=function(e,t,n){let s;switch(s=c[e],a.push({lookAround:r.LOOKAROUND_BEHIND,anchor:t}),H(e+1,t,n),a.pop(),n.phraseLength=0,n.state){case r.EMPTY:case r.MATCH:n.state=r.NOMATCH;break;case r.NOMATCH:n.state=r.EMPTY;break;default:throw new Error("opBKN: invalid state "+n.state)}},H=function(e,n,s){let i,l=!0;if(i=c[e],d+=1,d>T)throw new Error("parser: maximum number of node hits exceeded: "+T);if(p+=1,p>h&&(h=p,h>E))throw new Error("parser: maximum parse tree depth exceeded: "+E);if(s.refresh(),null!==t.trace){let e=O();t.trace.down(i,s.state,n,s.phraseLength,e.anchor,e.lookAround)}if(a[a.length-1].lookAround===r.LOOKAROUND_BEHIND)switch(i.type){case r.ALT:v(e,n,s);break;case r.CAT:!function(e,n,s){let i,o,a,l,u,p,h,d;i=c[e],h=s.uFrame.length(),d=s.pFrame.length(),t.ast&&(a=t.ast.getLength()),o=!0,l=n,p=0,u=0;for(let e=i.children.length-1;e>=0;e-=1)if(H(i.children[e],l,s),l-=s.phraseLength,p+=s.phraseLength,u+=s.phraseLength,s.state===r.NOMATCH){o=!1;break}o?(s.state=0===p?r.EMPTY:r.MATCH,s.phraseLength=p):(s.state=r.NOMATCH,s.phraseLength=0,s.uFrame.pop(h),s.pFrame.pop(d),t.ast&&t.ast.setLength(a))}(e,n,s);break;case r.REP:!function(e,n,s){let i,o,a,l,u,p,h;for(i=c[e],a=n,l=0,u=0,p=s.uFrame.length(),h=s.pFrame.length(),t.ast&&(o=t.ast.getLength());!(a<=0)&&(H(e+1,a,s),s.state!==r.NOMATCH)&&s.state!==r.EMPTY&&(u+=1,l+=s.phraseLength,a-=s.phraseLength,u!==i.max););s.state===r.EMPTY||u>=i.min?(s.state=0===l?r.EMPTY:r.MATCH,s.phraseLength=l):(s.state=r.NOMATCH,s.phraseLength=0,s.uFrame.pop(p),s.pFrame.pop(h),t.ast&&t.ast.setLength(o))}(e,n,s);break;case r.RNM:N(e,n,s);break;case r.UDT:P(e,n,s);break;case r.AND:_(e,n,s);break;case r.NOT:D(e,n,s);break;case r.TRG:!function(e,t,n){let s=c[e];if(n.state=r.NOMATCH,n.phraseLength=0,t>0){let e=u[t-1];s.min<=e&&e<=s.max&&(n.state=r.MATCH,n.phraseLength=1)}}(e,n,s);break;case r.TBS:!function(e,t,n){let s,i,o,a;if(i=c[e],n.state=r.NOMATCH,o=i.string.length,a=t-o,a>=0){for(s=0;s<o;s+=1)if(u[a+s]!==i.string[s])return;n.state=r.MATCH,n.phraseLength=o}}(e,n,s);break;case r.TLS:!function(e,t,n){let s,i,o,a;if(s=c[e],n.state=r.NOMATCH,a=s.string.length,0!==a){if(o=t-a,o>=0){for(let e=0;e<a;e+=1)if(i=u[o+e],i>=65&&i<=90&&(i+=32),i!==s.string[e])return;n.state=r.MATCH,n.phraseLength=a}}else n.state=r.EMPTY}(e,n,s);break;case r.BKR:!function(e,t,n){let s,i,o,a,l,p,h,d,f,g;if(a=c[e],n.state=r.NOMATCH,n.phraseLength=0,h=a.index<y.length?y[a.index].lower:m[a.index-y.length].lower,f=a.bkrMode===r.BKR_MODE_PM?n.pFrame.getPhrase(h):n.uFrame.getPhrase(h),g=a.bkrCase===r.BKR_MODE_CI,null!==f){if(l=f.phraseIndex,o=f.phraseLength,0===o)return n.state=r.EMPTY,void(n.phraseLength=0);if(d=t-o,d>=0){if(g){for(s=0;s<o;s+=1)if(i=u[d+s],p=u[l+s],i>=65&&i<=90&&(i+=32),p>=65&&p<=90&&(p+=32),i!==p)return;n.state=r.MATCH,n.phraseLength=o}else for(s=0;s<o;s+=1)if(i=u[d+s],p=u[l+s],i!==p)return;n.state=r.MATCH,n.phraseLength=o}}}(e,n,s);break;case r.BKA:U(e,n,s);break;case r.BKN:F(e,n,s);break;case r.ABG:I(0,n,s);break;case r.AEN:j(0,n,s);break;default:l=!1}else switch(i.type){case r.ALT:v(e,n,s);break;case r.CAT:!function(e,n,s){let i,o,a,l,u;i=c[e];let p=s.uFrame.length(),h=s.pFrame.length();t.ast&&(a=t.ast.getLength()),o=!0,l=n,u=0;for(let e=0;e<i.children.length;e+=1){if(H(i.children[e],l,s),s.state===r.NOMATCH){o=!1;break}l+=s.phraseLength,u+=s.phraseLength}o?(s.state=0===u?r.EMPTY:r.MATCH,s.phraseLength=u):(s.state=r.NOMATCH,s.phraseLength=0,s.uFrame.pop(p),s.pFrame.pop(h),t.ast&&t.ast.setLength(a))}(e,n,s);break;case r.REP:!function(e,n,s){let i,a,l,u,p;i=c[e],l=n,u=0,p=0;let h=s.uFrame.length(),d=s.pFrame.length();for(t.ast&&(a=t.ast.getLength());!(l>=o)&&(H(e+1,l,s),s.state!==r.NOMATCH)&&s.state!==r.EMPTY&&(p+=1,u+=s.phraseLength,l+=s.phraseLength,p!==i.max););s.state===r.EMPTY||p>=i.min?(s.state=0===u?r.EMPTY:r.MATCH,s.phraseLength=u):(s.state=r.NOMATCH,s.phraseLength=0,s.uFrame.pop(h),s.pFrame.pop(d),t.ast&&t.ast.setLength(a))}(e,n,s);break;case r.RNM:N(e,n,s);break;case r.UDT:P(e,n,s);break;case r.AND:_(e,n,s);break;case r.NOT:D(e,n,s);break;case r.TRG:!function(e,t,n){let s=c[e];n.state=r.NOMATCH,t<o&&s.min<=u[t]&&u[t]<=s.max&&(n.state=r.MATCH,n.phraseLength=1)}(e,n,s);break;case r.TBS:!function(e,t,n){let s,i,a;if(i=c[e],a=i.string.length,n.state=r.NOMATCH,t+a<=o){for(s=0;s<a;s+=1)if(u[t+s]!==i.string[s])return;n.state=r.MATCH,n.phraseLength=a}}(e,n,s);break;case r.TLS:!function(e,t,n){let s,i,a,l;if(l=c[e],n.state=r.NOMATCH,a=l.string.length,0!==a){if(t+a<=o){for(s=0;s<a;s+=1)if(i=u[t+s],i>=65&&i<=90&&(i+=32),i!==l.string[s])return;n.state=r.MATCH,n.phraseLength=a}}else n.state=r.EMPTY}(e,n,s);break;case r.BKR:!function(e,t,n){let s,i,a,l,p,h,d,f,g;if(l=c[e],n.state=r.NOMATCH,d=l.index<y.length?y[l.index].lower:m[l.index-y.length].lower,f=l.bkrMode===r.BKR_MODE_PM?n.pFrame.getPhrase(d):n.uFrame.getPhrase(d),g=l.bkrCase===r.BKR_MODE_CI,null!==f)if(p=f.phraseIndex,a=f.phraseLength,0!==a){if(t+a<=o){if(g){for(s=0;s<a;s+=1)if(i=u[t+s],h=u[p+s],i>=65&&i<=90&&(i+=32),h>=65&&h<=90&&(h+=32),i!==h)return;n.state=r.MATCH,n.phraseLength=a}else for(s=0;s<a;s+=1)if(i=u[t+s],h=u[p+s],i!==h)return;n.state=r.MATCH,n.phraseLength=a}}else n.state=r.EMPTY}(e,n,s);break;case r.BKA:U(e,n,s);break;case r.BKN:F(e,n,s);break;case r.ABG:I(0,n,s);break;case r.AEN:j(0,n,s);break;default:l=!1}if(!M()&&n+s.phraseLength>A&&(A=n+s.phraseLength),null!==t.stats&&t.stats.collect(i,s),null!==t.trace){let e=O();t.trace.up(i,s.state,n,s.phraseLength,e.anchor,e.lookAround)}return p-=1,l}}},{"./identifiers.js":45,"./utilities.js":51}],48:[function(e,t,r){t.exports=function(){"use strict";let t,r=e("./identifiers.js"),n=e("./utilities"),s=e("./style.js"),i=[],o=[],a=[],l=[],c=[];this.statsObject="statsObject";let u=function(e,t){return e.lower<t.lower?-1:e.lower>t.lower?1:0},p=function(e,t){return e.total<t.total?1:e.total>t.total?-1:u(e,t)},h=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0},d=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},f=function(e,t,n){switch(e.total+=1,t){case r.EMPTY:e.empty+=1;break;case r.MATCH:e.match+=1;break;case r.NOMATCH:e.nomatch+=1;break;default:throw"stats.js: collect(): incStat(): unrecognized state: "+t}},g=function(e,t){let r="";return r+="<tr>",r+='<td class="'+s.CLASS_ACTIVE+'">'+e+"</td>",r+='<td class="'+s.CLASS_EMPTY+'">'+t.empty+"</td>",r+='<td class="'+s.CLASS_MATCH+'">'+t.match+"</td>",r+='<td class="'+s.CLASS_NOMATCH+'">'+t.nomatch+"</td>",r+='<td class="'+s.CLASS_ACTIVE+'">'+t.total+"</td>",r+="</tr>\n",r},y=function(){let e="";return e+=g("ALT",a[r.ALT]),e+=g("CAT",a[r.CAT]),e+=g("REP",a[r.REP]),e+=g("RNM",a[r.RNM]),e+=g("TRG",a[r.TRG]),e+=g("TBS",a[r.TBS]),e+=g("TLS",a[r.TLS]),e+=g("UDT",a[r.UDT]),e+=g("AND",a[r.AND]),e+=g("NOT",a[r.NOT]),e+=g("BKR",a[r.BKR]),e+=g("BKA",a[r.BKA]),e+=g("BKN",a[r.BKN]),e+=g("ABG",a[r.ABG]),e+=g("AEN",a[r.AEN]),e+=g("totals",t),e},m=function(){let e="";e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>\n";for(let t=0;t<i.length;t+=1)l[t].total>0&&(e+="<tr>",e+='<td class="'+s.CLASS_ACTIVE+'">'+l[t].name+"</td>",e+='<td class="'+s.CLASS_EMPTY+'">'+l[t].empty+"</td>",e+='<td class="'+s.CLASS_MATCH+'">'+l[t].match+"</td>",e+='<td class="'+s.CLASS_NOMATCH+'">'+l[t].nomatch+"</td>",e+='<td class="'+s.CLASS_ACTIVE+'">'+l[t].total+"</td>",e+="</tr>\n");if(o.length>0){e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>\n";for(let t=0;t<o.length;t+=1)c[t].total>0&&(e+="<tr>",e+='<td class="'+s.CLASS_ACTIVE+'">'+c[t].name+"</td>",e+='<td class="'+s.CLASS_EMPTY+'">'+c[t].empty+"</td>",e+='<td class="'+s.CLASS_MATCH+'">'+c[t].match+"</td>",e+='<td class="'+s.CLASS_NOMATCH+'">'+c[t].nomatch+"</td>",e+='<td class="'+s.CLASS_ACTIVE+'">'+c[t].total+"</td>",e+="</tr>\n")}return e};this.validate=function(e){let t=!1;return"string"==typeof e&&"stats"===e&&(t=!0),t},this.init=function(e,n){i=e,o=n,function(){a.length=0,t=new d,a[r.ALT]=new d,a[r.CAT]=new d,a[r.REP]=new d,a[r.RNM]=new d,a[r.TRG]=new d,a[r.TBS]=new d,a[r.TLS]=new d,a[r.UDT]=new d,a[r.AND]=new d,a[r.NOT]=new d,a[r.BKR]=new d,a[r.BKA]=new d,a[r.BKN]=new d,a[r.ABG]=new d,a[r.AEN]=new d,l.length=0;for(let e=0;e<i.length;e+=1)l.push({empty:0,match:0,nomatch:0,total:0,name:i[e].name,lower:i[e].lower,index:i[e].index});if(o.length>0){c.length=0;for(let e=0;e<o.length;e+=1)c.push({empty:0,match:0,nomatch:0,total:0,name:o[e].name,lower:o[e].lower,index:o[e].index})}}()},this.collect=function(e,n){f(t,n.state,n.phraseLength),f(a[e.type],n.state,n.phraseLength),e.type===r.RNM&&f(l[e.index],n.state,n.phraseLength),e.type===r.UDT&&f(c[e.index],n.state,n.phraseLength)},this.toHtml=function(e,t){let r="";for(r+='<table class="'+s.CLASS_STATS+'">\n',"string"==typeof t&&(r+="<caption>"+t+"</caption>\n"),r+='<tr><th class="'+s.CLASS_ACTIVE+'">ops</th>\n',r+='<th class="'+s.CLASS_EMPTY+'">EMPTY</th>\n',r+='<th class="'+s.CLASS_MATCH+'">MATCH</th>\n',r+='<th class="'+s.CLASS_NOMATCH+'">NOMATCH</th>\n',r+='<th class="'+s.CLASS_ACTIVE+'">totals</th></tr>\n';;){if(void 0===e){r+=y();break}if(null===e){r+=y();break}if("ops"===e){r+=y();break}if("index"===e){l.sort(h),c.length>0&&c.sort(h),r+=y(),r+=m();break}if("hits"===e){l.sort(p),c.length>0&&c.sort(h),r+=y(),r+=m();break}if("alpha"===e){l.sort(u),c.length>0&&c.sort(u),r+=y(),r+=m();break}break}return r+="</table>\n",r},this.toHtmlPage=function(e,t,r){return n.htmlToPage(this.toHtml(e,t),r)}}},{"./identifiers.js":45,"./style.js":49,"./utilities":51}],49:[function(e,t,r){t.exports={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}},{}],50:[function(e,t,r){t.exports=function(){"use strict";let t=this,r=16,n=80,s=e("./utilities.js"),i=e("./style.js"),o=new(e("./circular-buffer.js")),a=e("./identifiers.js"),l=[],c=5e3,u=-1,p=0,h=0,d=[],f=null,g=null,y=null,m=[],b=[],A='<span class="'+i.CLASS_LINEEND+'">&bull;</span>',E='<span class="'+i.CLASS_LINEEND+'">&hellip;</span>',T='<span class="'+i.CLASS_EMPTY+'">&#120634;</span>';this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(e,t){u=-1,"number"==typeof e&&e>0?(c=Math.ceil(e),"number"==typeof t&&(u=Math.floor(t),u<0&&(u=-1))):c=0},this.getMaxRecords=function(){return c},this.getLastRecord=function(){return u},this.init=function(e,r,n){l.length=0,d.length=0,p=0,h=0,f=n,g=e,y=r,function(){let e=function(e){m[a.ALT]=e,m[a.CAT]=e,m[a.REP]=e,m[a.TLS]=e,m[a.TBS]=e,m[a.TRG]=e,m[a.AND]=e,m[a.NOT]=e,m[a.BKR]=e,m[a.BKA]=e,m[a.BKN]=e,m[a.ABG]=e,m[a.AEN]=e},r=0;for(let e in t.filter.operators)r+=1;if(0!==r){for(let r in t.filter.operators){let t=r.toUpperCase();if("<ALL>"===t)return void e(!0);if("<NONE>"===t)return void e(!1)}e(!1);for(let e in t.filter.operators){let r=e.toUpperCase();if("ALT"===r)m[a.ALT]=!0===t.filter.operators[e];else if("CAT"===r)m[a.CAT]=!0===t.filter.operators[e];else if("REP"===r)m[a.REP]=!0===t.filter.operators[e];else if("AND"===r)m[a.AND]=!0===t.filter.operators[e];else if("NOT"===r)m[a.NOT]=!0===t.filter.operators[e];else if("TLS"===r)m[a.TLS]=!0===t.filter.operators[e];else if("TBS"===r)m[a.TBS]=!0===t.filter.operators[e];else if("TRG"===r)m[a.TRG]=!0===t.filter.operators[e];else if("BKR"===r)m[a.BKR]=!0===t.filter.operators[e];else if("BKA"===r)m[a.BKA]=!0===t.filter.operators[e];else if("BKN"===r)m[a.BKN]=!0===t.filter.operators[e];else if("ABG"===r)m[a.ABG]=!0===t.filter.operators[e];else{if("AEN"!==r)throw new Error("trace.js: initOpratorFilter: '"+e+"' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn");m[a.AEN]=!0===t.filter.operators[e]}}}else e(!1)}(),function(){let e,r,n=function(e){m[a.RNM]=e,m[a.UDT]=e;let t=g.length+y.length;b.length=0;for(let r=0;r<t;r+=1)b.push(e)},s=[];for(r=0;r<g.length;r+=1)s.push(g[r].lower);for(r=0;r<y.length;r+=1)s.push(y[r].lower);b.length=0,e=0;for(let r in t.filter.rules)e+=1;if(0!==e){for(let e in t.filter.rules){let t=e.toLowerCase();if("<all>"===t)return void n(!0);if("<none>"===t)return void n(!1)}n(!1),m[a.RNM]=!0,m[a.UDT]=!0;for(let e in t.filter.rules){let n=e.toLowerCase();if(r=s.indexOf(n),r<0)throw new Error("trace.js: initRuleFilter: '"+e+"' not a valid rule or udt name");b[r]=!0===t.filter.rules[e]}}else n(!0)}(),o.init(c)};let x=function(e){let t=!1;return t=e.type===a.RNM?!(!m[e.type]||!b[e.index]):e.type===a.UDT?!(!m[e.type]||!b[g.length+e.index]):m[e.type],t},w=function(e){return-1===u||e<=u};this.down=function(e,t,r,n,s,i){w(p)&&x(e)&&(d.push(p),l[o.increment()]={dirUp:!1,depth:h,thisLine:p,thatLine:void 0,opcode:e,state:t,phraseIndex:r,phraseLength:n,lookAnchor:s,lookAround:i},p+=1,h+=1)},this.up=function(e,t,r,n,s,i){if(w(p)&&x(e)){let a=p,c=d.pop(),u=o.getListIndex(c);-1!==u&&(l[u].thatLine=a),h-=1,l[o.increment()]={dirUp:!0,depth:h,thisLine:a,thatLine:c,opcode:e,state:t,phraseIndex:r,phraseLength:n,lookAnchor:s,lookAround:i},p+=1}};this.toTree=function(e){let t=function(){function e(e,t){if(t)switch(e.op={id:t.type,name:s.opcodeToString(t.type)},e.opData=void 0,t.type){case a.RNM:e.opData=g[t.index].name;break;case a.UDT:e.opData=y[t.index].name;break;case a.BKR:let r,n,s;r=t.index<g.length?g[t.index].name:y[t.index-g.length].name,n=t.bkrCase===a.BKR_MODE_CI?"%i":"%s",s=t.bkrMode===a.BKR_MODE_UM?"%u":"%p",e.opData="\\\\"+n+s+r;break;case a.TLS:e.opData=[];for(let r=0;r<t.string.length;r+=1)e.opData.push(t.string[r]);break;case a.TBS:e.opData=[];for(let r=0;r<t.string.length;r+=1)e.opData.push(t.string[r]);break;case a.TRG:case a.REP:e.opData=[t.min,t.max]}else e.op={id:void 0,name:void 0},e.opData=void 0}function t(e,t,r){return e===a.MATCH?{index:t,length:r}:e===a.NOMATCH||e===a.EMPTY?{index:t,length:0}:null}function r(r,n,i){let o={id:d++,branch:-1,parent:r,up:!1,down:!1,depth:i,children:[]};return n?(o.down=!0,o.state={id:n.state,name:s.stateToString(n.state)},o.phrase=null,e(o,n.opcode)):(o.state={id:void 0,name:void 0},o.phrase=t(),e(o,void 0)),o}function n(r,n){n&&(r.up=!0,r.state={id:n.state,name:s.stateToString(n.state)},r.phrase=t(n.state,n.phraseIndex,n.phraseLength),r.down||e(r,n.opcode))}let i,c,u,p,h,d=-1,m=[],b=!0;for(u=r(null,null,-1),m.push(u),c=u,o.forEach((function(e,t){if(h=l[e],b&&(b=!1,h.depth>0)){let e=h.dirUp?h.depth+1:h.depth;for(let t=0;t<e;t+=1)p=c,c=r(c,null,t),m.push(c),p.children.push(c)}h.dirUp?(c=m.pop(),n(c,h),c=m[m.length-1]):(p=c,c=r(c,h,h.depth),m.push(c),p.children.push(c))}));m.length>1;)c=m.pop(),n(c,null);if(0===u.children.length)throw new Error("trace.toTree(): parse tree has no nodes");if(0===m.length)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");i=u.children[0];let A=i;for(;i&&!i.down&&!i.up;)A=i,i=i.children[0];i=A;let E=0,T=0,x=-1,w=1;i.leftMost=!0,i.rightMost=!0,function e(t){if(x+=1,t.branch=w,x>E&&(E=x),0===t.children.length)T+=1;else for(let r=0;r<t.children.length;r+=1)r>0&&(w+=1),t.children[r].leftMost=!1,t.children[r].rightMost=!1,t.leftMost&&(t.children[r].leftMost=0===r),t.rightMost&&(t.children[r].rightMost=r===t.children.length-1),e(t.children[r]);x-=1}(i),i.branch=0;let S,k={string:[]};for(let e=0;e<f.length;e+=1)k.string[e]=f[e];k.rules=[];for(let e=0;e<g.length;e+=1)k.rules[e]=g[e].name;k.udts=[];for(let e=0;e<y.length;e+=1)k.udts[e]=y[e].name;return k.id={},k.id.ALT={id:a.ALT,name:"ALT"},k.id.CAT={id:a.CAT,name:"CAT"},k.id.REP={id:a.REP,name:"REP"},k.id.RNM={id:a.RNM,name:"RNM"},k.id.TLS={id:a.TLS,name:"TLS"},k.id.TBS={id:a.TBS,name:"TBS"},k.id.TRG={id:a.TRG,name:"TRG"},k.id.UDT={id:a.UDT,name:"UDT"},k.id.AND={id:a.AND,name:"AND"},k.id.NOT={id:a.NOT,name:"NOT"},k.id.BKR={id:a.BKR,name:"BKR"},k.id.BKA={id:a.BKA,name:"BKA"},k.id.BKN={id:a.BKN,name:"BKN"},k.id.ABG={id:a.ABG,name:"ABG"},k.id.AEN={id:a.AEN,name:"AEN"},k.id.ACTIVE={id:a.ACTIVE,name:"ACTIVE"},k.id.MATCH={id:a.MATCH,name:"MATCH"},k.id.EMPTY={id:a.EMPTY,name:"EMPTY"},k.id.NOMATCH={id:a.NOMATCH,name:"NOMATCH"},k.treeDepth=E,k.leafNodes=T,S=i.down?i.up?"none":"right":i.up?"left":"both",k.branchesIncomplete=S,k.tree=function e(t,r,n){let s,i={};if(i.id=t.id,i.branch=t.branch,i.leftMost=t.leftMost,i.rightMost=t.rightMost,s=t.state.name?t.state.name:"ACTIVE",i.state={id:t.state.id,name:s},s=t.op.name?t.op.name:"?",i.op={id:t.op.id,name:s},"string"==typeof t.opData)i.opData=t.opData;else if(Array.isArray(t.opData)){i.opData=[];for(let e=0;e<t.opData.length;e+=1)i.opData[e]=t.opData[e]}else i.opData=void 0;t.phrase?i.phrase={index:t.phrase.index,length:t.phrase.length}:i.phrase=null,i.depth=t.depth,i.children=[];for(let n=0;n<t.children.length;n+=1){let s=n!==t.children.length-1;i.children[n]=e(t.children[n],r,s)}return i}(i,i.depth),k}();return e?JSON.stringify(t):t},this.toHtml=function(e,t){let n=8;if("string"==typeof e&&e.length>=3){let t=e.toLowerCase().slice(0,3);"hex"===t?n=r:"dec"===t?n=10:"uni"===t&&(n=32)}let s="";return s+=S(n,t),s+=C(n),s+=k(),s},this.toHtmlPage=function(e,t,r){return s.htmlToPage(this.toHtml(e,t),r)};let S=function(e,t){let n;switch(e){case r:n="hexidecimal";break;case 10:n="decimal";break;case 8:n="ASCII";break;case 32:n="UNICODE";break;default:throw new Error("trace.js: htmlHeader: unrecognized mode: "+e)}let s="";return s+="<p>display mode: "+n+"</p>\n",s+='<table class="'+i.CLASS_TRACE+'">\n',"string"==typeof t&&(s+="<caption>"+t+"</caption>"),s},k=function(){let e="";return e+="</table>\n",e+='<p class="'+i.CLASS_MONOSPACE+'">legend:<br>\n',e+="(a)&nbsp;-&nbsp;line number<br>\n",e+="(b)&nbsp;-&nbsp;matching line number<br>\n",e+="(c)&nbsp;-&nbsp;phrase offset<br>\n",e+="(d)&nbsp;-&nbsp;phrase length<br>\n",e+="(e)&nbsp;-&nbsp;tree depth<br>\n",e+="(f)&nbsp;-&nbsp;operator state<br>\n",e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+i.CLASS_ACTIVE+'">&darr;</span>&nbsp;&nbsp;phrase opened<br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+i.CLASS_MATCH+'">&uarr;M</span> phrase matched<br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+i.CLASS_EMPTY+'">&uarr;E</span> empty phrase matched<br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+i.CLASS_NOMATCH+'">&uarr;N</span> phrase not matched<br>\n',e+="operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>\n",e+="phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to 80 characters of the phrase being matched<br>\n",e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+i.CLASS_MATCH+'">matched characters</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+i.CLASS_LOOKAHEAD+'">matched characters in look ahead mode</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+i.CLASS_LOOKBEHIND+'">matched characters in look behind mode</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+i.CLASS_REMAINDER+'">remainder characters(not yet examined by parser)</span><br>\n',e+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="'+i.CLASS_CTRLCHAR+'">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>\n',e+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;"+T+" empty string<br>\n",e+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;"+A+" end of input string<br>\n",e+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;"+E+" input string display truncated<br>\n",e+="</p>\n",e+='<p class="'+i.CLASS_MONOSPACE+'">\n',e+="<sup>&dagger;</sup>original ABNF operators:<br>\n",e+="ALT - alternation<br>\n",e+="CAT - concatenation<br>\n",e+="REP - repetition<br>\n",e+="RNM - rule name<br>\n",e+="TRG - terminal range<br>\n",e+="TLS - terminal literal string (case insensitive)<br>\n",e+="TBS - terminal binary string (case sensitive)<br>\n",e+="<br>\n",e+="<sup>&Dagger;</sup>super set SABNF operators:<br>\n",e+="UDT - user-defined terminal<br>\n",e+="AND - positive look ahead<br>\n",e+="NOT - negative look ahead<br>\n",e+="BKA - positive look behind<br>\n",e+="BKN - negative look behind<br>\n",e+="BKR - back reference<br>\n",e+="ABG - anchor - begin of input string<br>\n",e+="AEN - anchor - end of input string<br>\n",e+="</p>\n",e},C=function(e){if(null===g)return"";let r,n,c,u,p,h,d="";return d+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",d+="<th>operator</th><th>phrase</th></tr>\n",o.forEach((function(o,m){let b=l[o];switch(r=b.thisLine,n=void 0!==b.thatLine?b.thatLine:"--",c=!1,u=!1,p=!1,b.lookAround===a.LOOKAROUND_AHEAD&&(c=!0,p=!0,h=b.lookAnchor),b.opcode.type!==a.AND&&b.opcode.type!==a.NOT||(c=!0,p=!0,h=b.phraseIndex),b.lookAround===a.LOOKAROUND_BEHIND&&(u=!0,p=!0,h=b.lookAnchor),b.opcode.type!==a.BKA&&b.opcode.type!==a.BKN||(u=!0,p=!0,h=b.phraseIndex),d+="<tr>",d+="<td>"+r+"</td><td>"+n+"</td>",d+="<td>"+b.phraseIndex+"</td>",d+="<td>"+b.phraseLength+"</td>",d+="<td>"+b.depth+"</td>",d+="<td>",b.state){case a.ACTIVE:d+='<span class="'+i.CLASS_ACTIVE+'">&darr;&nbsp;</span>';break;case a.MATCH:d+='<span class="'+i.CLASS_MATCH+'">&uarr;M</span>';break;case a.NOMATCH:d+='<span class="'+i.CLASS_NOMATCH+'">&uarr;N</span>';break;case a.EMPTY:d+='<span class="'+i.CLASS_EMPTY+'">&uarr;E</span>';break;default:d+='<span class="'+i.CLASS_ACTIVE+'">--</span>'}if(d+="</td>",d+="<td>",d+=t.indent(b.depth),c?d+='<span class="'+i.CLASS_LOOKAHEAD+'">':u&&(d+='<span class="'+i.CLASS_LOOKBEHIND+'">'),d+=s.opcodeToString(b.opcode.type),b.opcode.type===a.RNM&&(d+="("+g[b.opcode.index].name+") "),b.opcode.type===a.BKR){let e=b.opcode.bkrCase===a.BKR_MODE_CI?"%i":"%s",t=b.opcode.bkrMode===a.BKR_MODE_UM?"%u":"%p";d+="(\\"+e+t+g[b.opcode.index].name+") "}b.opcode.type===a.UDT&&(d+="("+y[b.opcode.index].name+") "),b.opcode.type===a.TRG&&(d+="("+O(e,b.opcode)+") "),b.opcode.type===a.TBS&&(d+="("+B(e,b.opcode)+") "),b.opcode.type===a.TLS&&(d+="("+R(e,b.opcode)+") "),b.opcode.type===a.REP&&(d+="("+M(e,b.opcode)+") "),p&&(d+="</span>"),d+="</td>",d+="<td>",d+=u?v(e,f,b.state,b.phraseIndex,b.phraseLength,h):c?L(e,f,b.state,b.phraseIndex,b.phraseLength):N(e,f,b.state,b.phraseIndex,b.phraseLength),d+="</td></tr>\n"})),d+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",d+="<th>operator</th><th>phrase</th></tr>\n",d+="</table>\n",d};this.indent=function(e){let t="";for(let r=0;r<e;r+=1)t+=".";return t};let O=function(e,t){let n="";if(t.type===a.TRG)if(e===r||32===e){let s=t.min.toString(16).toUpperCase();s.length%2!=0&&(s="0"+s),n+=e===r?"%x":"U+",n+=s,s=t.max.toString(16).toUpperCase(),s.length%2!=0&&(s="0"+s),n+="&ndash;"+s}else n="%d"+t.min.toString(10)+"&ndash;"+t.max.toString(10);return n},M=function(e,t){let n="";if(t.type===a.REP)if(e===r){let e=t.min.toString(16).toUpperCase();e.length%2!=0&&(e="0"+e),n="x"+e,t.max<1/0?(e=t.max.toString(16).toUpperCase(),e.length%2!=0&&(e="0"+e)):e="inf",n+="&ndash;"+e}else n=t.max<1/0?t.min.toString(10)+"&ndash;"+t.max.toString(10):t.min.toString(10)+"&ndash;inf";return n},B=function(e,t){let n="";if(t.type===a.TBS){let s=Math.min(t.string.length,10);if(e===r||32===e){n+=e===r?"%x":"U+";for(let e=0;e<s;e+=1){let r;e>0&&(n+="."),r=t.string[e].toString(16).toUpperCase(),r.length%2!=0&&(r="0"+r),n+=r}}else{n="%d";for(let e=0;e<s;e+=1)e>0&&(n+="."),n+=t.string[e].toString(10)}s<t.string.length&&(n+=E)}return n},R=function(e,t){let n="";if(t.type===a.TLS){let i=Math.min(t.string.length,5);if(e===r||10===e){let s,o,a;e===r?(n="%x",a=16):(n="%d",a=10);for(let e=0;e<i;e+=1)e>0&&(n+="."),o=t.string[e],o>=97&&o<=122?(s=o-32,n+=(s.toString(a)+"/"+o.toString(a)).toUpperCase()):o>=65&&o<=90?(s=o,o+=32,n+=(s.toString(a)+"/"+o.toString(a)).toUpperCase()):n+=o.toString(a).toUpperCase();i<t.string.length&&(n+=E)}else{n='"';for(let e=0;e<i;e+=1)n+=s.asciiChars[t.string[e]];i<t.string.length&&(n+=E),n+='"'}}return n},v=function(e,t,r,s,o,l){let c,u,p,h,d="",f=A,g='<span class="'+i.CLASS_LOOKBEHIND+'">',y='<span class="'+i.CLASS_REMAINDER+'">',m="</span>",b=!1;switch(r){case a.EMPTY:d+=T;case a.NOMATCH:case a.MATCH:case a.ACTIVE:c=s-o,u=l-c,p=l,h=t.length-p}return f=A,u>n?(u=n,f=E,h=0):u+h>n&&(f=E,h=n-u),u>0&&(d+=g,d+=_(e,t,c,u,b),d+=m,b=!0),h>0&&(d+=y,d+=_(e,t,p,h,b),d+=m),d+f},L=function(e,t,r,n,s){let o='<span class="'+i.CLASS_LOOKAHEAD+'">';return P(e,t,r,n,s,o)},N=function(e,t,r,n,s){let o='<span class="'+i.CLASS_MATCH+'">';return P(e,t,r,n,s,o)},P=function(e,t,r,s,o,l){let c,u,p,h,d="",f=A,g='<span class="'+i.CLASS_REMAINDER+'">',y="</span>",m=!1;switch(r){case a.EMPTY:d+=T;case a.NOMATCH:case a.ACTIVE:c=s,u=0,p=s,h=t.length-p;break;case a.MATCH:c=s,u=o,p=s+u,h=t.length-p}return f=A,u>n?(u=n,f=E,h=0):u+h>n&&(f=E,h=n-u),u>0&&(d+=l,d+=_(e,t,c,u,m),d+=y,m=!0),h>0&&(d+=g,d+=_(e,t,p,h,m),d+=y),d+f},_=function(e,t,n,i,o){if(0===i)return"";let a="",l=o?",":"";switch(e){case r:a=l+s.charsToHex(t,n,i);break;case 10:if(o)return","+s.charsToDec(t,n,i);a=l+s.charsToDec(t,n,i);break;case 32:a=s.charsToUnicode(t,n,i);break;case 8:default:a=s.charsToAsciiHtml(t,n,i)}return a}}},{"./circular-buffer.js":43,"./identifiers.js":45,"./style.js":49,"./utilities.js":51}],51:[function(e,t,r){"use strict";let n="utilities.js: ",s=e("./style.js"),i=e("../apg-conv-api/converter.js"),o=this,a=function(e,t,r){let n;for(;;){if(e<=0){t=0,n=0;break}if("number"!=typeof t){t=0,n=e;break}if(t>=e){t=e,n=e;break}if("number"!=typeof r){n=e;break}if(n=t+r,n>e){n=e;break}break}return{beg:t,end:n}};r.htmlToPage=function(t,r){let n=e("./emitcss.js");if("string"!=typeof t)throw new Error("utilities.js: htmlToPage: input HTML is not a string");"string"!=typeof r&&(r="htmlToPage");let s="";return s+="<!DOCTYPE html>\n",s+='<html lang="en">\n',s+="<head>\n",s+='<meta charset="utf-8">\n',s+="<title>"+r+"</title>\n",s+="<style>\n",s+=n(),s+="</style>\n",s+="</head>\n<body>\n",s+="<p>"+new Date+"</p>\n",s+=t,s+="</body>\n</html>\n",s},r.parserResultToHtml=function(t,r){let n,i,o=e("./identifiers.js"),a=null;"string"==typeof r&&""!==r&&(a=r),n=!0===t.success?'<span class="'+s.CLASS_MATCH+'">true</span>':'<span class="'+s.CLASS_NOMATCH+'">false</span>',i=t.state===o.EMPTY?'<span class="'+s.CLASS_EMPTY+'">EMPTY</span>':t.state===o.MATCH?'<span class="'+s.CLASS_MATCH+'">MATCH</span>':t.state===o.NOMATCH?'<span class="'+s.CLASS_NOMATCH+'">NOMATCH</span>':'<span class="'+s.CLASS_NOMATCH+'">unrecognized</span>';let l="";return l+='<table class="'+s.CLASS_STATE+'">\n',a&&(l+="<caption>"+a+"</caption>\n"),l+="<tr><th>state item</th><th>value</th><th>description</th></tr>\n",l+="<tr><td>parser success</td><td>"+n+"</td>\n",l+='<td><span class="'+s.CLASS_MATCH+'">true</span> if the parse succeeded,\n',l+=' <span class="'+s.CLASS_NOMATCH+'">false</span> otherwise',l+="<br><i>NOTE: for success, entire string must be matched</i></td></tr>\n",l+="<tr><td>parser state</td><td>"+i+"</td>\n",l+='<td><span class="'+s.CLASS_EMPTY+'">EMPTY</span>, ',l+='<span class="'+s.CLASS_MATCH+'">MATCH</span> or \n',l+='<span class="'+s.CLASS_NOMATCH+'">NOMATCH</span></td></tr>\n',l+="<tr><td>string length</td><td>"+t.length+"</td><td>length of the input (sub)string</td></tr>\n",l+="<tr><td>matched length</td><td>"+t.matched+"</td><td>number of input string characters matched</td></tr>\n",l+="<tr><td>max matched</td><td>"+t.maxMatched+"</td><td>maximum number of input string characters matched</td></tr>\n",l+="<tr><td>max tree depth</td><td>"+t.maxTreeDepth+"</td><td>maximum depth of the parse tree reached</td></tr>\n",l+="<tr><td>node hits</td><td>"+t.nodeHits+"</td><td>number of parse tree node hits (opcode function calls)</td></tr>\n",l+="<tr><td>input length</td><td>"+t.inputLength+"</td><td>length of full input string</td></tr>\n",l+="<tr><td>sub-string begin</td><td>"+t.subBegin+"</td><td>sub-string first character index</td></tr>\n",l+="<tr><td>sub-string end</td><td>"+t.subEnd+"</td><td>sub-string end-of-string index</td></tr>\n",l+="<tr><td>sub-string length</td><td>"+t.subLength+"</td><td>sub-string length</td></tr>\n",l+="</table>\n",l},r.charsToString=function(e,t,r){let n,s;if("number"==typeof t){if(t>=e.length)return"";n=t<0?0:t}else n=0;if("number"==typeof r){if(r<=0)return"";s=r>e.length-n?e.length:n+r}else s=e.length;return n<s?i.encode("UTF16LE",e.slice(n,s)).toString("utf16le"):""},r.stringToChars=function(e){return i.decode("STRING",e)},r.opcodeToString=function(t){let r=e("./identifiers.js"),n="unknown";switch(t){case r.ALT:n="ALT";break;case r.CAT:n="CAT";break;case r.RNM:n="RNM";break;case r.UDT:n="UDT";break;case r.AND:n="AND";break;case r.NOT:n="NOT";break;case r.REP:n="REP";break;case r.TRG:n="TRG";break;case r.TBS:n="TBS";break;case r.TLS:n="TLS";break;case r.BKR:n="BKR";break;case r.BKA:n="BKA";break;case r.BKN:n="BKN";break;case r.ABG:n="ABG";break;case r.AEN:n="AEN"}return n},r.stateToString=function(t){let r=e("./identifiers.js"),n="unknown";switch(t){case r.ACTIVE:n="ACTIVE";break;case r.MATCH:n="MATCH";break;case r.EMPTY:n="EMPTY";break;case r.NOMATCH:n="NOMATCH"}return n},r.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],r.charToHex=function(e){let t=e.toString(16).toUpperCase();switch(t.length){case 1:case 3:case 7:t="0"+t;break;case 6:t="00"+t;break;case 5:t="000"+t}return t},r.charsToDec=function(e,t,r){let s="";if(!Array.isArray(e))throw new Error(n+"charsToDec: input must be an array of integers");let i=a(e.length,t,r);if(i.end>i.beg){s+=e[i.beg];for(let t=i.beg+1;t<i.end;t+=1)s+=","+e[t]}return s},r.charsToHex=function(e,t,r){let s="";if(!Array.isArray(e))throw new Error(n+"charsToHex: input must be an array of integers");let i=a(e.length,t,r);if(i.end>i.beg){s+="\\x"+o.charToHex(e[i.beg]);for(let t=i.beg+1;t<i.end;t+=1)s+=",\\x"+o.charToHex(e[t])}return s},r.charsToHtmlEntities=function(e,t,r){let s="";if(!Array.isArray(e))throw new Error(n+"charsToHex: input must be an array of integers");let i=a(e.length,t,r);if(i.end>i.beg)for(let t=i.beg;t<i.end;t+=1)s+="&#x"+e[t].toString(16)+";";return s},r.charsToUnicode=function(e,t,r){let s="";if(!Array.isArray(e))throw new Error(n+"charsToUnicode: input must be an array of integers");let i=a(e.length,t,r);if(i.end>i.beg)for(let t=i.beg;t<i.end;t+=1)s+=(l=e[t])>=55296&&l<=57343||l>1114111?" U+"+o.charToHex(e[t]):"&#"+e[t]+";";var l;return s},r.charsToJsUnicode=function(e,t,r){let s="";if(!Array.isArray(e))throw new Error(n+"charsToJsUnicode: input must be an array of integers");let i=a(e.length,t,r);if(i.end>i.beg){s+="\\u"+o.charToHex(e[i.beg]);for(let t=i.beg+1;t<i.end;t+=1)s+=",\\u"+o.charToHex(e[t])}return s},r.charsToAscii=function(e,t,r){let s="";if(!Array.isArray(e))throw new Error(n+"charsToAscii: input must be an array of integers");let i=a(e.length,t,r);for(let t=i.beg;t<i.end;t+=1){let r=e[t];s+=r>=32&&r<=126?String.fromCharCode(r):"\\x"+o.charToHex(r)}return s},r.charsToAsciiHtml=function(e,t,r){if(!Array.isArray(e))throw new Error(n+"charsToAsciiHtml: input must be an array of integers");let i,l="",c=a(e.length,t,r);for(let t=c.beg;t<c.end;t+=1)i=e[t],l+=i<32||127===i?'<span class="'+s.CLASS_CTRLCHAR+'">'+o.asciiChars[i]+"</span>":i>127?'<span class="'+s.CLASS_CTRLCHAR+'">U+'+o.charToHex(i)+"</span>":o.asciiChars[i];return l},r.stringToAsciiHtml=function(e){let t=i.decode("STRING",e);return this.charsToAsciiHtml(t)}},{"../apg-conv-api/converter.js":39,"./emitcss.js":44,"./identifiers.js":45,"./style.js":49}]},{},[38]);
